// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function q(){return function(){}}function aa(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function v(a){return function(){return a}}var y,I,ba,ca,J,da,ea,fa,ga,ia,ja,ka,la,ma,oa,pa,qa,ra,K,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,c,b,d){this.set(a,c,b,d)}function b(){this.Uc=this.Tc=this.Wc=this.Vc=this.fd=this.ed=this.lc=this.kc=0}function c(){h?this.Of=new Set:(this.ng={},this.Vi=0);this.sh=[];this.Jh=!0}function d(a){k[l++]=a}function e(){this.Mc=this.kn=this.y=this.q=0}function f(a){this.Ym=[];this.al(a)}I=function(a){window.console&&window.console.log&&window.console.log(a)};ba=function(a){return"undefined"===typeof a};ca=function(a){return"number"===typeof a};J=function(a){return"string"===typeof a};
da=function(a){return 0<a&&0===(a-1&a)};ea=function(a){return 0>a?-a:a};fa=function(a,c){return a>c?a:c};ga=function(a,c){return a<c?a:c};ia=Math.PI;ja=function(a){return a|0};ka=function(a,c,b,d,g,e,h,k){if(fa(a,b)<ga(g,h)||ga(a,b)>fa(g,h)||fa(c,d)<ga(e,k)||ga(c,d)>fa(e,k))return!1;var l=g-a+h-b,f=e-c+k-d;a=b-a;c=d-c;g=h-g;e=k-e;k=ea(c*g-e*a);return ea(g*f-e*l)<=k&&ea(a*f-c*l)<=k};a.prototype.set=function(a,c,b,d){this.left=a;this.top=c;this.right=b;this.bottom=d};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};a.prototype.Ni=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};la=a;b.prototype.iq=function(a){this.kc=a.left;this.lc=a.top;this.ed=a.right;this.fd=a.top;this.Vc=a.right;this.Wc=a.bottom;this.Tc=a.left;this.Uc=a.bottom};b.prototype.Jt=function(a,c){if(0===c)this.iq(a);else{var b=Math.sin(c),d=Math.cos(c),
g=a.left*b,e=a.top*b,h=a.right*b,b=a.bottom*b,k=a.left*d,l=a.top*d,f=a.right*d,d=a.bottom*d;this.kc=k-e;this.lc=l+g;this.ed=f-e;this.fd=l+h;this.Vc=f-b;this.Wc=d+h;this.Tc=k-b;this.Uc=d+g}};b.prototype.offset=function(a,c){this.kc+=a;this.lc+=c;this.ed+=a;this.fd+=c;this.Vc+=a;this.Wc+=c;this.Tc+=a;this.Uc+=c;return this};b.prototype.Lr=function(a){a.left=ga(ga(this.kc,this.ed),ga(this.Vc,this.Tc));a.top=ga(ga(this.lc,this.fd),ga(this.Wc,this.Uc));a.right=fa(fa(this.kc,this.ed),fa(this.Vc,this.Tc));
a.bottom=fa(fa(this.lc,this.fd),fa(this.Wc,this.Uc))};b.prototype.Ni=function(a,c){var b=this.ed-this.kc,d=this.fd-this.lc,g=this.Vc-this.kc,e=this.Wc-this.lc,h=a-this.kc,k=c-this.lc,l=b*b+d*d,f=b*g+d*e,d=b*h+d*k,m=g*g+e*e,A=g*h+e*k,C=1/(l*m-f*f),b=(m*d-f*A)*C,l=(l*A-f*d)*C;if(0<=b&&0<l&&1>b+l)return!0;b=this.Tc-this.kc;d=this.Uc-this.lc;l=b*b+d*d;f=b*g+d*e;d=b*h+d*k;C=1/(l*m-f*f);b=(m*d-f*A)*C;l=(l*A-f*d)*C;return 0<=b&&0<l&&1>b+l};b.prototype.Ok=function(){return(this.kc+this.ed+this.Vc+this.Tc)/
4};b.prototype.Pk=function(){return(this.lc+this.fd+this.Wc+this.Uc)/4};ma=b;oa=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};pa=function(a,c){var b,d;c=ja(c);if(!(0>c||c>=a.length))if(0===c)a.shift();else if(c===a.length-1)a.pop();else{b=c;for(d=a.length-1;b<d;b++)a[b]=a[b+1];a.length=d}};qa=function(a,c){a.length=c.length;var b,d;b=0;for(d=c.length;b<d;b++)a[b]=c[b]};ra=function(a,c){var b=a.indexOf(c);-1!==b&&pa(a,b)};K=function(a){return a/(180/ia)};sa=function(a){return a*
(180/ia)};ta=function(a){a%=360;0>a&&(a+=360);return a};ua=function(a){a%=2*ia;0>a&&(a+=2*ia);return a};va=function(a){return ta(sa(a))};wa=function(a){return ua(K(a))};xa=function(a,c,b,d){return Math.atan2(d-c,b-a)};ya=function(a,c){if(a===c)return 0;var b=Math.sin(a),d=Math.cos(a),g=Math.sin(c),e=Math.cos(c),b=b*g+d*e;return 1<=b?0:-1>=b?ia:Math.acos(b)};za=function(a,c,b){var d=Math.sin(a),g=Math.cos(a),e=Math.sin(c),h=Math.cos(c);return Math.acos(d*e+g*h)>b?0<g*e-d*h?ua(a+b):ua(a-b):ua(c)};Aa=
function(a,c){var b=Math.sin(a),d=Math.cos(a),g=Math.sin(c),e=Math.cos(c);return 0>=d*g-b*e};Ba=function(a,c,b,d){a=b-a;c=d-c;return Math.sqrt(a*a+c*c)};Ca=function(a,c){return!a!==!c};Da=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Ea=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var g=+new Date;Fa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();
if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-g};var h="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;c.prototype.contains=function(a){return h?this.Of.has(a):this.ng.hasOwnProperty(a.toString())};c.prototype.add=function(a){if(h)this.Of.has(a)||(this.Of.add(a),this.Jh=!1);else{var c=a.toString();this.ng.hasOwnProperty(c)||(this.ng[c]=a,this.Vi++,this.Jh=!1)}return this};c.prototype.remove=function(a){h?this.Of.has(a)&&(this.Of["delete"](a),this.Jh=!1):(a=
a.toString(),this.ng.hasOwnProperty(a)&&(delete this.ng[a],this.Vi--,this.Jh=!1));return this};c.prototype.clear=function(){h?this.Of.clear():(Ea(this.ng),this.Vi=0);this.sh.length=0;this.Jh=!0;return this};c.prototype.qk=function(){return h?0===this.Of.size:0===this.Vi};c.prototype.count=function(){return h?this.Of.size:this.Vi};var k=null,l=0;c.prototype.$t=function(){if(!this.Jh){if(h)this.sh.length=this.Of.size,k=this.sh,l=0,this.Of.forEach(d),k=null,l=0;else{this.sh.length=this.Vi;var a,c=0;
for(a in this.ng)this.ng.hasOwnProperty(a)&&(this.sh[c++]=this.ng[a])}this.Jh=!0}};c.prototype.Zy=function(){this.$t();return this.sh.slice(0)};c.prototype.vi=function(){this.$t();return this.sh};Ga=c;e.prototype.add=function(a){this.y=a-this.q;this.kn=this.Mc+this.y;this.q=this.kn-this.Mc-this.y;this.Mc=this.kn};e.prototype.reset=function(){this.Mc=this.kn=this.y=this.q=0};Ha=e;Ia=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.al=function(a){this.xt=a;this.Qp=a.length/
2;this.Ym.length=a.length;this.Or=this.Qr=-1;this.Nr=0};f.prototype.Js=function(){return!this.xt.length};f.prototype.Pr=function(a,c,b){if(this.Qr!==a||this.Or!==c||this.Nr!==b){this.Qr=a;this.Or=c;this.Nr=b;var d,g,e,h=0,k=1,l=this.xt,f=this.Ym;0!==b&&(h=Math.sin(b),k=Math.cos(b));b=0;for(d=this.Qp;b<d;b++)g=l[2*b]*a,e=l[2*b+1]*c,f[2*b]=g*k-e*h,f[2*b+1]=e*k+g*h}};f.prototype.Ni=function(a,c){var b=this.Ym;if(a===b[0]&&c===b[1])return!0;var d,g,e,h=this.Qp,k=b[0],l=k,f=b[1],m=f;for(d=1;d<h;d++)g=
b[2*d],e=b[2*d+1],g<k&&(k=g),g>l&&(l=g),e<f&&(f=e),e>m&&(m=e);g=k-110;var f=f-101,l=l+131,m=m+120,A,C,w=0,F=0;for(d=0;d<h;d++)e=b[2*d],k=b[2*d+1],A=b[2*((d+1)%h)],C=b[2*((d+1)%h)+1],ka(g,f,a,c,e,k,A,C)&&w++,ka(l,m,a,c,e,k,A,C)&&F++;return 1===w%2||1===F%2};La=f;var m="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ma=function(a){return 0>=a||11<=a?"source-over":m[a-1]};Na=function(a,c,b){if(b)switch(a.Lc=b.ONE,a.Fc=b.ONE_MINUS_SRC_ALPHA,
c){case 1:a.Lc=b.ONE;a.Fc=b.ONE;break;case 3:a.Lc=b.ONE;a.Fc=b.ZERO;break;case 4:a.Lc=b.ONE_MINUS_DST_ALPHA;a.Fc=b.ONE;break;case 5:a.Lc=b.DST_ALPHA;a.Fc=b.ZERO;break;case 6:a.Lc=b.ZERO;a.Fc=b.SRC_ALPHA;break;case 7:a.Lc=b.ONE_MINUS_DST_ALPHA;a.Fc=b.ZERO;break;case 8:a.Lc=b.ZERO;a.Fc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Lc=b.DST_ALPHA;a.Fc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Lc=b.ONE_MINUS_DST_ALPHA,a.Fc=b.SRC_ALPHA}};Oa=function(a){return Math.round(1E6*a)/1E6};Pa=function(a,b){return"string"!==
typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()}})();var hb="undefined"!==typeof Float32Array?Float32Array:Array;function ib(a){var b=new hb(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function jb(a){var b=new hb(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function kb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function lb(a,b){var c=b[0],d=b[1];b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function mb(a,b,c,d){d||(d=jb());var e,f,g,h,k,l,m,n,p=a[0],u=a[1];a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];l=b[2];p===b[0]&&u===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=p-b[0],l=u-b[1],m=a-b[2],n=1/Math.sqrt(c*c+l*l+m*m),c*=n,l*=n,m*=n,b=g*m-e*l,e=e*c-f*m,f=f*l-g*c,(n=Math.sqrt(b*b+e*e+f*f))?(n=1/n,b*=n,e*=n,f*=n):f=e=b=0,g=l*f-m*e,h=m*b-c*f,k=c*e-l*b,(n=Math.sqrt(g*g+h*h+k*k))?(n=1/n,g*=n,h*=n,k*=n):k=h=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=h,d[6]=l,d[7]=0,d[8]=f,d[9]=k,d[10]=m,d[11]=0,d[12]=-(b*p+e*u+f*a),d[13]=-(g*p+h*u+k*a),d[14]=-(c*p+l*u+m*a),d[15]=1)}
(function(){function a(a){this.height=this.width=0;this.Rr=ib([0,0,100]);this.Ws=ib([0,0,0]);this.Zt=ib([0,1,0]);this.Fq=ib([1,1,1]);this.Ep=jb();this.ye=jb();this.Ps=jb();this.oo=jb();this.ba=a;this.Ds()}function b(a,b,c){this.ba=a;this.bl=b;this.name=c;this.ue=a.getAttribLocation(b,"aPos");this.ah=a.getAttribLocation(b,"aTex");this.Us=a.getUniformLocation(b,"matP");this.dj=a.getUniformLocation(b,"matMV");this.ej=a.getUniformLocation(b,"opacity");this.Vs=a.getUniformLocation(b,"samplerFront");this.Hm=
a.getUniformLocation(b,"samplerBack");this.cj=a.getUniformLocation(b,"destStart");this.bj=a.getUniformLocation(b,"destEnd");this.lp=a.getUniformLocation(b,"seconds");this.kp=a.getUniformLocation(b,"pixelWidth");this.jp=a.getUniformLocation(b,"pixelHeight");this.ip=a.getUniformLocation(b,"layerScale");this.ej&&a.uniform1f(this.ej,1);this.Vs&&a.uniform1i(this.Vs,0);this.Hm&&a.uniform1i(this.Hm,1);this.cj&&a.uniform2f(this.cj,0,0);this.bj&&a.uniform2f(this.bj,1,1);this.Th=!1}function c(a,b){this.type=
a;this.X=b;this.ba=b.ba;this.wf=this.Ce=this.nt=0;this.ia=this.ri=null;this.jq=[]}function d(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1}a.prototype.Ds=function(){var a=this.ba,b;this.Qs=1;this.Yh=null;this.as=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Rs=a.ONE;this.Os=a.ONE_MINUS_SRC_ALPHA;this.Lp=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Lp);this.jl=Array(4);this.el=
Array(4);for(b=0;4>b;b++)this.jl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.jl[b]),this.el[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.el[b]);this.fg=0;this.xx=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.xx);this.Eq=new Float32Array(16E3);this.pq=new Float32Array(16E3);this.xy=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Mp=
this.Tf=0;this.jc=[];b=this.no({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.jc.push(b);
b=this.no({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.jc.push(b);for(var e in nb)nb.hasOwnProperty(e)&&this.jc.push(this.no(nb[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Pg=[];this.bg=0;this.Cd=!1;this.bs=this.wk=-1;this.dk=null;this.Mw=a.createFramebuffer();this.Ct=null;this.qh=ib([0,0,0]);this.Pf(0)};a.prototype.no=function(a,c,d){var e=this.ba,f=e.createShader(e.FRAGMENT_SHADER);
e.shaderSource(f,a.src);e.compileShader(f);if(!e.getShaderParameter(f,e.COMPILE_STATUS))return e.deleteShader(f),null;var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,c);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS))return e.deleteShader(f),e.deleteShader(n),null;c=e.createProgram();e.attachShader(c,f);e.attachShader(c,n);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(f),e.deleteShader(n),e.deleteProgram(c),null;e.useProgram(c);e.deleteShader(f);
e.deleteShader(n);d=new b(e,c,d);d.uo=a.uo||0;d.vo=a.vo||0;d.Zr=!!a.Zr;d.Er=!!a.Er;d.da=a.da||[];a=0;for(f=d.da.length;a<f;a++)d.da[a][1]=e.getUniformLocation(c,d.da[a][0]),e.uniform1f(d.da[a][1],0);return d};a.prototype.Go=function(a){var b,c;b=0;for(c=this.jc.length;b<c;b++)if(this.jc[b].name===a)return b;return-1};a.prototype.wt=function(a,b,c){var d=[0,0,this.width,this.height],e=this.ye,n=this.Ep,p=[0,0,0,0,0,0,0,0];p[0]=e[0]*a+e[4]*b+e[12];p[1]=e[1]*a+e[5]*b+e[13];p[2]=e[2]*a+e[6]*b+e[14];p[3]=
e[3]*a+e[7]*b+e[15];p[4]=n[0]*p[0]+n[4]*p[1]+n[8]*p[2]+n[12]*p[3];p[5]=n[1]*p[0]+n[5]*p[1]+n[9]*p[2]+n[13]*p[3];p[6]=n[2]*p[0]+n[6]*p[1]+n[10]*p[2]+n[14]*p[3];p[7]=-p[2];0!==p[7]&&(p[7]=1/p[7],p[4]*=p[7],p[5]*=p[7],p[6]*=p[7],c[0]=(0.5*p[4]+0.5)*d[2]+d[0],c[1]=(0.5*p[5]+0.5)*d[3]+d[1])};a.prototype.hq=function(a,b,c){if(this.width!==a||this.height!==b||c){this.Tg();this.width=a;this.height=b;this.ba.viewport(0,0,a,b);b=a/b;var d=this.Ep,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=jb());var n=
b-a,p=e-c;d[0]=2/n;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/p;d[6]=0;d[7]=0;d[8]=(b+a)/n;d[9]=(e+c)/p;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;mb(this.Rr,this.Ws,this.Zt,this.ye);a=[0,0];b=[0,0];this.wt(0,0,a);this.wt(1,1,b);this.Fq[0]=1/(b[0]-a[0]);this.Fq[1]=-1/(b[1]-a[1]);a=0;for(b=this.jc.length;a<b;a++)c=this.jc[a],c.Th=!1,c.Us&&(this.ba.useProgram(c.bl),this.ba.uniformMatrix4fv(c.Us,!1,this.Ep));this.ba.useProgram(this.jc[this.wk].bl);this.ba.bindTexture(this.ba.TEXTURE_2D,
null);this.Yh=null}};a.prototype.Mf=function(){mb(this.Rr,this.Ws,this.Zt,this.ye);lb(this.ye,this.Fq)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.qh[0]=a;this.qh[1]=b;this.qh[2]=0;var c=this.ye,d=this.qh,e=d[0],n=d[1],d=d[2];c[12]=c[0]*e+c[4]*n+c[8]*d+c[12];c[13]=c[1]*e+c[5]*n+c[9]*d+c[13];c[14]=c[2]*e+c[6]*n+c[10]*d+c[14];c[15]=c[3]*e+c[7]*n+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.qh[0]=a,this.qh[1]=b,this.qh[2]=1,lb(this.ye,this.qh)};a.prototype.$p=function(a){if(0!==
a){var b=this.ye,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],n=b[1],p=b[2],f=b[3],r=b[4],s=b[5],x=b[6],z=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=n*a+s*d;c[2]=p*a+x*d;c[3]=f*a+z*d;c[4]=e*-d+r*a;c[5]=n*-d+s*a;c[6]=p*-d+x*a;c[7]=f*-d+z*a}};a.prototype.Sf=function(){for(var a=!1,b=0;16>b;b++)if(this.Ps[b]!==this.ye[b]){a=!0;break}a&&(a=this.cf(),a.type=5,a.ia?kb(this.ye,a.ia):a.ia=jb(this.ye),kb(this.ye,this.Ps),this.Cd=
!1)};c.prototype.bw=function(){this.ba.bindTexture(this.ba.TEXTURE_2D,this.ri)};c.prototype.Zv=function(){var a=this.nt,b=this.X;b.as=a;b=b.dk;b.ej&&this.ba.uniform1f(b.ej,a)};c.prototype.Wv=function(){this.ba.drawElements(this.ba.TRIANGLES,this.wf,this.ba.UNSIGNED_SHORT,2*this.Ce)};c.prototype.Yv=function(){this.ba.blendFunc(this.Ce,this.wf)};c.prototype.cw=function(){var a,b,c,d=this.X.jc,e=this.X.bs;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.dj?(this.ba.uniformMatrix4fv(c.dj,!1,this.ia),c.Th=!0):
c.Th=!1;kb(this.ia,this.X.oo)};c.prototype.Xv=function(){var a=this.ba,b=this.X;this.ri?(a.bindFramebuffer(a.FRAMEBUFFER,b.Mw),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ri,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};c.prototype.Rv=function(){var a=this.ba;0===this.Ce?(a.clearColor(this.ia[0],this.ia[1],this.ia[2],this.ia[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ia[0],
this.ia[1],this.ia[2],this.ia[3]),a.clearColor(0,0,0,0),a.clear(this.ba.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};c.prototype.Vv=function(){var a=this.ba,b=this.X,c=b.jc[1];a.useProgram(c.bl);!c.Th&&c.dj&&(a.uniformMatrix4fv(c.dj,!1,b.oo),c.Th=!0);a.enableVertexAttribArray(c.ue);a.bindBuffer(a.ARRAY_BUFFER,b.Lp);a.vertexAttribPointer(c.ue,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ce/4,this.wf);c=b.dk;a.useProgram(c.bl);0<=c.ue&&(a.enableVertexAttribArray(c.ue),a.bindBuffer(a.ARRAY_BUFFER,b.jl[b.fg]),
a.vertexAttribPointer(c.ue,2,a.FLOAT,!1,0,0));0<=c.ah&&(a.enableVertexAttribArray(c.ah),a.bindBuffer(a.ARRAY_BUFFER,b.el[b.fg]),a.vertexAttribPointer(c.ah,2,a.FLOAT,!1,0,0))};c.prototype.$v=function(){var a=this.ba,b=this.X,c=b.jc[this.Ce];b.bs=this.Ce;b.dk=c;a.useProgram(c.bl);!c.Th&&c.dj&&(a.uniformMatrix4fv(c.dj,!1,b.oo),c.Th=!0);c.ej&&a.uniform1f(c.ej,b.as);0<=c.ue&&(a.enableVertexAttribArray(c.ue),a.bindBuffer(a.ARRAY_BUFFER,b.jl[b.fg]),a.vertexAttribPointer(c.ue,2,a.FLOAT,!1,0,0));0<=c.ah&&
(a.enableVertexAttribArray(c.ah),a.bindBuffer(a.ARRAY_BUFFER,b.el[b.fg]),a.vertexAttribPointer(c.ah,2,a.FLOAT,!1,0,0))};c.prototype.aw=function(){var a,b,c=this.X.dk,d=this.ba;c.Hm&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.ri),d.activeTexture(d.TEXTURE0));c.kp&&d.uniform1f(c.kp,this.ia[0]);c.jp&&d.uniform1f(c.jp,this.ia[1]);c.cj&&d.uniform2f(c.cj,this.ia[2],this.ia[3]);c.bj&&d.uniform2f(c.bj,this.ia[4],this.ia[5]);c.ip&&d.uniform1f(c.ip,this.ia[6]);c.lp&&d.uniform1f(c.lp,Fa()/
1E3);if(c.da.length)for(a=0,b=c.da.length;a<b;a++)d.uniform1f(c.da[a][1],this.jq[a])};a.prototype.cf=function(){this.bg===this.Pg.length&&this.Pg.push(new c(0,this));return this.Pg[this.bg++]};a.prototype.Tg=function(){if(0!==this.bg&&!this.ba.isContextLost()){var a=this.ba;0<this.Mp&&(a.bindBuffer(a.ARRAY_BUFFER,this.Lp),a.bufferData(a.ARRAY_BUFFER,this.xy.subarray(0,this.Mp),a.STREAM_DRAW),b&&0<=b.ue&&"<point>"===b.name&&a.vertexAttribPointer(b.ue,4,a.FLOAT,!1,0,0));if(0<this.Tf){var b=this.dk;
a.bindBuffer(a.ARRAY_BUFFER,this.jl[this.fg]);a.bufferData(a.ARRAY_BUFFER,this.Eq.subarray(0,this.Tf),a.STREAM_DRAW);b&&0<=b.ue&&"<point>"!==b.name&&a.vertexAttribPointer(b.ue,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.el[this.fg]);a.bufferData(a.ARRAY_BUFFER,this.pq.subarray(0,this.Tf),a.STREAM_DRAW);b&&0<=b.ah&&"<point>"!==b.name&&a.vertexAttribPointer(b.ah,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.bg;a<b;a++)switch(c=this.Pg[a],c.type){case 1:c.Wv();break;case 2:c.bw();break;case 3:c.Zv();
break;case 4:c.Yv();break;case 5:c.cw();break;case 6:c.Xv();break;case 7:c.Rv();break;case 8:c.Vv();break;case 9:c.$v();break;case 10:c.aw()}this.Mp=this.Tf=this.bg=0;this.Cd=!1;this.fg++;4<=this.fg&&(this.fg=0)}};a.prototype.qi=function(a){if(a!==this.Qs){var b=this.cf();b.type=3;this.Qs=b.nt=a;this.Cd=!1}};a.prototype.ge=function(a){if(a!==this.Yh){var b=this.cf();b.type=2;this.Yh=b.ri=a;this.Cd=!1}};a.prototype.lh=function(a,b){if(a!==this.Rs||b!==this.Os){var c=this.cf();c.type=4;c.Ce=a;c.wf=
b;this.Rs=a;this.Os=b;this.Cd=!1}};a.prototype.It=function(){this.lh(this.ba.ONE,this.ba.ONE_MINUS_SRC_ALPHA)};a.prototype.Zm=function(a,b,c,d,e,n,p,f){15992<=this.Tf&&this.Tg();var r=this.Tf,s=this.Eq,x=this.pq;if(this.Cd)this.Pg[this.bg-1].wf+=6;else{var z=this.cf();z.type=1;z.Ce=3*(r/4);z.wf=6;this.Cd=!0}s[r]=a;x[r++]=0;s[r]=b;x[r++]=0;s[r]=c;x[r++]=1;s[r]=d;x[r++]=0;s[r]=e;x[r++]=1;s[r]=n;x[r++]=1;s[r]=p;x[r++]=0;s[r]=f;x[r++]=1;this.Tf=r};a.prototype.Jf=function(a,b,c,d,e,n,p,f,r){15992<=this.Tf&&
this.Tg();var s=this.Tf,x=this.Eq,z=this.pq;if(this.Cd)this.Pg[this.bg-1].wf+=6;else{var B=this.cf();B.type=1;B.Ce=3*(s/4);B.wf=6;this.Cd=!0}x[s]=a;z[s++]=r.left;x[s]=b;z[s++]=r.top;x[s]=c;z[s++]=r.right;x[s]=d;z[s++]=r.top;x[s]=e;z[s++]=r.right;x[s]=n;z[s++]=r.bottom;x[s]=p;z[s++]=r.left;x[s]=f;z[s++]=r.bottom;this.Tf=s};a.prototype.Pf=function(a){if(this.wk!==a){if(!this.jc[a]){if(0===this.wk)return;a=0}var b=this.cf();b.type=9;this.wk=b.Ce=a;this.Cd=!1}};a.prototype.Xk=function(a){a=this.jc[a];
return!(!a.cj&&!a.bj)};a.prototype.Pp=function(a){return this.jc[a].Zr};a.prototype.By=function(a){a=this.jc[a];return 0!==a.uo||0!==a.vo};a.prototype.Zw=function(a){return this.jc[a].uo};a.prototype.$w=function(a){return this.jc[a].vo};a.prototype.ax=function(a,b){return this.jc[a].da[b][2]};a.prototype.Xm=function(a){return this.jc[a].Er};a.prototype.vj=function(a,b,c,d,e,n,p,f,r){var s=this.jc[this.wk];if(s.kp||s.jp||s.lp||s.Hm||s.cj||s.bj||s.ip||r.length){s=this.cf();s.type=10;s.ia?kb(this.ye,
s.ia):s.ia=jb();s.ia[0]=b;s.ia[1]=c;s.ia[2]=d;s.ia[3]=e;s.ia[4]=n;s.ia[5]=p;s.ia[6]=f;s.ri=a;if(r.length)for(s.jq.length=r.length,a=0,b=r.length;a<b;a++)s.jq[a]=r[a];this.Cd=!1}};a.prototype.clear=function(a,b,c,d){var e=this.cf();e.type=7;e.Ce=0;e.ia||(e.ia=jb());e.ia[0]=a;e.ia[1]=b;e.ia[2]=c;e.ia[3]=d;this.Cd=!1};a.prototype.clearRect=function(a,b,c,d){var e=this.cf();e.type=7;e.Ce=1;e.ia||(e.ia=jb());e.ia[0]=a;e.ia[1]=b;e.ia[2]=c;e.ia[3]=d;this.Cd=!1};a.prototype.Ay=function(){this.Tg();this.ba.flush()};
var e=[],f={};a.prototype.Fm=function(a,b,c,l){b=!!b;c=!!c;var m=a.src+","+b+","+c+(b?",undefined":""),n=null;if("undefined"!==typeof a.src&&f.hasOwnProperty(m))return n=f[m],n.Rl++,n;this.Tg();var p=this.ba,u=da(a.width)&&da(a.height),n=p.createTexture();p.bindTexture(p.TEXTURE_2D,n);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=p.RGBA,s=p.RGBA,x=p.UNSIGNED_BYTE;if(l)switch(l){case 1:s=r=p.RGB;break;case 2:x=p.UNSIGNED_SHORT_4_4_4_4;break;case 3:x=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=
r=p.RGB,x=p.UNSIGNED_SHORT_5_6_5}!u&&b?(l=document.createElement("canvas"),l.width=d(a.width),l.height=d(a.height),l.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,l.width,l.height),p.texImage2D(p.TEXTURE_2D,0,r,s,x,l)):p.texImage2D(p.TEXTURE_2D,0,r,s,x,a);b?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));
c?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),u?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.Yh=null;n.ak=a.width;n.$j=a.height;n.Rl=1;n.Mr=m;e.push(n);return f[m]=n};a.prototype.eg=function(a,b,c,d){this.Tg();
var f=this.ba,n=f.createTexture();f.bindTexture(f.TEXTURE_2D,n);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,c?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Yh=null;n.ak=a;n.$j=b;e.push(n);
return n};a.prototype.az=function(a,b,c){this.Tg();var d=this.ba;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,null);this.Yh=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Rl&&1<a.Rl?a.Rl--:(this.Tg(),this.ba.bindTexture(this.ba.TEXTURE_2D,null),this.Yh=null,ra(e,a),"undefined"!==typeof a.Mr&&delete f[a.Mr],this.ba.deleteTexture(a)))};a.prototype.Dg=function(a){if(a!==this.Ct){var b=
this.cf();b.type=6;this.Ct=b.ri=a;this.Cd=!1}};Qa=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Is="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Xh=!!a.dc;this.Ax="undefined"!==typeof window.AppMobi||this.Xh;if(this.mg=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)});this.Qe=this.Xh||this.mg;
this.vm=/tizen/i.test(navigator.userAgent);this.Hs=/android/i.test(navigator.userAgent)&&!this.vm;this.zm=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Ms=/ipad/i.test(navigator.userAgent);this.Ls=this.zm||this.Ms;this.Cx=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Fx=/windows/i.test(navigator.userAgent);this.sk="undefined"!==typeof window.c2nodewebkit;this.Gx=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Hx=
!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Bx=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.devicePixelRatio=1;this.Wg=this.Is||this.Ax||this.mg||this.Hs||this.Ls||this.Hx||this.Bx||this.vm;this.Wg||(this.Wg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.sk||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||
(this.sk=!0);this.Dx="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Sr=document.getElementById("c2canvasdiv");this.Ua=this.X=this.ba=null;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Xh&&(window.c2runtime=this);this.sk&&(window.BA=function(a){a.preventDefault();return!1},window.CA=function(a){a.preventDefault();return!1});
this.width=a.width;this.height=a.height;this.$h=this.width;this.Zh=this.height;this.Ya=!0;this.uk=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.S=[];this.Qb=[];this.bp={};this.Te=[];this.to={};this.Oh=[];this.Gg=[];this.qn=[];this.Cv=[];this.Dv=[];this.of=new Ga;this.Oo=!1;this.Re=0;this.Qo=!1;this.Td=[];this.pg=this.Yc=this.Em=this.dq="";this.dl=this.Lt=!1;this.lo=this.Bk=this.Rg=this.ua=0;this.ph=1;this.Zg=new Ha;this.Cm=0;this.gt=!0;this.Um=this.km=this.em=
this.Ee=this.yk=this.Ao=0;this.eo=null;this.$l=[];this.so=[];this.cm=-1;this.mp=[[]];this.xq=this.Im=0;this.Sp(null);this.fk=this.kt=this.Sk=0;this.jn=[];this.uq=this.Up=0;this.Am=!0;this.Gm=0;this.rk=!1;this.Py=0;this.Hp=new Ga;this.mt=new Ga;this.Bt=[];new La([]);new La([]);this.Hi=[];this.Jl={};this.Li={};this.Gi={};this.Aj={};this.Kr={};this.Se=this.Xd=this.Ts=this.Dm=this.wb=null;this.zj=this.To=!1;this.Bo=[null,null];this.Qh=0;this.oi={};this.gn=this.aj=null;this.load();this.devicePixelRatio=
(this.tk=!this.Qe&&this.Yy&&(this.Ls||this.vm))?window.devicePixelRatio||1:1;this.Bc();var c;"undefined"!==typeof jQuery&&0<this.qe&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.lw&&(this.mg||!this.Qe)){c={depth:!1,antialias:!this.Wg};var d=!0;if(this.Cx&&this.Fx){var e=document.createElement("canvas");"OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString()&&
(d=!1)}d&&(this.ba=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(f){}if(this.ba){this.Qe||(this.sd=document.createElement("canvas"),jQuery(this.sd).appendTo(this.canvas.parentNode),this.sd.oncontextmenu=v(!1),this.sd.onselectstart=v(!1),this.sd.width=a.width,this.sd.height=a.height,this.st(),this.Kp=this.sd.getContext("2d"));this.X=new Qa(this.ba,this.Wg);this.X.hq(a.width,a.height);this.Ua=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();
b.my();window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.X.Ds();b.X.hq(b.X.width,b.X.height,!0);b.Xd=null;b.Se=null;b.Bo[0]=null;b.Bo[1]=null;b.ny();b.Ya=!0;window.cr_setSuspended(!1)},!1);var h,g,l,m,k;a=0;for(c=this.S.length;a<c;a++)for(h=this.S[a],d=0,e=h.pa.length;d<e;d++)l=h.pa[d],l.yc=this.X.Go(l.id),this.zj=this.zj||this.X.Xk(l.yc);a=0;for(c=this.Te.length;a<c;a++){m=this.Te[a];d=0;for(e=m.pa.length;d<e;d++)l=m.pa[d],l.yc=this.X.Go(l.id);d=0;for(e=
m.Ka.length;d<e;d++)for(k=m.Ka[d],h=0,g=k.pa.length;h<g;h++)l=k.pa[h],l.yc=this.X.Go(l.id),this.zj=this.zj||this.X.Xk(l.yc)}}else{if(0<this.qe&&this.Xh){this.canvas=null;document.oncontextmenu=v(!1);document.onselectstart=v(!1);this.Ua=AppMobi.canvas.getContext("2d");try{this.Ua.samplingMode=this.yb?"smooth":"sharp",this.Ua.globalScale=1,this.Ua.HTML5CompatibilityMode=!0,this.Ua.imageSmoothingEnabled=this.yb}catch(A){}0!==this.width&&0!==this.height&&(this.Ua.width=this.width,this.Ua.height=this.height)}this.Ua||
(this.mg?(c={antialias:!!this.yb},this.Ua=a.getContext("2d",c)):this.Ua=a.getContext("2d"),this.Ua.webkitImageSmoothingEnabled=this.yb,this.Ua.mozImageSmoothingEnabled=this.yb,this.Ua.msImageSmoothingEnabled=this.yb,this.Ua.imageSmoothingEnabled=this.yb);this.Kp=this.sd=null}this.St=function(){b.ef()};window==window.top||this.Qe||this.Gx||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.mg&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(I("Reloading for continuous preview"),this.Em="__c2_continuouspreview",this.dl=!0),this.wy&&!this.Wg&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.go();this.aa={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,e){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=
b;f.onerror=e;f.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=d;e.onsuccess=function(b){b=b.target.result;b.onerror=d;var e=b.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?c(e.result.data):c(null)}}}function e(){I("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():
-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function f(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof Ga||"undefined"===typeof a[b].cg&&(c[b]=a[b]);return c}a.prototype.setSize=function(a,b){var c=this.ux&&this.zm&&!navigator.standalone&&!this.Qe&&!this.Is,d=0;c&&(this.zm?d=60:this.Hs&&(d=56),b+=d);var e=0,f=0,h=0,g=0,l=0,l=this.qe,m=document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||
this.rk;m&&0<this.Qh&&(l=this.Qh);4<=l?(h=this.Id/this.Hd,a/b>h?(h*=b,5===l?(l=h/this.Id,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),h=this.Id*l,g=this.Hd*l,e=(a-h)/2,f=(b-g)/2,a=h,b=g):(e=(a-h)/2,a=h)):(g=a/h,5===l?(l=g/this.Hd,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),h=this.Id*l,g=this.Hd*l,e=(a-h)/2,f=(b-g)/2,a=h):f=(b-g)/2,b=g),m&&!this.sk&&(f=e=0),e=Math.floor(e),f=Math.floor(f),a=Math.floor(a),b=Math.floor(b)):this.sk&&this.rk&&0===this.ns&&(e=Math.floor((a-this.Id)/2),f=Math.floor((b-
this.Hd)/2),a=this.Id,b=this.Hd);this.tk&&this.Ms&&1<this.devicePixelRatio&&(1024<=a&&(a=1023),1024<=b&&(b=1023));m=this.devicePixelRatio;this.width=a*m;this.height=b*m;this.Ya=!0;this.Sr&&!this.Qe&&(jQuery(this.Sr).css({width:a+"px",height:b+"px","margin-left":e,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*m,this.canvas.height=b*m,this.tk&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.sd&&
(this.sd.width=a,this.sd.height=b);this.X&&this.X.hq(a,b);this.Xh&&this.Ua&&(this.Ua.width=a,this.Ua.height=b);this.Ua&&(this.Ua.webkitImageSmoothingEnabled=this.yb,this.Ua.mozImageSmoothingEnabled=this.yb,this.Ua.msImageSmoothingEnabled=this.yb,this.Ua.imageSmoothingEnabled=this.yb);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};a.prototype.my=function(){this.To=!0;var a,b,c;a=0;for(b=this.S.length;a<b;a++)c=this.S[a],c.Vm&&c.Vm()};a.prototype.ny=function(){this.To=!1;var a,b,c;
a=0;for(b=this.S.length;a<b;a++)c=this.S[a],c.Jp&&c.Jp()};a.prototype.st=function(){if(!this.Qe){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.rk?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.sd).css(a)}};var g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=
function(a){var b;if(a&&!this.uk)for(I("[Construct 2] Suspending"),this.uk=!0,0!==this.Up&&g&&g(this.Up),0!==this.uq&&clearTimeout(this.uq),a=0,b=this.jn.length;a<b;a++)this.jn[a](!0);else if(!a&&this.uk){I("[Construct 2] Resuming");this.uk=!1;this.Cm=Fa();this.yk=Fa();a=this.Bk=this.km=0;for(b=this.jn.length;a<b;a++)this.jn[a](!1);this.ef()}};a.prototype.load=function(){var a=ob();this.name=a[0];this.ms=a[1];this.qe=a[11];this.ns=a[11];this.Qe&&(4<=a[11]||0===a[11])&&(I("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.ns=this.qe=3);this.Cq=a[17];this.Ak=a[18];0===this.Ak&&(this.aj=new Image,this.aj.src="loading-logo.png");this.Sk=a[20];this.Qf=new L(this);var b,c,d,e,f,h,g,l,m;b=0;for(c=a[2].length;b<c;b++)g=a[2][b],pb(g),m=new g[0](this),m.nq=g[1],m.Xg=g[2],m.ht=g[9],m.eb&&m.eb(),this.plugins.push(m);a=ob();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];f=g[1];m=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){m=this.plugins[d];break}var k=new m.Ec(m);k.name=g[0];k.la=g[2];k.No=g[3].slice(0);
k.$y=g[3].length;k.Iv=g[4];k.Ow=g[5];k.Fa=g[11];k.la?(k.Tm=[],k.sf=this.fk++,k.hb=null):(k.Tm=null,k.sf=-1,k.hb=[]);k.fm=null;k.Ri=null;k.hs=null;k.Wd=!1;k.od=null;g[6]?(k.qq=g[6][0],k.rq=g[6][1],k.sq=g[6][2]):(k.qq=null,k.rq=0,k.sq=0);k.zd=g[7]?g[7]:null;k.index=b;k.C=[];k.Yl=[];k.oh=[new Ra(k)];k.gg=0;k.ne=null;k.xj=!0;k.rn=qb;k.Rw=rb;k.Yw=sb;k.ib=tb;k.Zk=ub;k.Rp=vb;k.uj=wb;k.mm=xb;k.Co=yb;k.Fo=zb;k.Kl=Ab;k.aa={};k.toString=Bb;k.Qb=[];d=0;for(e=g[8].length;d<e;d++){l=g[8][d];var A=l[1],C=null;f=
0;for(h=this.Qb.length;f<h;f++)if(this.Qb[f]instanceof A){C=this.Qb[f];break}C||(C=new A(this),C.Qk=new Ga,C.eb&&C.eb(),this.Qb.push(C));f=new C.Ec(C,k);f.name=l[0];f.Fa=l[2];f.eb();k.Qb.push(f)}k.global=g[9];k.Po=g[10];k.pa=[];d=0;for(e=g[12].length;d<e;d++)k.pa.push({id:g[12][d][0],name:g[12][d][1],yc:-1,Pd:!0,index:d});this.Cq&&!k.la&&!k.Po&&m.Xg||k.eb();k.name&&(this.types[k.name]=k);this.S.push(k);m.nq&&(d=new m.Zb(k),d.uid=this.Sk++,d.yt=this.kt++,d.Uh=0,d.lk=Cb,d.toString=Db,d.Xa=g[13],d.eb(),
k.C.push(d),this.oi[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(f=a[4][b],h=this.S[f[0]],d=1,e=f.length;d<e;d++)g=this.S[f[d]],g.hb.push(h),h.Tm.push(g);b=0;for(c=a[22].length;b<c;b++){f=a[22][b];h=[];d=0;for(e=f.length;d<e;d++)h.push(this.S[f[d]]);d=0;for(e=h.length;d<e;d++)h[d].Wd=!0,h[d].od=h}if(0<this.fk)for(b=0,c=this.S.length;b<c;b++)if(g=this.S[b],!g.la&&g.hb.length){g.fm=Array(this.fk);g.Ri=Array(this.fk);g.hs=Array(this.fk);k=[];d=C=A=l=0;for(e=g.hb.length;d<e;d++)for(m=g.hb[d],
g.fm[m.sf]=l,l+=m.$y,g.Ri[m.sf]=A,A+=m.Iv,g.hs[m.sf]=C,C+=m.Ow,f=0,h=m.pa.length;f<h;f++)k.push(oa({},m.pa[f]));g.pa=k.concat(g.pa);d=0;for(e=g.pa.length;d<e;d++)g.pa[d].index=d}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new Sa(this,g),this.bp[d.name]=d,this.Te.push(d);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new Ta(this,g),this.to[d.name]=d,this.Oh.push(d);b=0;for(c=this.Oh.length;b<c;b++)this.Oh[b].Lb();b=0;for(c=this.qn.length;b<c;b++)this.qn[b].Lb();this.qn.length=0;this.If=a[8];this.Id=a[9];
this.Hd=a[10];this.Ll=1;this.lw=a[12];this.yb=a[13];this.Tr=a[14];b=a[16];2===b&&(b=this.zm?1:0);this.Yy=0!==b;this.ux=a[19];this.wy=a[21];this.hn=Date.now()};a.prototype.Nw=function(a){var b,c;b=0;for(c=this.Gg.length;b<c;b++)if(this.Gg[b].Mv===a)return this.Gg[b];return null};a.prototype.Fr=function(){var a=0,b=0,c=!0,d,e;d=0;for(e=this.Gg.length;d<e;d++){var f=this.Gg[d].Xr;if(!f||0>=f)f=5E4;a+=f;this.Gg[d].complete||this.Gg[d].loaded?b+=f:c=!1}this.pi=0==a?0:b/a;return c};a.prototype.go=function(){if(this.Ua||
this.X){var a=this.Ua||this.Kp;this.sd&&this.st();this.pi=0;this.Ss=-1;if(this.Fr())this.rx();else{var b=Date.now()-this.hn,c=1;this.vm&&(c=this.devicePixelRatio);if(a){if(3!==this.Ak&&500<=b&&this.Ss!=this.pi){a.clearRect(0,0,this.width,this.height);var b=this.width/(2*c),c=this.height/(2*c),d=0===this.Ak&&this.aj.complete,e=40,f=0,g=80;d&&(g=this.aj.width,e=g/2,f=this.aj.height/2,a.drawImage(this.aj,ja(b-e),ja(c-f)));1>=this.Ak?(b=ja(b-e)+0.5,c=ja(c+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,
c,Math.floor(g*this.pi),6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,g+2,8)):2===this.Ak&&(a.font="12pt Arial",a.fillStyle="#999",a.GA="middle",d=Math.round(100*this.pi)+"%",e=a.measureText?a.measureText(d):null,a.fillText(d,b-(e?e.width:0)/2,c))}this.Ss=this.pi}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.rx=function(){this.sd&&(this.canvas.parentNode.removeChild(this.sd),this.sd=this.Kp=null);this.hn=Date.now();this.yk=
Fa();var a,b,c;if(this.Cq)for(a=0,b=this.S.length;a<b;a++)c=this.S[a],c.la||c.Po||!c.Wb.Xg||c.eb();else this.Am=!1;a=0;for(b=this.Te.length;a<b;a++)this.Te[a].Nv();2<=this.qe&&(a=this.Id/this.Hd,b=this.width/this.height,this.Ll=2!==this.qe&&b>a||2===this.qe&&b<a?this.height/this.Hd:this.width/this.Id);this.ms?this.bp[this.ms].oq():this.Te[0].oq();this.Cq||(this.Gm=1,this.trigger(L.prototype.ja.cr,null));this.ef();this.Xh&&AppMobi.webview.execute("onGameReady();")};var h=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.ef=function(){if(this.wb){var a=Fa();if(!this.Qe&&window!=window.top){var b=this.qe;(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.rk)&&0<this.Qh&&(b=this.Qh);if(0<b){var b=window.innerWidth,c=window.innerHeight;if(this.$h!==b||this.Zh!==c)this.$h=b,this.Zh=c,this.setSize(b,c)}}this.Am&&(b=this.Fr(),
this.Gm=this.pi,b&&(this.Am=!1,this.pi=1,this.trigger(L.prototype.ja.cr,null)));this.Lx();!this.Ya&&!this.mg||this.To||this.dl||(this.Ya=!1,this.X?this.oe():this.pf(),this.gn&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.gn[0],this.gn[1]),this.trigger(L.prototype.ja.Ju,null)),this.gn=null));this.AA||(this.Ee++,this.em++,this.km++);this.Bk+=Fa()-a;this.uk||(h?this.Up=h(this.St,this.canvas):this.uq=setTimeout(this.St,this.Wg?1:16))}};a.prototype.Lx=function(){var a,b,c,d,e,f,g,h,
l;a=Fa();1E3<=a-this.yk&&(this.yk+=1E3,this.Ao=this.km,this.km=0,this.lo=this.Bk,this.Bk=0);this.gt&&(0!==this.Cm&&(b=a-this.Cm,0!==b||this.Dx?(this.Rg=b/1E3,0.5<this.Rg?this.Rg=0:0.1<this.Rg&&(this.Rg=0.1)):(10<=this.IA&&(this.gt=!1),this.Rg=1/60)),this.Cm=a);this.ua=this.Rg*this.ph;this.Zg.add(this.ua);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.rk;2<=this.qe||a&&0<this.Qh?(b=this.Id/this.Hd,c=this.width/this.height,d=this.qe,
a&&0<this.Qh&&(d=this.Qh),this.Ll=2!==d&&c>b||2===d&&c<b?this.height/this.Hd:this.width/this.Id,this.wb&&(this.wb.fq(this.wb.scrollX),this.wb.gq(this.wb.scrollY))):this.Ll=1;this.Bc();this.Re++;this.Qf.Gy();this.Re--;this.Bc();this.Re++;a=0;for(b=this.S.length;a<b;a++)if(g=this.S[a],!g.la&&(g.Qb.length||g.hb.length))for(c=0,d=g.C.length;c<d;c++)for(h=g.C[c],e=0,f=h.Ja.length;e<f;e++)h.Ja[e].ef();a=0;for(b=this.S.length;a<b;a++)if(g=this.S[a],!g.la&&(g.Qb.length||g.hb.length))for(c=0,d=g.C.length;c<
d;c++)for(h=g.C[c],e=0,f=h.Ja.length;e<f;e++)l=h.Ja[e],l.zy&&l.zy();c=this.Hp.vi();a=0;for(b=c.length;a<b;a++)c[a].ef();this.Re--;this.tx();for(a=0;this.eo&&10>a++;)this.es(this.eo);a=0;for(b=this.Oh.length;a<b;a++)this.Oh[a].Ho=!1;this.wb.am&&this.wb.am.ic();this.Bt.length=0;this.Re++;a=0;for(b=this.S.length;a<b;a++)if(g=this.S[a],!g.la&&(g.Qb.length||g.hb.length))for(c=0,d=g.C.length;c<d;c++)for(h=g.C[c],e=0,f=h.Ja.length;e<f;e++)l=h.Ja[e],l.mn&&l.mn();c=this.mt.vi();a=0;for(b=c.length;a<b;a++)c[a].mn();
this.Re--};a.prototype.es=function(a){var b=this.wb;this.wb.Ry();var c,d,e,g,f,h,l;if(this.X)for(c=0,d=this.S.length;c<d;c++)f=this.S[c],f.la||!f.zq||f.global&&0!==f.C.length||-1!==a.ok.indexOf(f)||f.zq();b==a&&(this.Qf.Ld.length=0);a.oq();c=0;for(d=this.S.length;c<d;c++)if(f=this.S[c],f.global||f.Wb.nq)for(a=0,b=f.C.length;a<b;a++)if(h=f.C[a],h.Ip&&h.Ip(),h.Ja)for(e=0,g=h.Ja.length;e<g;e++)l=h.Ja[e],l.Ip&&l.Ip();this.Ya=!0;this.Bc()};a.prototype.tq=function(a){this.Hp.add(a)};a.prototype.Do=function(a){return a&&
-1!==a.Rk?this.Rg*a.Rk:this.ua};a.prototype.pf=function(){this.wb.pf(this.Ua);this.Xh&&this.Ua.present()};a.prototype.oe=function(){this.wb.oe(this.X);this.X.Ay()};a.prototype.zv=function(a){a&&this.$l.push(a)};a.prototype.Ey=function(a){ra(this.$l,a)};a.prototype.jk=function(a){return this.oi[a.toString()]};a.prototype.Bi=function(a){var b,c;if(!this.of.contains(a)){this.of.add(a);if(a.Wd)for(b=0,c=a.siblings.length;b<c;b++)this.Bi(a.siblings[b]);this.Oo&&this.of.sh.push(a);this.Re++;this.trigger(Object.getPrototypeOf(a.type.Wb).ja.Ku,
a);this.Re--}};a.prototype.Bc=function(){var a,b,c,d,e,f,g,h,l,k;this.Oo=!0;d=0;for(f=this.Td.length;d<f;d++)for(a=this.Td[d],b=a.type,b.C.push(a),e=0,g=b.hb.length;e<g;e++)b.hb[e].C.push(a),b.hb[e].xj=!0;this.Td.length=0;f=this.of.vi();for(d=0;d<f.length;d++){a=f[d];b=a.type;c=b.C;e=0;for(g=this.$l.length;e<g;e++)this.$l[e](a);ra(c,a);a.K&&(pa(a.K.C,a.Vd()),a.K.Md=!0);e=0;for(g=b.hb.length;e<g;e++)ra(b.hb[e].C,a),b.hb[e].xj=!0;if(a.Ja)for(e=0,g=a.Ja.length;e<g;e++)c=a.Ja[e],c.tj&&c.tj(),c.Y.Qk.remove(a);
this.Hp.remove(a);this.mt.remove(a);e=0;for(g=this.Qf.Ld.length;e<g;e++)if(l=this.Qf.Ld[e],l.Kd.hasOwnProperty(b.index)&&ra(l.Kd[b.index].Wh,a),!b.la)for(c=0,h=b.hb.length;c<h;c++)k=b.hb[c],l.Kd.hasOwnProperty(k.index)&&ra(l.Kd[k.index].Wh,a);a.tj&&a.tj();this.oi.hasOwnProperty(a.uid.toString())&&delete this.oi[a.uid.toString()];this.Um--;64>b.Yl.length&&b.Yl.push(a);b.xj=!0}this.of.qk()||(this.Ya=!0);this.of.clear();this.Oo=!1};a.prototype.Yr=function(a,b,c,d){if(a.la){var e=ja(Math.random()*a.Tm.length);
return this.Yr(a.Tm[e],b,c,d)}return a.ne?this.Qg(a.ne,b,!1,c,d,!1):null};var k=[];a.prototype.Qg=function(a,b,c,d,e,g){var f,h,l,m;if(!a)return null;var E=this.S[a[1]],A=E.Wb.Xg;if(this.Am&&A&&!E.Po||A&&!this.X&&11===a[0][11])return null;var C=b;A||(b=null);var w;E.Yl.length?(w=E.Yl.pop(),w.fe=!0,E.Wb.Zb.call(w,E)):(w=new E.Wb.Zb(E),w.fe=!1);w.uid=c&&!g?a[2]:this.Sk++;this.oi[w.uid.toString()]=w;w.yt=this.kt++;w.Uh=E.C.length;f=0;for(h=this.Td.length;f<h;++f)this.Td[f].type===E&&w.Uh++;w.lk=Cb;l=
a[3];if(w.fe)Ea(w.aa);else{w.aa={};if("undefined"!==typeof cr_is_preview)for(w.Gs=[],w.Gs.length=l.length,f=0,h=l.length;f<h;f++)w.Gs[f]=l[f][1];w.fc=[];w.fc.length=l.length}f=0;for(h=l.length;f<h;f++)w.fc[f]=l[f][0];if(A){var F=a[0];w.x=ba(d)?F[0]:d;w.y=ba(e)?F[1]:e;w.z=F[2];w.width=F[3];w.height=F[4];w.depth=F[5];w.Q=F[6];w.opacity=F[7];w.pd=F[8];w.qd=F[9];w.jd=F[10];f=F[11];!this.X&&E.pa.length&&(w.jd=f);w.bk=Ma(w.jd);this.ba&&Na(w,w.jd,this.ba);if(w.fe){f=0;for(h=F[12].length;f<h;f++)for(l=0,
m=F[12][f].length;l<m;l++)w.Bb[f][l]=F[12][f][l];w.Ia.set(0,0,0,0);w.Rb.iq(w.Ia);w.Ml.length=0}else{w.Bb=F[12].slice(0);f=0;for(h=w.Bb.length;f<h;f++)w.Bb[f]=F[12][f].slice(0);w.Qa=[];w.Ng=[];w.Ng.length=E.pa.length;w.Ia=new la(0,0,0,0);w.Rb=new ma;w.Ml=[];w.Za=Eb;w.vA=Fb;w.Ni=Gb;w.zc=Hb;w.Vd=Ib}f=0;for(h=E.pa.length;f<h;f++)w.Ng[f]=!0;w.Fg=Jb;w.Fg();w.bu=!!w.Qa.length;w.bo=!0;w.visible=!0;w.Rk=-1;w.K=b;w.wi=b.C.length;"undefined"===typeof w.md&&(w.md=null);this.Ya=w.Mi=!0}w.toString=Db;var G;f=k.length=
0;for(h=E.hb.length;f<h;f++)k.push.apply(k,E.hb[f].Qb);k.push.apply(k,E.Qb);if(w.fe)for(f=0,h=k.length;f<h;f++){var N=k[f];G=w.Ja[f];G.fe=!0;N.Y.Zb.call(G,N,w);F=a[4][f];l=0;for(m=F.length;l<m;l++)G.Xa[l]=F[l];G.eb();N.Y.Qk.add(w)}else for(w.Ja=[],f=0,h=k.length;f<h;f++)N=k[f],G=new N.Y.Zb(N,w),G.fe=!1,G.Xa=a[4][f].slice(0),G.eb(),w.Ja.push(G),N.Y.Qk.add(w);F=a[5];if(w.fe)for(f=0,h=F.length;f<h;f++)w.Xa[f]=F[f];else w.Xa=F.slice(0);this.Td.push(w);b&&b.C.push(w);this.Um++;if(E.Wd){if(w.Wd=!0,w.fe?
w.siblings.length=0:w.siblings=[],!c&&!g){f=0;for(h=E.od.length;f<h;f++)if(E.od[f]!==E){if(!E.od[f].ne)return null;w.siblings.push(this.Qg(E.od[f].ne,C,!1,A?w.x:d,A?w.y:e,!0))}f=0;for(h=w.siblings.length;f<h;f++)for(w.siblings[f].siblings.push(w),l=0;l<h;l++)f!==l&&w.siblings[f].siblings.push(w.siblings[l])}}else w.Wd=!1,w.siblings=null;w.eb();f=0;for(h=w.Ja.length;f<h;f++)w.Ja[f].tt&&w.Ja[f].tt();return w};a.prototype.Vw=function(a){var b,c;b=0;for(c=this.wb.Ka.length;b<c;b++){var d=this.wb.Ka[b];
if(Pa(d.name,a))return d}return null};a.prototype.Ww=function(a){a=ja(a);0>a&&(a=0);a>=this.wb.Ka.length&&(a=this.wb.Ka.length-1);return this.wb.Ka[a]};a.prototype.fo=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ib().Gb=!0};a.prototype.Zk=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Zk()};a.prototype.Rp=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Rp()};a.prototype.uj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].uj()};new ma;new la(0,0,0,0);a.prototype.Wt=function(a,b){if(!b)return!1;
var c,d,e,f,g;c=0;for(d=a.Qb.length;c<d;c++)if(a.Qb[c].Y instanceof b)return!0;if(!a.la)for(c=0,d=a.hb.length;c<d;c++)for(g=a.hb[c],e=0,f=g.Qb.length;e<f;e++)if(g.Qb[e].Y instanceof b)return!0;return!1};a.prototype.Xt=function(a){return this.Wt(a,gb.Nz)};a.prototype.yq=function(a){return this.Wt(a,gb.Oz)};a.prototype.Dy=function(a,b){a.Mi&&b.Mi&&this.Bt.push([a,b])};var l=[],m=-1;a.prototype.trigger=function(a,b,c){if(!this.wb)return!1;var d=this.wb.am;if(!d)return!1;m++;m===l.length?l.push(new Ga):
l[m].clear();a=this.Ut(a,b,d,c);m--;return a};a.prototype.Ut=function(a,b,c,d){var e=l[m];if(e.contains(c))return!1;e.add(c);var e=c.Bs.vi(),f=!1,g,h,k;g=0;for(h=e.length;g<h;g++)e[g].zx()&&(k=this.Ut(a,b,e[g].nk,d),f=f||k);if(b)for(k=this.wq(a,b,b.type.name,c,d),f=f||k,g=0,h=b.type.hb.length;g<h;g++)k=this.wq(a,b,b.type.hb[g].name,c,d),f=f||k;else k=this.wq(a,b,"system",c,d),f=f||k;return f};a.prototype.wq=function(a,b,c,d,e){var f,g=!1,h=!1,h="undefined"!==typeof e,l=(h?d.ks:d.Vt)[c];if(!l)return g;
var k=null;d=0;for(f=l.length;d<f;d++)if(l[d].method==a){k=l[d].dm;break}if(!k)return g;a=h?k[e]:k;if(!a)return null;d=0;for(f=a.length;d<f;d++)e=a[d][0],h=a[d][1],h=this.Lw(b,c,e,h),g=g||h;return g};a.prototype.Lw=function(a,b,c,d){var e,f,g=!1;this.xq++;var h=this.Ud().Ne;h&&this.Zk(h.mh);var l=1<this.xq;this.Zk(c.mh);l&&this.Cy();var k=this.Sp(c);k.Ne=c;a&&(e=this.types[b].ib(),e.Gb=!1,e.C.length=1,e.C[0]=a,this.types[b].Kl());a=!0;if(c.parent){b=k.Pt;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();
e=0;for(f=b.length;e<f;e++)if(!b[e].Iy()){a=!1;break}}a&&(this.em++,c.Hf?c.Hy(d):c.ic(),g=g||k.$i);this.qt();l&&this.yy();this.uj(c.mh);h&&this.uj(h.mh);0!==this.Re||0!==m||this.Qo||this.of.qk()&&!this.Td.length||this.Bc();this.xq--;return g};a.prototype.qs=function(){var a=this.Ud();return a.Ne.Ib[a.kd]};a.prototype.Cy=function(){this.Im++;this.Im>=this.mp.length&&this.mp.push([])};a.prototype.yy=function(){this.Im--};a.prototype.rs=function(){return this.mp[this.Im]};a.prototype.Sp=function(a){this.cm++;
this.cm>=this.so.length&&this.so.push(new Ua);var b=this.Ud();b.reset(a);return b};a.prototype.qt=function(){this.cm--};a.prototype.Ud=function(){return this.so[this.cm]};a.prototype.ts=function(a,b){for(var c,d,e,f,g,h;b;){c=0;for(d=b.De.length;c<d;c++)if(h=b.De[c],h instanceof Va&&Pa(a,h.name))return h;b=b.parent}c=0;for(d=this.Oh.length;c<d;c++)for(g=this.Oh[c],e=0,f=g.Ug.length;e<f;e++)if(h=g.Ug[e],h instanceof Va&&Pa(a,h.name))return h;return null};a.prototype.us=function(a){var b,c;b=0;for(c=
this.Te.length;b<c;b++)if(this.Te[b].Fa===a)return this.Te[b];return null};a.prototype.pm=function(a){var b,c;b=0;for(c=this.S.length;b<c;b++)if(this.S[b].Fa===a)return this.S[b];return null};a.prototype.Sw=function(a){var b,c;b=0;for(c=this.Hi.length;b<c;b++)if(this.Hi[b].Fa===a)return this.Hi[b];return null};a.prototype.tx=function(){var a=this,b=this.dq,f=this.pg,g=this.Em,h=!1;this.Lt&&(h=!0,b="__c2_continuouspreview",this.Lt=!1);if(b.length){this.Bc();f=this.Ny();if(window.indexedDB&&!this.mg)c(b,
f,function(){I("Saved state to IndexedDB storage ("+f.length+" bytes)");a.pg=f;a.trigger(L.prototype.ja.Nn,null);a.pg="";h&&e()},function(c){try{localStorage.setItem("__c2save_"+b,f),I("Saved state to WebStorage ("+f.length+" bytes)"),a.pg=f,a.trigger(L.prototype.ja.Nn,null),a.pg="",h&&e()}catch(d){I("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,f),I("Saved state to WebStorage ("+f.length+" bytes)"),a.pg=f,this.trigger(L.prototype.ja.Nn,null),a.pg="",h&&e()}catch(l){I("Error saving to WebStorage: "+
l)}this.Yc=this.Em=this.dq=""}g.length&&(window.indexedDB&&!this.mg?d(g,function(b){b?(a.Yc=b,I("Loaded state from IndexedDB storage ("+a.Yc.length+" bytes)")):(a.Yc=localStorage.getItem("__c2save_"+g)||"",I("Loaded state from WebStorage ("+a.Yc.length+" bytes)"));a.dl=!1;a.Yc.length||a.trigger(L.prototype.ja.Mn,null)},function(){a.Yc=localStorage.getItem("__c2save_"+g)||"";I("Loaded state from WebStorage ("+a.Yc.length+" bytes)");a.dl=!1;a.Yc.length||a.trigger(L.prototype.ja.Mn,null)}):(this.Yc=
localStorage.getItem("__c2save_"+g)||"",I("Loaded state from WebStorage ("+this.Yc.length+" bytes)"),this.dl=!1,a.Yc.length||a.trigger(L.prototype.ja.Mn,null)),this.dq=this.Em="");this.Yc.length&&(this.Bc(),this.Kx(this.Yc),this.pg=this.Yc,this.trigger(L.prototype.ja.Qu,null),this.Yc=this.pg="")};a.prototype.Ny=function(){var a,b,c,d,e,g,h,l={c2save:!0,version:1,rt:{time:this.Zg.Mc,timescale:this.ph,tickcount:this.Ee,execcount:this.em,next_uid:this.Sk,running_layout:this.wb.Fa,start_time_offset:Date.now()-
this.hn},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.S.length;a<b;a++)if(e=this.S[a],!e.la&&!this.Xt(e)){g={instances:[]};Da(e.aa)&&(g.ex=f(e.aa));c=0;for(d=e.C.length;c<d;c++)g.instances.push(this.Ht(e.C[c]));l.types[e.Fa.toString()]=g}a=0;for(b=this.Te.length;a<b;a++)c=this.Te[a],l.layouts[c.Fa.toString()]=c.Jd();d=l.events.groups;a=0;for(b=this.Hi.length;a<b;a++)c=this.Hi[a],d[c.Fa.toString()]=!!this.Jl[c.mk];b=l.events.cnds;for(h in this.Li)this.Li.hasOwnProperty(h)&&
(a=this.Li[h],Da(a.aa)&&(b[h]={ex:f(a.aa)}));b=l.events.acts;for(h in this.Gi)this.Gi.hasOwnProperty(h)&&(a=this.Gi[h],Da(a.aa)&&(b[h]={ex:a.aa}));b=l.events.vars;for(h in this.Aj)this.Aj.hasOwnProperty(h)&&(a=this.Aj[h],a.wm||a.parent&&!a.vk||(b[h]=a.data));l.system=this.Qf.Jd();return JSON.stringify(l)};a.prototype.At=function(){var a,b,c,d,e,f;this.oi={};a=0;for(b=this.S.length;a<b;a++)if(c=this.S[a],!c.la)for(d=0,e=c.C.length;d<e;d++)f=c.C[d],this.oi[f.uid.toString()]=f};a.prototype.Kx=function(a){a=
JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.Zg.reset();this.Zg.Mc=b.time;this.ph=b.timescale;this.Ee=b.tickcount;this.em=b.execcount;this.hn=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.wb.Fa)if(c=this.us(c))this.es(c);else return;var d,e,f,h,g,l,k;l=a.types;for(e in l)if(l.hasOwnProperty(e)&&(h=this.pm(parseInt(e,10)))&&!h.la&&!this.Xt(h)){l[e].ex?h.aa=l[e].ex:Ea(h.aa);g=h.C;f=l[e].instances;c=0;for(d=ga(g.length,f.length);c<d;c++)this.gp(g[c],f[c]);c=f.length;
for(d=g.length;c<d;c++)this.Bi(g[c]);c=g.length;for(d=f.length;c<d;c++){g=null;if(h.Wb.Xg&&(g=this.wb.nm(f[c].w.l),!g))continue;g=this.Qg(h.ne,g,!1,0,0,!0);this.gp(g,f[c])}h.xj=!0}this.Bc();this.At();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.us(parseInt(e,10)))&&c.te(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.Sw(parseInt(e,10)))&&(this.Jl[c.mk]=d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.Li.hasOwnProperty(e)&&(this.Li[e].aa=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&
this.Gi.hasOwnProperty(e)&&(this.Gi[e].aa=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Aj.hasOwnProperty(e)&&(this.Aj[e].data=c[e]);this.Sk=b.next_uid;this.Qf.te(a.system);c=0;for(d=this.S.length;c<d;c++)if(h=this.S[c],!h.la)for(e=0,a=h.C.length;e<a;e++){g=h.C[e];if(h.Wd)for(l=g.lk(),b=g.siblings.length=0,f=h.od.length;b<f;b++)k=h.od[b],h!==k&&g.siblings.push(k.C[l]);g.Zj&&g.Zj();if(g.Ja)for(b=0,f=g.Ja.length;b<f;b++)l=g.Ja[b],l.Zj&&l.Zj()}this.Ya=!0}};a.prototype.Ht=function(a){var b,
c,d,e,g;e=a.type;d=e.Wb;var h={uid:a.uid};Da(a.aa)&&(h.ex=f(a.aa));if(a.fc&&a.fc.length)for(h.ivs={},b=0,c=a.fc.length;b<c;b++)h.ivs[a.type.No[b].toString()]=a.fc[b];if(d.Xg){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.K.Fa,zi:a.Vd()};0!==a.Q&&(d.a=a.Q);1!==a.opacity&&(d.o=a.opacity);0.5!==a.pd&&(d.hX=a.pd);0.5!==a.qd&&(d.hY=a.qd);0!==a.jd&&(d.bm=a.jd);a.visible||(d.v=a.visible);a.Mi||(d.ce=a.Mi);-1!==a.Rk&&(d.mts=a.Rk);if(e.pa.length)for(d.fx=[],b=0,c=e.pa.length;b<c;b++)g=e.pa[b],d.fx.push({name:g.name,
active:a.Ng[g.index],params:a.Bb[g.index]});h.w=d}if(a.Ja&&a.Ja.length)for(h.behs={},b=0,c=a.Ja.length;b<c;b++)e=a.Ja[b],e.Jd&&(h.behs[e.type.Fa.toString()]=e.Jd());a.Jd&&(h.data=a.Jd());return h};a.prototype.Uw=function(a,b){var c,d;c=0;for(d=a.No.length;c<d;c++)if(a.No[c]===b)return c;return-1};a.prototype.Qw=function(a,b){var c,d;c=0;for(d=a.Ja.length;c<d;c++)if(a.Ja[c].type.Fa===b)return c;return-1};a.prototype.gp=function(a,b){var c,d,e,f,h,g;g=a.type;e=g.Wb;a.uid=b.uid;b.ex?a.aa=b.ex:Ea(a.aa);
if(d=b.ivs)for(c in d)d.hasOwnProperty(c)&&(f=this.Uw(g,parseInt(c,10)),0>f||f>=a.fc.length||(a.fc[f]=d[c]));if(e.Xg){f=b.w;a.K.Fa!==f.l&&(d=a.K,a.K=this.wb.nm(f.l),a.K?(a.K.C.push(a),a.K.Md=!0,ra(d.C,a),d.Md=!0):(a.K=d,this.Bi(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.wi=f.zi;a.Q=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.pd=f.hasOwnProperty("hX")?f.hX:0.5;a.qd=f.hasOwnProperty("hY")?f.hY:0.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.Mi=f.hasOwnProperty("ce")?f.ce:!0;
a.Rk=f.hasOwnProperty("mts")?f.mts:-1;a.jd=f.hasOwnProperty("bm")?f.bm:0;a.bk=Ma(a.jd);this.ba&&Na(a,a.jd,this.ba);a.Za();if(f.hasOwnProperty("fx"))for(d=0,e=f.fx.length;d<e;d++)h=g.Fo(f.fx[d].name),0>h||(a.Ng[h]=f.fx[d].active,a.Bb[h]=f.fx[d].params);a.Fg()}if(g=b.behs)for(c in g)g.hasOwnProperty(c)&&(f=this.Qw(a,parseInt(c,10)),0>f||a.Ja[f].te(g[c]));b.data&&a.te(b.data)};Wa=function(b){return new a(document.getElementById(b))};Xa=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=
Wa;window.cr_createDCRuntime=Xa;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,b){if(0!==a&&0!==b){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,b){this.g=a;this.am=null;this.scrollX=this.g.Id/2;this.scrollY=this.g.Hd/2;this.scale=1;this.Q=0;this.gk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Yt=b[3];this.Kt=b[4];this.Fa=b[5];var c=b[6],d,k;this.Ka=[];this.ok=[];d=0;for(k=c.length;d<k;d++){var l=new Ya(this,c[d]);l.lt=d;this.Ka.push(l)}c=b[7];this.Vh=[];d=0;for(k=c.length;d<k;d++){var l=c[d],m=this.g.S[l[1]];m.ne||(m.ne=l);this.Vh.push(l);-1===this.ok.indexOf(m)&&this.ok.push(m)}this.pa=[];this.Qa=[];this.Bb=
[];d=0;for(k=b[8].length;d<k;d++)this.pa.push({id:b[8][d][0],name:b[8][d][1],yc:-1,Pd:!0,index:d}),this.Bb.push(b[8][d][2].slice(0));this.Fg();this.jh=new la(0,0,1,1);this.Vp=new la(0,0,1,1);this.hh={}}function b(a,b){this.Wa=a;this.g=a.g;this.C=[];this.scale=1;this.Q=0;this.Mh=!1;this.Eg=new la(0,0,0,0);this.Tt=new ma;this.td=this.wd=this.vd=this.ud=0;this.Md=!1;this.name=b[0];this.index=b[1];this.Fa=b[2];this.visible=b[3];this.Og=b[4];this.ti=b[5];this.Tk=b[6];this.Uk=b[7];this.opacity=b[8];this.zo=
b[9];this.Hq=b[10];this.jd=b[11];this.kw=b[12];this.bk="source-over";this.Fc=this.Lc=0;this.kh=!1;var c=b[13],d,k;this.Ti=[];d=0;for(k=c.length;d<k;d++){var l=c[d],m=this.g.S[l[1]];m.ne||(m.ne=l);this.Ti.push(l);-1===this.Wa.ok.indexOf(m)&&this.Wa.ok.push(m)}this.pa=[];this.Qa=[];this.Bb=[];d=0;for(k=b[14].length;d<k;d++)this.pa.push({id:b[14][d][0],name:b[14][d][1],yc:-1,Pd:!0,index:d}),this.Bb.push(b[14][d][2].slice(0));this.Fg();this.jh=new la(0,0,1,1);this.Vp=new la(0,0,1,1)}function c(a,b){return a.wi-
b.wi}a.prototype.My=function(a){var b=a.type.Fa.toString();this.hh.hasOwnProperty(b)||(this.hh[b]=[]);this.hh[b].push(this.g.Ht(a))};a.prototype.ys=function(){var a=this.Ka[0];return!a.ti&&1===a.opacity&&!a.zo&&a.visible};a.prototype.Fg=function(){this.Qa.length=0;var a,b,c;a=0;for(b=this.pa.length;a<b;a++)c=this.pa[a],c.Pd&&this.Qa.push(c)};a.prototype.Eo=function(a){var b,c,d;b=0;for(c=this.pa.length;b<c;b++)if(d=this.pa[b],d.name===a)return d;return null};var d=[];a.prototype.oq=function(){this.Kt&&
(this.am=this.g.to[this.Kt]);this.g.wb=this;this.scrollX=this.g.Id/2;this.scrollY=this.g.Hd/2;var a,b,g,h,k,l,m;a=0;for(g=this.g.S.length;a<g;a++)if(b=this.g.S[a],!b.la)for(k=b.C,b=0,h=k.length;b<h;b++)if(l=k[b],l.K){var n=l.K.lt;n>=this.Ka.length&&(n=this.Ka.length-1);l.K=this.Ka[n];l.K.C.push(l);l.K.Md=!0}d.length=0;this.Jv();a=0;for(g=this.Ka.length;a<g;a++)l=this.Ka[a],l.Ov(),l.Mh=!0,b=l.Ji(!0),h=l.Ji(!1),l.Mh=!1,this.g.If&&(b=b+0.5|0,h=h+0.5|0),l.Zp(b,h,null);k=!1;if(!this.gk){for(m in this.hh)if(this.hh.hasOwnProperty(m)&&
(b=this.g.pm(parseInt(m,10)))&&!b.la&&this.g.yq(b)){h=this.hh[m];a=0;for(g=h.length;a<g;a++){l=null;if(b.Wb.Xg&&(l=this.nm(h[a].w.l),!l))continue;l=this.g.Qg(b.ne,l,!1,0,0,!0);this.g.gp(l,h[a]);k=!0;d.push(l)}h.length=0}a=0;for(g=this.Ka.length;a<g;a++)this.Ka[a].C.sort(c),this.Ka[a].Md=!0}k&&(this.g.Bc(),this.g.At());for(a=0;a<d.length;a++)if(l=d[a],l.type.Wd)for(g=l.lk(),b=0,h=l.type.od.length;b<h;b++)m=l.type.od[b],l.type!==m&&(m.C.length>g?l.siblings.push(m.C[g]):m.ne&&(k=this.g.Qg(m.ne,l.K,!0,
l.x,l.y,!0),this.g.Bc(),m.rn(),l.siblings.push(k),d.push(k)));a=0;for(g=this.Vh.length;a<g;a++)this.g.Qg(this.Vh[a],null,!0);this.g.eo=null;this.g.Bc();if(this.g.Ua&&!this.g.Qe)for(a=0,g=this.g.S.length;a<g;a++)m=this.g.S[a],!m.la&&m.C.length&&m.Np&&m.Np(this.g.Ua);a=0;for(g=d.length;a<g;a++)l=d[a],this.g.trigger(Object.getPrototypeOf(l.type.Wb).ja.Ln,l);d.length=0;this.g.trigger(L.prototype.ja.br,null);this.gk=!1};a.prototype.Nv=function(){var a,b,c,d,k;b=a=0;for(c=this.Vh.length;a<c;a++)d=this.Vh[a],
k=this.g.S[d[1]],k.global?this.g.Qg(d,null,!0):(this.Vh[b]=d,b++);this.Vh.length=b};a.prototype.Ry=function(){this.g.trigger(L.prototype.ja.Pu,null);this.g.Qf.Ld.length=0;var a,b,c,d,k,l;a=0;for(b=this.Ka.length;a<b;a++){k=this.Ka[a].C;c=0;for(d=k.length;c<d;c++)l=k[c],l.type.global||(this.g.yq(l.type)&&this.My(l),this.g.Bi(l));this.g.Bc();k.length=0;this.Ka[a].Md=!0}a=0;for(b=this.g.S.length;a<b;a++)if(k=this.g.S[a],!(k.global||k.Wb.Xg||k.Wb.nq||k.la)){c=0;for(d=k.C.length;c<d;c++)this.g.Bi(k.C[c]);
this.g.Bc()}};a.prototype.pf=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.g.Tr&&!this.ys()&&a.clearRect(0,0,this.g.width,this.g.height);var b,c,d;b=0;for(c=this.Ka.length;b<c;b++)d=this.Ka[b],d.visible&&0<d.opacity&&11!==d.jd&&d.pf(a)};a.prototype.oe=function(a){var b=0<this.Qa.length||this.g.zj;if(b){this.g.Se||(this.g.Se=a.eg(this.g.width,this.g.height,this.g.yb));if(this.g.Se.ak!==this.g.width||this.g.Se.$j!==this.g.height)a.deleteTexture(this.g.Se),this.g.Se=a.eg(this.g.width,
this.g.height,this.g.yb);a.Dg(this.g.Se)}this.g.Tr&&!this.ys()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.Ka.length;c<d;c++)this.Ka[c].visible&&0<this.Ka[c].opacity&&this.Ka[c].oe(a);b&&(1>=this.Qa.length?(1===this.Qa.length?(b=this.Qa[0].index,a.Pf(this.Qa[0].yc),a.vj(null,1/this.g.width,1/this.g.height,0,0,1,1,this.scale,this.Bb[b]),a.Xm(this.Qa[0].yc)&&(this.g.Ya=!0)):a.Pf(0),a.Dg(null),a.qi(1),a.ge(this.g.Se),a.It(),a.Mf(),a.Sf(),b=this.g.width/2,c=this.g.height/2,a.Zm(-b,c,b,c,b,-c,-b,-c),a.ge(null)):
this.Xp(a,null,null,null))};a.prototype.kk=function(){return 0<this.Qa.length||this.g.zj?this.g.Se:null};a.prototype.vs=function(){var a=this.Ka[0].Bd(),b,c,d;b=1;for(c=this.Ka.length;b<c;b++)d=this.Ka[b],(0!==d.Tk||0!==d.Uk)&&d.Bd()<a&&(a=d.Bd());return a};a.prototype.fq=function(a){if(!this.Yt){var b=this.g.width*(1/this.vs())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.g.Ya=!0)};a.prototype.gq=function(a){if(!this.Yt){var b=this.g.height*(1/this.vs())/2;
a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.g.Ya=!0)};a.prototype.Jv=function(){this.fq(this.scrollX);this.gq(this.scrollY)};a.prototype.Xp=function(a,b,c,d){var k=c?c.Qa:b?b.Qa:this.Qa,l=c?c.K.Bd():b?b.Bd():1,m=this.g.Bo,n,p,u,r,s=0,x=1,z,B=this.g.width,H=this.g.height,D=B/2,E=H/2,A=b?b.jh:this.jh,C=b?b.Vp:this.Vp,w=0,F=0,G=0,N=0,R=B,na=B,M=H,ha=H,U=u=0,Ja=c?c.K.jg():0;if(c){n=0;for(p=k.length;n<p;n++)u+=a.Zw(k[n].yc),U+=a.$w(k[n].yc);r=c.Ia;w=b.gc(r.left,
r.top,!0);G=b.gc(r.left,r.top,!1);R=b.gc(r.right,r.bottom,!0);M=b.gc(r.right,r.bottom,!1);0!==Ja&&(n=b.gc(r.right,r.top,!0),p=b.gc(r.right,r.top,!1),F=b.gc(r.left,r.bottom,!0),N=b.gc(r.left,r.bottom,!1),r=Math.min(w,R,n,F),R=Math.max(w,R,n,F),w=r,r=Math.min(G,M,p,N),M=Math.max(G,M,p,N),G=r);w-=u;G-=U;R+=u;M+=U;C.left=w/B;C.top=1-G/H;C.right=R/B;C.bottom=1-M/H;F=w=Math.floor(w);N=G=Math.floor(G);na=R=Math.ceil(R);ha=M=Math.ceil(M);F-=u;N-=U;na+=u;ha+=U;0>w&&(w=0);0>G&&(G=0);R>B&&(R=B);M>H&&(M=H);0>
F&&(F=0);0>N&&(N=0);na>B&&(na=B);ha>H&&(ha=H);A.left=w/B;A.top=1-G/H;A.right=R/B;A.bottom=1-M/H}else A.left=C.left=0,A.top=C.top=0,A.right=C.right=1,A.bottom=C.bottom=1;U=c&&((c.Q||Ja)&&a.Xk(k[0].yc)||0!==u||0!==U||1!==c.opacity||c.type.Wb.ht)||b&&!c&&1!==b.opacity;a.It();if(U){m[s]||(m[s]=a.eg(B,H,this.g.yb));if(m[s].ak!==B||m[s].$j!==H)a.deleteTexture(m[s]),m[s]=a.eg(B,H,this.g.yb);a.Pf(0);a.Dg(m[s]);z=ha-N;a.clearRect(F,H-N-z,na-F,z);c?c.oe(a):(a.ge(this.g.Xd),a.qi(b.opacity),a.Mf(),a.translate(-D,
-E),a.Sf(),a.Jf(w,M,R,M,R,G,w,G,A));C.left=C.top=0;C.right=C.bottom=1;c&&(r=A.top,A.top=A.bottom,A.bottom=r);s=1;x=0}a.qi(1);u=k.length-1;var Ja=a.Pp(k[u].yc),Ka=0;n=0;for(p=k.length;n<p;n++){m[s]||(m[s]=a.eg(B,H,this.g.yb));if(m[s].ak!==B||m[s].$j!==H)a.deleteTexture(m[s]),m[s]=a.eg(B,H,this.g.yb);a.Pf(k[n].yc);Ka=k[n].index;a.Xm(k[n].yc)&&(this.g.Ya=!0);0!=n||U?(a.vj(d,1/B,1/H,C.left,C.top,C.right,C.bottom,l,c?c.Bb[Ka]:b?b.Bb[Ka]:this.Bb[Ka]),n!==u||Ja?(a.Dg(m[s]),z=ha-N,r=H-N-z,a.clearRect(F,r,
na-F,z)):(c?a.lh(c.Lc,c.Fc):b&&a.lh(b.Lc,b.Fc),a.Dg(d)),a.ge(m[x]),a.Mf(),a.translate(-D,-E),a.Sf(),a.Jf(w,M,R,M,R,G,w,G,A),n!==u||Ja||a.ge(null)):(a.Dg(m[s]),z=ha-N,r=H-N-z,a.clearRect(F,r,na-F,z),c?(a.vj(d,1/c.width,1/c.height,C.left,C.top,C.right,C.bottom,l,c.Bb[Ka]),c.oe(a)):(a.vj(d,1/B,1/H,0,0,1,1,l,b?b.Bb[Ka]:this.Bb[Ka]),a.ge(b?this.g.Xd:this.g.Se),a.Mf(),a.translate(-D,-E),a.Sf(),a.Jf(w,M,R,M,R,G,w,G,A)),C.left=C.top=0,C.right=C.bottom=1,c&&!Ja&&(r=M,M=G,G=r));s=0===s?1:0;x=0===s?1:0}Ja&&
(a.Pf(0),c?a.lh(c.Lc,c.Fc):b&&a.lh(b.Lc,b.Fc),a.Dg(d),a.ge(m[x]),a.Mf(),a.translate(-D,-E),a.Sf(),c&&1===k.length&&!U?a.Jf(w,G,R,G,R,M,w,M,A):a.Jf(w,M,R,M,R,G,w,G,A),a.ge(null))};a.prototype.nm=function(a){var b,c;b=0;for(c=this.Ka.length;b<c;b++)if(this.Ka[b].Fa===a)return this.Ka[b];return null};a.prototype.Jd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.Q,w:this.width,h:this.height,fv:this.gk,persist:this.hh,fx:[],layers:{}};a=0;for(b=this.pa.length;a<b;a++)c=this.pa[a],
d.fx.push({name:c.name,active:c.Pd,params:this.Bb[c.index]});a=0;for(b=this.Ka.length;a<b;a++)c=this.Ka[a],d.layers[c.Fa.toString()]=c.Jd();return d};a.prototype.te=function(a){var b,c,d,k;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.Q=a.a;this.width=a.w;this.height=a.h;this.hh=a.persist;"undefined"!==typeof a.fv&&(this.gk=a.fv);var l=a.fx;b=0;for(c=l.length;b<c;b++)if(d=this.Eo(l[b].name))d.Pd=l[b].active,this.Bb[d.index]=l[b].params;this.Fg();b=a.layers;for(k in b)b.hasOwnProperty(k)&&
(a=this.nm(parseInt(k,10)))&&a.te(b[k])};Sa=a;b.prototype.Fg=function(){this.Qa.length=0;var a,b,c;a=0;for(b=this.pa.length;a<b;a++)c=this.pa[a],c.Pd&&this.Qa.push(c)};b.prototype.Eo=function(a){var b,c,d;b=0;for(c=this.pa.length;b<c;b++)if(d=this.pa[b],d.name===a)return d;return null};b.prototype.Ov=function(){var a,b,c,h,k,l;b=a=0;for(c=this.Ti.length;a<c;a++){h=this.Ti[a];k=this.g.S[h[1]];l=this.g.yq(k);k=!0;if(!l||this.Wa.gk)h=this.g.Qg(h,this,!0),d.push(h),h.type.global&&(k=!1);k&&(this.Ti[b]=
this.Ti[a],b++)}this.Ti.length=b;this.g.Bc();!this.g.X&&this.pa.length&&(this.jd=this.kw);this.bk=Ma(this.jd);this.g.ba&&Na(this,this.jd,this.g.ba)};b.prototype.Wy=function(){if(this.Md){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].wi=a;this.Md=!1}};b.prototype.Bd=function(){return this.Xw()*this.g.Ll};b.prototype.Xw=function(){return(this.scale*this.Wa.scale-1)*this.Hq+1};b.prototype.jg=function(){return this.Mh?0:ua(this.Wa.Q+this.Q)};b.prototype.pf=function(a){this.kh=this.zo||1!==this.opacity||
0!==this.jd;var b=this.g.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.kh&&(this.g.Dm||(this.g.Dm=document.createElement("canvas"),b=this.g.Dm,b.width=this.g.width,b.height=this.g.height,this.g.Ts=b.getContext("2d")),b=this.g.Dm,c=this.g.Ts,b.width!==this.g.width&&(b.width=this.g.width),b.height!==this.g.height&&(b.height=this.g.height),this.ti&&c.clearRect(0,0,this.g.width,this.g.height));this.ti||(c.fillStyle="rgb("+this.Og[0]+","+this.Og[1]+","+this.Og[2]+")",c.fillRect(0,
0,this.g.width,this.g.height));c.save();this.Mh=!0;var d=this.Ji(!0),k=this.Ji(!1);this.Mh=!1;this.g.If&&(d=d+0.5|0,k=k+0.5|0);this.Zp(d,k,c);var l=this.Bd();c.scale(l,l);c.translate(-d,-k);for(var m,d=0,k=this.C.length;d<k;d++)l=this.C[d],l.visible&&0!==l.width&&0!==l.height&&(l.zc(),m=l.Ia,m.right<this.ud||m.bottom<this.wd||m.left>this.vd||m.top>this.td||(c.globalCompositeOperation=l.bk,l.pf(c)));c.restore();this.kh&&(a.globalCompositeOperation=this.bk,a.globalAlpha=this.opacity,a.drawImage(b,0,
0))};b.prototype.Zp=function(a,b,c){var d=this.Bd();this.ud=a;this.wd=b;this.vd=a+this.g.width*(1/d);this.td=b+this.g.height*(1/d);a=this.jg();0!==a&&(c&&(c.translate(this.g.width/2,this.g.height/2),c.rotate(-a),c.translate(this.g.width/-2,this.g.height/-2)),this.Eg.set(this.ud,this.wd,this.vd,this.td),this.Eg.offset((this.ud+this.vd)/-2,(this.wd+this.td)/-2),this.Tt.Jt(this.Eg,a),this.Tt.Lr(this.Eg),this.Eg.offset((this.ud+this.vd)/2,(this.wd+this.td)/2),this.ud=this.Eg.left,this.wd=this.Eg.top,
this.vd=this.Eg.right,this.td=this.Eg.bottom)};b.prototype.oe=function(a){var b=this.g.width,c=this.g.height,d=0,k=0;if(this.kh=this.zo||1!==this.opacity||0<this.Qa.length||0!==this.jd){this.g.Xd||(this.g.Xd=a.eg(this.g.width,this.g.height,this.g.yb));if(this.g.Xd.ak!==this.g.width||this.g.Xd.$j!==this.g.height)a.deleteTexture(this.g.Xd),this.g.Xd=a.eg(this.g.width,this.g.height,this.g.yb);a.Dg(this.g.Xd);this.ti&&a.clear(0,0,0,0)}this.ti||a.clear(this.Og[0]/255,this.Og[1]/255,this.Og[2]/255,1);this.Mh=
!0;var k=this.Ji(!0),l=this.Ji(!1);this.Mh=!1;this.g.If&&(k=k+0.5|0,l=l+0.5|0);this.Zp(k,l,null);l=this.Bd();a.Mf();a.scale(l,l);a.$p(-this.jg());a.translate((this.ud+this.vd)/-2,(this.wd+this.td)/-2);a.Sf();var m,n,p;m=0;for(n=this.C.length;m<n;m++)if(p=this.C[m],p.visible&&0!==p.width&&0!==p.height&&(p.zc(),d=p.Ia,!(d.right<this.ud||d.bottom<this.wd||d.left>this.vd||d.top>this.td)))if(p.bu)if(d=p.Qa[0].yc,k=p.Qa[0].index,1!==p.Qa.length||a.Pp(d)||a.By(d)||(p.Q||p.K.jg())&&a.Xk(d)||1!==p.opacity||
p.type.Wb.ht)this.Wa.Xp(a,this,p,this.kh?this.g.Xd:this.Wa.kk()),a.Mf(),a.scale(l,l),a.$p(-this.jg()),a.translate((this.ud+this.vd)/-2,(this.wd+this.td)/-2),a.Sf();else{a.Pf(d);a.lh(p.Lc,p.Fc);a.Xm(d)&&(this.g.Ya=!0);var u=0,r=0,s=0,x=0;a.Xk(d)&&(d=p.Ia,u=this.gc(d.left,d.top,!0),r=this.gc(d.left,d.top,!1),s=this.gc(d.right,d.bottom,!0),d=this.gc(d.right,d.bottom,!1),u/=b,r=1-r/c,s/=b,x=1-d/c);a.vj(this.kh?this.g.Xd:this.Wa.kk(),1/p.width,1/p.height,u,r,s,x,this.Bd(),p.Bb[k]);p.oe(a)}else a.Pf(0),
a.lh(p.Lc,p.Fc),p.oe(a);this.kh&&(d=this.Qa.length?this.Qa[0].yc:0,k=this.Qa.length?this.Qa[0].index:0,0===this.Qa.length||1===this.Qa.length&&!a.Pp(d)&&1===this.opacity?(1===this.Qa.length?(a.Pf(d),a.vj(this.Wa.kk(),1/this.g.width,1/this.g.height,0,0,1,1,this.Bd(),this.Bb[k]),a.Xm(d)&&(this.g.Ya=!0)):a.Pf(0),a.Dg(this.Wa.kk()),a.qi(this.opacity),a.ge(this.g.Xd),a.lh(this.Lc,this.Fc),a.Mf(),a.Sf(),b=this.g.width/2,c=this.g.height/2,a.Zm(-b,c,b,c,b,-c,-b,-c),a.ge(null)):this.Wa.Xp(a,this,null,this.Wa.kk()))};
b.prototype.Ji=function(a){var b=0,c=0,d=this.g.devicePixelRatio;this.g.tk&&0<this.g.qe&&(b*=d,c*=d);var d=this.g.Id/2,k=this.g.Hd/2,d=(this.Wa.scrollX-d)*this.Tk+d,k=(this.Wa.scrollY-k)*this.Uk+k,l=1/this.Bd(),d=d-this.g.width*l/2,k=k-this.g.height*l/2,d=d+b*l,k=k+c*l,c=this.jg();0!==c&&(d-=this.Wa.scrollX,k-=this.Wa.scrollY,b=Math.cos(c),c=Math.sin(c),l=d*b-k*c,k=k*b+d*c,d=l+this.Wa.scrollX,k+=this.Wa.scrollY);return a?d:k};b.prototype.gc=function(a,b,c){var d=this.jg();if(0!==d){a-=this.Wa.scrollX;
b-=this.Wa.scrollY;var k=Math.cos(-d),d=Math.sin(-d),l=a*k-b*d;b=b*k+a*d;a=l+this.Wa.scrollX;b+=this.Wa.scrollY}k=this.g.Id/2;d=this.g.Hd/2;k=(this.Wa.scrollX-k)*this.Tk+k;d=(this.Wa.scrollY-d)*this.Uk+d;l=1/this.Bd();k-=this.g.width*l/2;d-=this.g.height*l/2;k=(a-k)/l;d=(b-d)/l;a=this.g.devicePixelRatio;this.g.tk&&0<this.g.qe&&(k/=a,d/=a);return c?k:d};b.prototype.Jd=function(){var a,b,c,d={s:this.scale,a:this.Q,vl:this.ud,vt:this.wd,vr:this.vd,vb:this.td,v:this.visible,bc:this.Og,t:this.ti,px:this.Tk,
py:this.Uk,o:this.opacity,zr:this.Hq,fx:[],instances:[]};a=0;for(b=this.pa.length;a<b;a++)c=this.pa[a],d.fx.push({name:c.name,active:c.Pd,params:this.Bb[c.index]});return d};b.prototype.te=function(a){var b,d;this.scale=a.s;this.Q=a.a;this.ud=a.vl;this.wd=a.vt;this.vd=a.vr;this.td=a.vb;this.visible=a.v;this.Og=a.bc;this.ti=a.t;this.Tk=a.px;this.Uk=a.py;this.opacity=a.o;this.Hq=a.zr;var h=a.fx;a=0;for(b=h.length;a<b;a++)if(d=this.Eo(h[a].name))d.Pd=h[a].active,this.Bb[d.index]=h[a].params;this.Fg();
this.C.sort(c);this.Md=!0};Ya=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function b(a,b){return a.index-b.index}function c(c){var d,e,n,f;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=u.length&&(u.length=c.length+1);u[c.length]||(u[c.length]=[]);f=u[c.length];d=0;for(e=f.length;d<e;d++)if(n=f[d],a(c,n))return n;f.push(c);return c}
function d(a,b){this.g=a;this.Vt={};this.ks={};this.Ho=!1;this.Bs=new Ga;this.name=b[0];var c=b[1];this.Ug=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Es(c[d],null,this.Ug)}function e(a){this.type=a;this.C=[];this.Va=[];this.Gb=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Mb=[];this.mh=[];this.zs=this.nn=this.vq=this.Mo=this.group=this.Mt=!1;this.Ib=[];this.Le=[];this.De=[];c[1]?(this.mk=c[1][1].toLowerCase(),this.group=!0,this.Mo=!!c[1][0],this.g.Hi.push(this),this.g.Jl[this.mk.toLowerCase()]=
this.Mo):(this.mk="",this.Mo=this.group=!1);this.Hf=c[2];this.Fa=c[4];this.group||(this.g.Kr[this.Fa.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Za(this,d[a]);e.index=a;this.Ib.push(e);this.Ar(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new $a(this,d[a]),e.index=a,this.Le.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Es(c[a],this,this.De);this.xm=!1;this.Ib.length&&(this.xm=null==this.Ib[0].type&&this.Ib[0].Tb==L.prototype.ja.su)}function g(a,b){var c,
d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Wd))for(c=0,d=a.od.length;c<d;c++)e=a.od[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function h(a,b){this.Rd=a;this.sheet=a.sheet;this.g=a.g;this.da=[];this.wa=[];this.aa={};this.index=-1;this.Tb=b[1];this.trigger=0<b[3];this.js=2===b[3];this.pk=b[5];this.Ix=b[6];this.Fa=b[7];this.g.Li[this.Fa.toString()]=this;-1===b[0]?(this.type=null,this.ic=this.cq,this.Hh=null,this.xc=-1):(this.type=this.g.S[b[0]],this.ic=this.Ix?this.Jy:this.bq,b[2]?(this.Hh=this.type.mm(b[2]),
this.xc=this.type.Co(b[2])):(this.Hh=null,this.xc=-1),this.Rd.parent&&this.Rd.parent.dn());this.js&&(this.ic=this.Ky);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var n=new ab(this,e[c]);this.da.push(n)}this.wa.length=e.length}}function k(a,b){this.Rd=a;this.sheet=a.sheet;this.g=a.g;this.da=[];this.wa=[];this.aa={};this.index=-1;this.Tb=b[1];-1===b[0]?(this.type=null,this.ic=this.cq,this.Hh=null,this.xc=-1):(this.type=this.g.S[b[0]],this.ic=this.bq,b[2]?(this.Hh=this.type.mm(b[2]),
this.xc=this.type.Co(b[2])):(this.Hh=null,this.xc=-1));this.Fa=b[3];this.g.Gi[this.Fa.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var n=new ab(this,e[c]);this.da.push(n)}this.wa.length=e.length}}function l(a,b){this.ga=a;this.Rd=a.Rd;this.sheet=a.sheet;this.g=a.g;this.type=b[0];this.rf=null;this.Vr=this.nh=0;this.Wa=null;this.key=0;this.object=null;this.index=0;this.un=this.yj=this.ls=this.Ph=this.gl=null;var c,d,e;switch(b[0]){case 0:case 7:this.rf=new bb(this,b[1]);
this.nh=0;this.get=this.hx;break;case 1:this.rf=new bb(this,b[1]);this.nh=0;this.get=this.ix;break;case 5:this.rf=new bb(this,b[1]);this.nh=0;this.get=this.mx;break;case 3:case 8:this.Vr=b[1];this.get=this.dx;break;case 6:this.Wa=this.g.bp[b[1]];this.get=this.nx;break;case 9:this.key=b[1];this.get=this.lx;break;case 4:this.object=this.g.S[b[1]];this.get=this.ox;this.Rd.Ar(this.object);this.ga instanceof $a?this.Rd.dn():this.Rd.parent&&this.Rd.parent.dn();break;case 10:this.index=b[1];this.get=a.type.la?
this.jx:this.kx;break;case 11:this.gl=b[1];this.Ph=null;this.get=this.gx;break;case 2:case 12:this.ls=b[1];this.get=this.cx;break;case 13:for(this.get=this.qx,this.yj=[],this.un=[],c=1,d=b.length;c<d;c++)e=new ab(this.ga,b[c]),this.yj.push(e),this.un.push(0)}}function m(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Mb=[];this.name=c[1];this.Lo=c[3];this.vk=!!c[4];this.wm=!!c[5];this.Fa=c[6];this.g.Aj[this.Fa.toString()]=this;this.data=this.Lo;this.parent?(this.ci=this.vk||this.wm?-1:this.g.Py++,
this.g.Dv.push(this)):(this.ci=-1,this.g.Cv.push(this))}function n(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.Mb=[];this.nk=null;this.wx=c[1]}function p(){this.Pt=[];this.reset(null)}var u=[];d.prototype.toString=t("name");d.prototype.Es=function(a,b,c){switch(a[0]){case 0:a=new cb(this,b,a);if(a.Hf)for(c.push(a),c=0,b=a.Ib.length;c<b;c++)a.Ib[c].trigger&&this.Fs(a,c);else a.Ks()?this.Fs(a,0):c.push(a);break;case 1:a=new Va(this,b,a);c.push(a);break;case 2:a=new db(this,b,a),c.push(a)}};d.prototype.Lb=
function(){var a,b;a=0;for(b=this.Ug.length;a<b;a++)this.Ug[a].Lb(a<b-1&&this.Ug[a+1].xm)};d.prototype.ic=function(a){this.g.DA||(this.Ho=!0,a||(this.g.Qo=!0));var b,c;b=0;for(c=this.Ug.length;b<c;b++){var d=this.Ug[b];d.ic();this.g.fo(d.Mb);this.g.of.qk()&&!this.g.Td.length||this.g.Bc()}a||(this.g.Qo=!1)};d.prototype.Fs=function(a,b){a.Hf||this.g.qn.push(a);var c,d,e=a.Ib[b],n;n=e.type?e.type.name:"system";var f=(c=e.js)?this.ks:this.Vt;f[n]||(f[n]=[]);n=f[n];f=e.Tb;if(c){if(e.da.length&&(e=e.da[0],
1===e.type&&2===e.rf.type)){e=e.rf.value.toLowerCase();c=0;for(d=n.length;c<d;c++)if(n[c].method==f){c=n[c].dm;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];n.push({method:f,dm:c})}}else{c=0;for(d=n.length;c<d;c++)if(n[c].method==f){n[c].dm.push([a,b]);return}n.push({method:f,dm:[[a,b]]})}};Ta=d;e.prototype.xs=function(){return this.Gb?this.type.C.length:this.C.length};e.prototype.vf=function(){return this.Gb?this.type.C:this.C};e.prototype.Vk=function(a){a&&(a.g.Ud().Ne.Hf?(this.Gb&&
(this.C.length=0,qa(this.Va,a.type.C),this.Gb=!1),a=this.Va.indexOf(a),-1!==a&&(this.C.push(this.Va[a]),this.Va.splice(a,1))):(this.Gb=!1,this.C.length=1,this.C[0]=a))};Ra=e;f.prototype.Lb=function(a){var b,d=this.parent;if(this.group)for(this.nn=!0;d;){if(!d.group){this.nn=!1;break}d=d.parent}this.vq=!this.Ks()&&(!this.parent||this.parent.group&&this.parent.nn);this.zs=!!a;this.mh=this.Mb.slice(0);for(d=this.parent;d;){a=0;for(b=d.Mb.length;a<b;a++)this.Av(d.Mb[a]);d=d.parent}this.Mb=c(this.Mb);
this.mh=c(this.mh);a=0;for(b=this.Ib.length;a<b;a++)this.Ib[a].Lb();a=0;for(b=this.Le.length;a<b;a++)this.Le[a].Lb();a=0;for(b=this.De.length;a<b;a++)this.De[a].Lb(a<b-1&&this.De[a+1].xm)};f.prototype.Ar=function(a){g(a,this.Mb)};f.prototype.Av=function(a){g(a,this.mh)};f.prototype.dn=function(){this.Mt=!0;this.parent&&this.parent.dn()};f.prototype.Ks=function(){return this.Ib.length?this.Ib[0].trigger:!1};f.prototype.ic=function(){var a,b=!1,c,d=this.g.Ud();d.Ne=this;this.xm||(d.ro=!1);if(this.Hf){0===
this.Ib.length&&(b=!0);d.kd=0;for(a=this.Ib.length;d.kd<a;d.kd++)this.Ib[d.kd].trigger||(c=this.Ib[d.kd].ic())&&(b=!0);(d.$i=b)&&this.aq()}else{d.kd=0;for(a=this.Ib.length;d.kd<a;d.kd++)if(c=this.Ib[d.kd].ic(),!c){d.$i=!1;!this.vq||this.g.of.qk()&&!this.g.Td.length||this.g.Bc();return}d.$i=!0;this.aq()}this.mw(d)};f.prototype.mw=function(a){a.$i&&this.zs&&(a.ro=!0);!this.vq||this.g.of.qk()&&!this.g.Td.length||this.g.Bc()};f.prototype.Hy=function(a){this.g.Ud().Ne=this;this.Ib[a].ic()&&this.aq()};
f.prototype.aq=function(){var a=this.g.Ud(),b;a.le=0;for(b=this.Le.length;a.le<b;a.le++)if(this.Le[a.le].ic())return;this.Dt()};f.prototype.Fy=function(){var a=this.g.Ud(),b;for(b=this.Le.length;a.le<b;a.le++)if(this.Le[a.le].ic())return;this.Dt()};f.prototype.Dt=function(){if(this.De.length){var a,b,c,d,e=this.De.length-1;this.g.Sp(this);if(this.Mt)for(a=0,b=this.De.length;a<b;a++)c=this.De[a],(d=!this.nn||!this.group&&a<e)&&this.g.Rp(c.Mb),c.ic(),d?this.g.uj(c.Mb):this.g.fo(c.Mb);else for(a=0,b=
this.De.length;a<b;a++)this.De[a].ic();this.g.qt()}};f.prototype.Iy=function(){var a=this.g.Ud();a.Ne=this;var b=!1,c;a.kd=0;for(c=this.Ib.length;a.kd<c;a.kd++)if(this.Ib[a.kd].ic())b=!0;else if(!this.Hf)return!1;return this.Hf?b:!0};f.prototype.Ex=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ib[b].type===a.type)return!1;return!0};cb=f;h.prototype.Lb=function(){var a,b;a=0;for(b=this.da.length;a<b;a++)this.da[a].Lb()};h.prototype.Ky=v(!0);h.prototype.cq=function(){var a,b;
a=0;for(b=this.da.length;a<b;a++)this.wa[a]=this.da[a].get();return Ca(this.Tb.apply(this.g.Qf,this.wa),this.pk)};h.prototype.Jy=function(){var a,b;a=0;for(b=this.da.length;a<b;a++)this.wa[a]=this.da[a].get(a);a=this.Tb.apply(this.Hh?this.Hh:this.type,this.wa);this.type.Kl();return a};h.prototype.bq=function(){var a,b,c,d,e,n,f,g=this.type.ib(),h=this.Rd.Hf&&!this.trigger,l=0,k=this.type.Wd;if(g.Gb){g.C.length=0;a=g.Va.length=0;for(c=this.type.C.length;a<c;a++){n=this.type.C[a];b=0;for(d=this.da.length;b<
d;b++)this.wa[b]=this.da[b].get(a);-1<this.xc?(this.type.la&&(l=n.type.Ri[this.type.sf]),b=this.Tb.apply(n.Ja[this.xc+l],this.wa)):b=this.Tb.apply(n,this.wa);(e=Ca(b,this.pk))?g.C.push(n):h&&g.Va.push(n)}this.type.finish&&this.type.finish(!0);g.Gb=!1;this.type.Kl();return g.xs()}var m=0,p=(e=h&&!this.Rd.Ex(this))?g.Va:g.C,u=!1;a=0;for(c=p.length;a<c;a++){n=p[a];b=0;for(d=this.da.length;b<d;b++)this.wa[b]=this.da[b].get(a);-1<this.xc?(this.type.la&&(l=n.type.Ri[this.type.sf]),b=this.Tb.apply(n.Ja[this.xc+
l],this.wa)):b=this.Tb.apply(n,this.wa);if(Ca(b,this.pk))if(u=!0,e){if(g.C.push(n),k)for(b=0,d=n.siblings.length;b<d;b++)f=n.siblings[b],f.type.ib().C.push(f)}else{p[m]=n;if(k)for(b=0,d=n.siblings.length;b<d;b++)f=n.siblings[b],f.type.ib().C[m]=f;m++}else if(e){p[m]=n;if(k)for(b=0,d=n.siblings.length;b<d;b++)f=n.siblings[b],f.type.ib().Va[m]=f;m++}else if(h&&(g.Va.push(n),k))for(b=0,d=n.siblings.length;b<d;b++)f=n.siblings[b],f.type.ib().Va.push(f)}p.length=m;if(k)for(a=0,c=this.type.od.length;a<
c;a++)n=this.type.od[a].ib(),e?n.Va.length=m:n.C.length=m;l=u;if(e&&!u)for(a=0,c=g.C.length;a<c;a++){n=g.C[a];b=0;for(d=this.da.length;b<d;b++)this.wa[b]=this.da[b].get(a);b=-1<this.xc?this.Tb.apply(n.Ja[this.xc],this.wa):this.Tb.apply(n,this.wa);if(Ca(b,this.pk)){u=!0;break}}this.type.finish&&this.type.finish(l||h);return h?u:g.xs()};Za=h;k.prototype.Lb=function(){var a,b;a=0;for(b=this.da.length;a<b;a++)this.da[a].Lb()};k.prototype.cq=function(){var a,b;a=0;for(b=this.da.length;a<b;a++)this.wa[a]=
this.da[a].get();return this.Tb.apply(this.g.Qf,this.wa)};k.prototype.bq=function(){var a=this.type.ib().vf(),b,c,d,e,n;b=0;for(d=a.length;b<d;b++){n=a[b];c=0;for(e=this.da.length;c<e;c++)this.wa[c]=this.da[c].get(b);-1<this.xc?(c=0,this.type.la&&(c=n.type.Ri[this.type.sf]),this.Tb.apply(n.Ja[this.xc+c],this.wa)):this.Tb.apply(n,this.wa)}return!1};$a=k;var r=[],s=-1;l.prototype.Lb=function(){var a,b;if(11===this.type)this.Ph=this.g.ts(this.gl,this.Rd.parent);else if(13===this.type)for(a=0,b=this.yj.length;a<
b;a++)this.yj[a].Lb();this.rf&&this.rf.Lb()};l.prototype.hc=function(){s++;r.length===s&&r.push(new eb);return r[s]};l.prototype.Xb=function(){s--};l.prototype.hx=function(a){this.nh=a||0;a=this.hc();this.rf.get(a);this.Xb();return a.data};l.prototype.ix=function(a){this.nh=a||0;a=this.hc();this.rf.get(a);this.Xb();return J(a.data)?a.data:""};l.prototype.ox=t("object");l.prototype.dx=t("Vr");l.prototype.mx=function(a){this.nh=a||0;a=this.hc();this.rf.get(a);this.Xb();return a.sc()?this.g.Ww(a.data):
this.g.Vw(a.data)};l.prototype.nx=t("Wa");l.prototype.lx=t("key");l.prototype.kx=t("index");l.prototype.jx=function(a){var b=this.ga.type,c=null,c=b.ib(),d=c.vf(),c=d.length?d[a%d.length].type:c.Va[a%c.Va.length].type;return this.index+c.fm[b.sf]};l.prototype.gx=t("Ph");l.prototype.cx=t("ls");l.prototype.qx=function(){var a,b;a=0;for(b=this.yj.length;a<b;a++)this.un[a]=this.yj[a].get();return this.un};ab=l;m.prototype.Lb=function(){this.Mb=c(this.Mb)};m.prototype.Oy=function(a){var b=this.g.rs();
this.parent&&!this.vk&&b?(this.ci>=b.length&&(b.length=this.ci+1),b[this.ci]=a):this.data=a};m.prototype.bx=function(){var a=this.g.rs();return!this.parent||this.vk||!a||this.wm?this.data:this.ci>=a.length||"undefined"===typeof a[this.ci]?this.Lo:a[this.ci]};m.prototype.ic=function(){!this.parent||this.vk||this.wm||this.Oy(this.Lo)};Va=m;n.prototype.toString=function(){return"include:"+this.nk.toString()};n.prototype.Lb=function(){this.nk=this.g.to[this.wx];this.sheet.Bs.add(this);this.Mb=c(this.Mb)};
n.prototype.ic=function(){this.parent&&this.g.Zk(this.g.S);this.nk.Ho||this.nk.ic(!0);this.parent&&this.g.uj(this.g.S)};n.prototype.zx=function(){for(var a=this.parent;a;){if(a.group&&!this.g.Jl[a.mk.toLowerCase()])return!1;a=a.parent}return!0};db=n;p.prototype.reset=function(a){this.Ne=a;this.le=this.kd=0;this.Pt.length=0;this.ro=this.$i=!1};Ua=p})();
(function(){function a(a,b){this.ga=a;this.g=a.g;this.type=b[0];this.get=[this.zw,this.vw,this.Hw,this.Kw,this.ow,this.Iw,this.Dw,this.rw,this.Cw,this.Gw,this.pw,this.Fw,this.sw,this.Ew,this.Aw,this.Bw,this.ww,this.xw,this.qw,this.Jw,this.gs,this.yw,this.gs,this.uw][this.type];var e=null;this.Gd=this.da=this.wa=this.Tb=this.ln=this.uc=this.first=this.value=null;this.xc=-1;this.kg=null;this.Dq=-1;this.Ph=this.gl=null;this.$k=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new bb(a,b[1]);break;case 18:this.first=new bb(a,b[1]);this.uc=new bb(a,b[2]);this.ln=new bb(a,b[3]);break;case 19:this.Tb=b[1];this.wa=[];this.da=[];3===b.length?(e=b[2],this.wa.length=e.length+1):this.wa.length=1;break;case 20:this.Gd=this.g.S[b[1]];this.xc=-1;this.Tb=b[2];this.$k=b[3];this.kg=b[4]?new bb(a,b[4]):null;this.wa=[];this.da=[];6===b.length?(e=b[5],this.wa.length=e.length+1):this.wa.length=1;break;case 21:this.Gd=this.g.S[b[1]];this.$k=b[2];this.kg=b[3]?new bb(a,b[3]):null;this.Dq=b[4];
break;case 22:this.Gd=this.g.S[b[1]];this.Gd.mm(b[2]);this.xc=this.Gd.Co(b[2]);this.Tb=b[3];this.$k=b[4];this.kg=b[5]?new bb(a,b[5]):null;this.wa=[];this.da=[];7===b.length?(e=b[6],this.wa.length=e.length+1):this.wa.length=1;break;case 23:this.gl=b[1],this.Ph=null}4<=this.type&&17>=this.type&&(this.first=new bb(a,b[1]),this.uc=new bb(a,b[2]));if(e){var f,g;f=0;for(g=e.length;f<g;f++)this.da.push(new bb(a,e[f]))}}function b(a,b){this.type=a||fb.Nj;this.data=b||0;this.qj=null;this.type==fb.Nj&&(this.data=
Math.floor(this.data))}a.prototype.Lb=function(){23===this.type&&(this.Ph=this.ga.g.ts(this.gl,this.ga.Rd.parent));this.first&&this.first.Lb();this.uc&&this.uc.Lb();this.ln&&this.ln.Lb();this.kg&&this.kg.Lb();if(this.da){var a,b;a=0;for(b=this.da.length;a<b;a++)this.da[a].Lb()}};a.prototype.Jw=function(a){this.wa[0]=a;a=this.ga.hc();var b,e;b=0;for(e=this.da.length;b<e;b++)this.da[b].get(a),this.wa[b+1]=a.data;this.ga.Xb();this.Tb.apply(this.g.Qf,this.wa)};a.prototype.gs=function(a){var b=this.Gd.ib(),
e=b.vf();if(!e.length)if(b.Va.length)e=b.Va;else{this.$k?a.df(""):a.mb(0);return}this.wa[0]=a;a.qj=this.Gd;a=this.ga.hc();var f,b=0;for(f=this.da.length;b<f;b++)this.da[b].get(a),this.wa[b+1]=a.data;b=this.ga.nh;this.kg&&(this.kg.get(a),a.sc()&&(b=a.data,e=this.Gd.C));this.ga.Xb();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.xc?(a=0,this.Gd.la&&(a=e.type.Ri[this.Gd.sf]),this.Tb.apply(e.Ja[this.xc+a],this.wa)):this.Tb.apply(e,this.wa)};a.prototype.yw=function(a){var b=this.Gd.ib(),e=b.vf();if(!e.length)if(b.Va.length)e=
b.Va;else{this.$k?a.df(""):a.mb(0);return}b=this.ga.nh;if(this.kg){var f=this.ga.hc();this.kg.get(f);if(f.sc()){b=f.data;e=this.Gd.C;b%=e.length;0>b&&(b+=e.length);e=e[b].fc[this.Dq];J(e)?a.df(e):a.Ca(e);this.ga.Xb();return}this.ga.Xb()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.Gd.la&&(b=e.type.fm[this.Gd.sf]);e=e.fc[this.Dq+b];J(e)?a.df(e):a.Ca(e)};a.prototype.zw=function(a){a.type=fb.Nj;a.data=this.value};a.prototype.vw=function(a){a.type=fb.Ij;a.data=this.value};a.prototype.Hw=function(a){a.type=
fb.Vn;a.data=this.value};a.prototype.Kw=function(a){this.first.get(a);a.sc()&&(a.data=-a.data)};a.prototype.ow=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data+=b.data,b.Ui()&&a.nj());this.ga.Xb()};a.prototype.Iw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data-=b.data,b.Ui()&&a.nj());this.ga.Xb()};a.prototype.Dw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data*=b.data,b.Ui()&&a.nj());
this.ga.Xb()};a.prototype.rw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data/=b.data,a.nj());this.ga.Xb()};a.prototype.Cw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data%=b.data,b.Ui()&&a.nj());this.ga.Xb()};a.prototype.Gw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data=Math.pow(a.data,b.data),b.Ui()&&a.nj());this.ga.Xb()};a.prototype.pw=function(a){this.first.get(a);var b=this.ga.hc();
this.uc.get(b);a.sc()?b.ym()?a.df(a.data.toString()+b.data):a.data&&b.data?a.mb(1):a.mb(0):a.ym()&&(a.data=b.ym()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.ga.Xb()};a.prototype.Fw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.sc()&&b.sc()&&(a.data||b.data?a.mb(1):a.mb(0));this.ga.Xb()};a.prototype.qw=function(a){this.first.get(a);a.data?this.uc.get(a):this.ln.get(a)};a.prototype.sw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data===
b.data?1:0);this.ga.Xb()};a.prototype.Ew=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data!==b.data?1:0);this.ga.Xb()};a.prototype.Aw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data<b.data?1:0);this.ga.Xb()};a.prototype.Bw=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data<=b.data?1:0);this.ga.Xb()};a.prototype.ww=function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data>b.data?1:0);this.ga.Xb()};a.prototype.xw=
function(a){this.first.get(a);var b=this.ga.hc();this.uc.get(b);a.mb(a.data>=b.data?1:0);this.ga.Xb()};a.prototype.uw=function(a){var b=this.Ph.bx();ca(b)?a.Ca(b):a.df(b)};bb=a;b.prototype.Ui=function(){return this.type===fb.Ij};b.prototype.sc=function(){return this.type===fb.Nj||this.type===fb.Ij};b.prototype.ym=function(){return this.type===fb.Vn};b.prototype.nj=function(){this.Ui()||(this.ym()&&(this.data=parseFloat(this.data)),this.type=fb.Ij)};b.prototype.mb=function(a){this.type=fb.Nj;this.data=
Math.floor(a)};b.prototype.Ca=function(a){this.type=fb.Ij;this.data=a};b.prototype.df=function(a){this.type=fb.Vn;this.data=a};eb=b;fb={Nj:0,Ij:1,Vn:2}})();function L(a){this.g=a;this.Ld=[]}
L.prototype.Jd=function(){var a={},b,c,d,e,f,g,h,k;a.waits=[];var l=a.waits,m;b=0;for(c=this.Ld.length;b<c;b++){g=this.Ld[b];m={t:g.time,ev:g.ek.Fa,sm:[],sols:{}};g.ek.Le[g.le]&&(m.act=g.ek.Le[g.le].Fa);d=0;for(e=g.Mb.length;d<e;d++)m.sm.push(g.Mb[d].Fa);for(f in g.Kd)if(g.Kd.hasOwnProperty(f)){h=this.g.S[parseInt(f,10)];k={sa:g.Kd[f].Gt,insts:[]};d=0;for(e=g.Kd[f].Wh.length;d<e;d++)k.insts.push(g.Kd[f].Wh[d].uid);m.sols[h.Fa.toString()]=k}l.push(m)}return a};
L.prototype.te=function(a){a=a.waits;var b,c,d,e,f,g,h,k,l,m,n;b=this.Ld.length=0;for(c=a.length;b<c;b++)if(g=a[b],k=this.g.Kr[g.ev.toString()]){l=-1;d=0;for(e=k.Le.length;d<e;d++)if(k.Le[d].Fa===g.act){l=d;break}if(-1!==l){h={Kd:{},Mb:[],cs:!1};h.time=g.t;h.ek=k;h.le=l;d=0;for(e=g.sm.length;d<e;d++)(k=this.g.pm(g.sm[d]))&&h.Mb.push(k);for(f in g.sols)if(g.sols.hasOwnProperty(f)&&(k=this.g.pm(parseInt(f,10)))){l=g.sols[f];m={Gt:l.sa,Wh:[]};d=0;for(e=l.insts.length;d<e;d++)(n=this.g.jk(l.insts[d]))&&
m.Wh.push(n);h.Kd[k.index.toString()]=m}this.Ld.push(h)}}};
(function(){function a(){}function b(){}function c(){}var d=L.prototype;a.prototype.uu=v(!0);a.prototype.br=v(!0);a.prototype.Pu=v(!0);a.prototype.tu=function(a){var b=this.g.qs(),c=b.aa.zn||0,d=this.g.Zg.Mc;"undefined"===typeof b.aa.An&&(b.aa.An=a);var e=b.aa.An;return d>=c+e?(b.aa.zn=c+e,d>=b.aa.zn+e&&(b.aa.zn=d),b.aa.An=a,!0):!1};a.prototype.su=function(){var a=this.g.Ud();return a.ro?!1:!a.$i};a.prototype.cr=v(!0);a.prototype.Ju=v(!0);a.prototype.Nn=v(!0);a.prototype.Qu=v(!0);a.prototype.Mn=v(!0);
d.ja=new a;b.prototype.qu=function(a,b,c,d){if(b&&a&&(b=this.g.Yr(a,b,c,d))){this.g.Re++;var e;this.g.trigger(Object.getPrototypeOf(a.Wb).ja.Ln,b);if(b.Wd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.g.trigger(Object.getPrototypeOf(e.type.Wb).ja.Ln,e);this.g.Re--;a=a.ib();a.Gb=!1;a.C.length=1;a.C[0]=b;if(b.Wd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.ib(),a.Gb=!1,a.C.length=1,a.C[0]=e}};var e=[],f=[];d.Ob=new b;c.prototype["int"]=function(a,b){J(b)?(a.mb(parseInt(b,
10)),isNaN(a.data)&&(a.data=0)):a.mb(b)};c.prototype["float"]=function(a,b){J(b)?(a.Ca(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Ca(b)};c.prototype.random=function(a,b,c){void 0===c?a.Ca(Math.random()*b):a.Ca(Math.random()*(c-b)+b)};c.prototype.sqrt=function(a,b){a.Ca(Math.sqrt(b))};c.prototype.abs=function(a,b){a.Ca(Math.abs(b))};c.prototype.round=function(a,b){a.mb(Math.round(b))};c.prototype.floor=function(a,b){a.mb(Math.floor(b))};c.prototype.ceil=function(a,b){a.mb(Math.ceil(b))};c.prototype.sin=
function(a,b){a.Ca(Math.sin(K(b)))};c.prototype.cos=function(a,b){a.Ca(Math.cos(K(b)))};c.prototype.tan=function(a,b){a.Ca(Math.tan(K(b)))};c.prototype.asin=function(a,b){a.Ca(sa(Math.asin(b)))};c.prototype.acos=function(a,b){a.Ca(sa(Math.acos(b)))};c.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.Ca(b)};c.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.Ca(b)};
c.prototype.ua=function(a){a.Ca(this.g.ua)};c.prototype.ph=function(a){a.Ca(this.g.ph)};c.prototype.time=function(a){a.Ca(this.g.Zg.Mc)};c.prototype.Ee=function(a){a.mb(this.g.Ee)};c.prototype.Um=function(a){a.mb(this.g.Um)};c.prototype.Ao=function(a){a.mb(this.g.Ao)};c.prototype.hg=function(a,b,c,d,e){a.Ca(Ba(b,c,d,e))};c.prototype.Q=function(a,b,c,d,e){a.Ca(sa(xa(b,c,d,e)))};c.prototype.left=function(a,b,c){a.df(J(b)?b.substr(0,c):"")};c.prototype.right=function(a,b,c){a.df(J(b)?b.substr(b.length-
c):"")};c.prototype.replace=function(a,b,c,d){J(b)&&J(c)&&J(d)?a.df(b.replace(RegExp(Ia(c),"gi"),d)):a.df(J(b)?b:"")};c.prototype.lo=function(a){a.Ca(this.g.lo/1E3)};c.prototype.Gm=function(a){a.Ca(this.g.Gm)};d.Gc=new c;d.Gy=function(){var a,b,c,d,m,n,p=this.g.Ud();a=0;for(c=this.Ld.length;a<c;a++)if(d=this.Ld[a],!(d.time>this.g.Zg.Mc)){p.Ne=d.ek;p.le=d.le;p.kd=0;for(b in d.Kd)d.Kd.hasOwnProperty(b)&&(m=this.g.S[parseInt(b,10)].ib(),n=d.Kd[b],m.Gb=n.Gt,qa(m.C,n.Wh),m=n,m.Wh.length=0,f.push(m));d.ek.Fy();
this.g.fo(d.Mb);d.cs=!0}b=a=0;for(c=this.Ld.length;a<c;a++)d=this.Ld[a],this.Ld[b]=d,d.cs?(Ea(d.Kd),d.Mb.length=0,e.push(d)):b++;this.Ld.length=b}})();
function pb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],h=a[7];a=a[8];b.ja||(b.ja={});b.Ob||(b.Ob={});b.Gc||(b.Gc={});var k=b.ja,l=b.Ob,b=b.Gc;d&&(k.rz=function(a,b){return Kb(this.x,a,b)},k.sz=function(a,b){return Kb(this.y,a,b)},k.Az=function(){var a=this.K;this.zc();var b=this.Ia;return!(b.right<a.ud||b.bottom<a.wd||b.left>a.vd||b.top>a.td)},k.Bz=function(){this.zc();var a=this.Ia,b=this.g.wb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.Qz=function(a,b,c){var d=
this.ib(),e=d.vf();if(!e.length)return!1;var f=e[0],l=f,g=Ba(f.x,f.y,b,c),h,k,D;h=1;for(k=e.length;h<k;h++)if(f=e[h],D=Ba(f.x,f.y,b,c),0===a&&D<g||1===a&&D>g)g=D,l=f;d.Vk(l);return!0},l.kA=function(a){this.x!==a&&(this.x=a,this.Za())},l.lA=function(a){this.y!==a&&(this.y=a,this.Za())},l.fA=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Za()},l.gA=function(a,b){var c=a.Yw(this);if(c){var d;c.uf?(d=c.uf(b,!0),c=c.uf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Za()}},
l.Iz=function(a){0!==a&&(this.x+=Math.cos(this.Q)*a,this.y+=Math.sin(this.Q)*a,this.Za())},l.Hz=function(a,b){0!==b&&(this.x+=Math.cos(K(a))*b,this.y+=Math.sin(K(a))*b,this.Za())},b.rA=function(a){a.Ca(this.x)},b.sA=function(a){a.Ca(this.y)},b.ua=function(a){a.Ca(this.g.Do(this))});e&&(k.qz=function(a,b){return Kb(this.width,a,b)},k.nz=function(a,b){return Kb(this.height,a,b)},l.Zu=function(a){this.width!==a&&(this.width=a,this.Za())},l.cA=function(a){this.height!==a&&(this.height=a,this.Za())},l.hA=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Za()},b.qA=function(a){a.Ca(this.width)},b.uz=function(a){a.Ca(this.height)},b.kz=function(a){this.zc();a.Ca(this.Ia.left)},b.mz=function(a){this.zc();a.Ca(this.Ia.top)},b.lz=function(a){this.zc();a.Ca(this.Ia.right)},b.jz=function(a){this.zc();a.Ca(this.Ia.bottom)});f&&(k.dz=function(a,b){return ya(this.Q,K(b))<=K(a)},k.yz=function(a){return Aa(this.Q,K(a))},k.wz=function(a,b){var c=wa(a),d=wa(b),e=ua(this.Q);return Aa(d,
c)?Aa(e,c)&&!Aa(e,d):!(!Aa(e,c)&&Aa(e,d))},l.Gl=function(a){a=K(ta(a));isNaN(a)||this.Q===a||(this.Q=a,this.Za())},l.Wz=function(a){0===a||isNaN(a)||(this.Q+=K(a),this.Q=ua(this.Q),this.Za())},l.Xz=function(a){0===a||isNaN(a)||(this.Q-=K(a),this.Q=ua(this.Q),this.Za())},l.Yz=function(a,b){var c=za(this.Q,K(b),K(a));isNaN(c)||this.Q===c||(this.Q=c,this.Za())},l.Zz=function(a,b,c){a=za(this.Q,Math.atan2(c-this.y,b-this.x),K(a));isNaN(a)||this.Q===a||(this.Q=a,this.Za())},l.iA=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.Q===c||(this.Q=c,this.Za())},b.cz=function(a){a.Ca(va(this.Q))});c||(k.oz=function(a,b,c){return Kb(this.fc[a],b,c)},k.xz=function(a){return this.fc[a]},k.Rz=function(a,b){var c=this.ib(),d=c.vf();if(!d.length)return!1;var e=d[0],f=e,l=e.fc[b],g,h,k;g=1;for(h=d.length;g<h;g++)if(e=d[g],k=e.fc[b],0===a&&k<l||1===a&&k>l)l=k,f=e;c.Vk(f);return!0},k.Pz=function(a){var b,c,d,e,f;if(this.g.qs().pk){f=this.ib();if(f.Gb)for(f.Gb=!1,f.C.length=0,f.Va.length=0,d=this.C,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.Va.push(e):f.C.push(e);else{d=b=0;for(c=f.C.length;b<c;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.Va.push(e):d++;f.C.length=d}return!!f.C.length}e=this.g.jk(a);if(!e)return!1;f=this.ib();if(!f.Gb&&-1===f.C.indexOf(e))return!1;if(this.la)for(a=e.type.hb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Vk(e),!0}else if(e.type===this)return f.Vk(e),!0;return!1},k.Ln=v(!0),k.Ku=v(!0),l.dA=function(a,b){var c=this.fc;ca(c[a])?c[a]=ca(b)?b:parseFloat(b):J(c[a])&&(c[a]=J(b)?b:b.toString())},
l.bz=function(a,b){var c=this.fc;ca(c[a])?c[a]=ca(b)?c[a]+b:c[a]+parseFloat(b):J(c[a])&&(c[a]=J(b)?c[a]+b:c[a]+b.toString())},l.mA=function(a,b){var c=this.fc;ca(c[a])&&(c[a]=ca(b)?c[a]-b:c[a]-parseFloat(b))},l.$z=function(a,b){this.fc[a]=b?1:0},l.oA=function(a){this.fc[a]=1-this.fc[a]},l.hd=function(){this.g.Bi(this)},b.tz=function(a){var b=a.qj.C.length,c,d,e;c=0;for(d=this.g.Td.length;c<d;c++)e=this.g.Td[c],a.qj.la?0<=e.type.hb.indexOf(a.qj)&&b++:e.type===a.qj&&b++;a.mb(b)},b.Tz=function(a){a.mb(a.qj.ib().vf().length)},
b.pA=function(a){a.mb(this.uid)},b.vz=function(a){a.mb(this.lk())});g&&(k.Dz=t("visible"),l.jA=function(a){!a!==!this.visible&&(this.visible=a,this.g.Ya=!0)},k.pz=function(a,b){return Kb(Oa(100*this.opacity),a,b)},l.eA=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.Ya=!0)},b.Opacity=function(a){a.Ca(Oa(100*this.opacity))});h&&(k.zz=function(a){return a?this.K===a:!1},k.Sz=function(a){var b=this.ib(),c=b.vf();if(!c.length)return!1;var d=c[0],e=d,f,l;f=1;for(l=c.length;f<
l;f++)if(d=c[f],0===a){if(d.K.index>e.K.index||d.K.index===e.K.index&&d.Vd()>e.Vd())e=d}else if(d.K.index<e.K.index||d.K.index===e.K.index&&d.Vd()<e.Vd())e=d;b.Vk(e);return!0},l.Lz=function(){var a=this.Vd();a!==this.K.C.length-1&&(pa(this.K.C,a),this.K.C.push(this),this.g.Ya=!0,this.K.Md=!0)},l.Jz=function(){var a=this.Vd();0!==a&&(pa(this.K.C,a),this.K.C.unshift(this),this.g.Ya=!0,this.K.Md=!0)},l.Kz=function(a){a&&a!=this.K&&(pa(this.K.C,this.Vd()),this.K.Md=!0,this.K=a,this.wi=a.C.length,a.C.push(this),
this.g.Ya=!0)},l.uA=function(a,b){var c=0===a;if(b){var d=b.Rw(this);if(d&&d.uid!==this.uid){this.K.index!==d.K.index&&(pa(this.K.C,this.Vd()),this.K.Md=!0,this.K=d.K,this.wi=d.K.C.length,d.K.C.push(this));var e=this.Vd(),d=d.Vd();pa(this.K.C,e);e<d&&d--;c&&d++;d===this.K.C.length?this.K.C.push(this):this.K.C.splice(d,0,this);this.K.Md=!0;this.g.Ya=!0}}},b.Fz=function(a){a.mb(this.K.lt)},b.Ez=function(a){a.df(this.K.name)},b.tA=function(a){a.mb(this.Vd())});a&&(l.aA=function(a,b){if(this.g.X){var c=
this.type.Fo(b);if(!(0>c)){var d=1===a;this.Ng[c]!==d&&(this.Ng[c]=d,this.Fg(),this.g.Ya=!0)}}},l.bA=function(a,b,c){if(this.g.X){var d=this.type.Fo(a);0>d||(a=this.type.pa[d],d=this.Bb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.X.ax(a.yc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Pd&&(this.g.Ya=!0))))}})}function Eb(){this.bo=!0;this.g.Ya=!0;var a,b;a=0;for(b=this.Ml.length;a<b;a++)this.Ml[a](this)}function Fb(a){a&&this.Ml.push(a)}
function Hb(){if(this.bo){this.Ia.set(this.x,this.y,this.x+this.width,this.y+this.height);this.Ia.offset(-this.pd*this.width,-this.qd*this.height);this.Q?(this.Ia.offset(-this.x,-this.y),this.Rb.Jt(this.Ia,this.Q),this.Rb.offset(this.x,this.y),this.Rb.Lr(this.Ia)):this.Rb.iq(this.Ia);var a=0;this.Ia.left>this.Ia.right&&(a=this.Ia.left,this.Ia.left=this.Ia.right,this.Ia.right=a);this.Ia.top>this.Ia.bottom&&(a=this.Ia.top,this.Ia.top=this.Ia.bottom,this.Ia.bottom=a);this.bo=!1}}
function Gb(a,b){return this.Ia.Ni(a,b)&&this.Rb.Ni(a,b)?this.md&&!this.md.Js()?(this.md.Pr(this.width,this.height,this.Q),this.md.Ni(a-this.x,b-this.y)):!0:!1}function Cb(){this.type.rn();return this.Uh}function Ib(){this.K.Wy();return this.wi}function Jb(){this.Qa.length=0;var a,b;a=0;for(b=this.Ng.length;a<b;a++)this.Ng[a]&&this.Qa.push(this.type.pa[a]);this.bu=!!this.Qa.length}function Db(){return"Inst"+this.yt}
function rb(a){if(a&&a.Wd&&a.type!=this){var b,c,d;b=0;for(c=a.siblings.length;b<c;b++)if(d=a.siblings[b],d.type==this)return d}a=this.ib().vf();return a.length?a[0]:null}function sb(a){var b=this.ib().vf();return b.length?b[a.lk()%b.length]:null}function qb(){if(this.xj&&!this.la){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].Uh=a;var c=a,d=this.g.Td;a=0;for(b=d.length;a<b;++a)d[a].type===this&&(d[a].Uh=c++);this.xj=!1}}function tb(){return this.oh[this.gg]}
function ub(){this.gg++;this.gg===this.oh.length?this.oh.push(new Ra(this)):this.oh[this.gg].Gb=!0}function vb(){this.gg++;this.gg===this.oh.length&&this.oh.push(new Ra(this));var a=this.oh[this.gg],b=this.oh[this.gg-1];b.Gb?a.Gb=!0:(a.Gb=!1,qa(a.C,b.C),qa(a.Va,b.Va))}function wb(){this.gg--}
function xb(a){var b,c,d,e,f,g=0;if(!this.la)for(b=0,c=this.hb.length;b<c;b++)for(f=this.hb[b],d=0,e=f.Qb.length;d<e;d++){if(a===f.Qb[d].name)return this.aa.Ns=g,f.Qb[d];g++}b=0;for(c=this.Qb.length;b<c;b++){if(a===this.Qb[b].name)return this.aa.Ns=g,this.Qb[b];g++}return null}function yb(a){return this.mm(a)?this.aa.Ns:-1}function zb(a){var b,c;b=0;for(c=this.pa.length;b<c;b++)if(this.pa[b].name===a)return b;return-1}
function Ab(){if(this.Wd&&!this.la){var a,b,c,d,e,f,g;this.rn();f=this.ib();var h=f.Gb,k=(a=this.g.Ud())&&a.Ne&&a.Ne.Hf;a=0;for(b=this.od.length;a<b;a++)if(e=this.od[a],e!==this&&(e.rn(),g=e.ib(),g.Gb=h,!h)){g.C.length=f.C.length;c=0;for(d=f.C.length;c<d;c++)g.C[c]=e.C[f.C[c].Uh];if(k)for(g.Va.length=f.Va.length,c=0,d=f.Va.length;c<d;c++)g.Va[c]=e.C[f.Va[c].Uh]}}}function Bb(){return"Type"+this.Fa}
function Kb(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return!1;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return!1}}var nb={};function Lb(a){this.g=a}
(function(){function a(){}var b=Lb.prototype;b.Ec=function(a){this.Wb=a;this.g=a.g};b.Ec.prototype.eb=q();b.Zb=function(a){this.type=a;this.g=a.g;this.Bm=Array(256);this.sn=Array(256);this.rh=0};var c=b.Zb.prototype;c.eb=function(){var a=this;this.g.Qe||(jQuery(document).keydown(function(b){a.qy(b)}),jQuery(document).keyup(function(b){a.ry(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];c.qy=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Bm[a.which])this.sn[a.which]&&!b&&a.preventDefault();else{this.Bm[a.which]=!0;this.rh=a.which;this.g.trigger(Lb.prototype.ja.Hu,this);var c=this.g.trigger(Lb.prototype.ja.Lu,this),h=this.g.trigger(Lb.prototype.ja.Mu,this);if(c||h)this.sn[a.which]=!0,b||a.preventDefault()}};c.ry=function(a){this.Bm[a.which]=!1;this.rh=a.which;this.g.trigger(Lb.prototype.ja.Iu,this);var b=this.g.trigger(Lb.prototype.ja.Ou,this),c=this.g.trigger(Lb.prototype.ja.Nu,this);if(b||c||this.sn[a.which])this.sn[a.which]=
!0,a.preventDefault()};c.Jd=function(){return{triggerKey:this.rh}};c.te=function(a){this.rh=a.triggerKey};a.prototype.Dl=function(a){return this.Bm[a]};a.prototype.Lu=function(a){return a===this.rh};a.prototype.Hu=v(!0);a.prototype.Iu=v(!0);a.prototype.Ou=function(a){return a===this.rh};a.prototype.Mu=function(a){return a===this.rh};a.prototype.Nu=function(a){return a===this.rh};b.ja=new a;b.Ob=new (q());b.Gc=new (q())})();function Mb(a){this.g=a}
(function(){function a(){if(0===this.po.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.wj?b.drawImage(this.Da,this.rj,this.sj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Da,0,0,this.width,this.height);this.po=a.toDataURL("image/png")}return this.po}function b(){}function c(){}var d=Mb.prototype;d.Ec=function(a){this.Wb=a;this.g=a.g};var e=d.Ec.prototype;e.eb=function(){if(!this.la){var b,c,d,e,f,g,h,k,z;
this.Me=[];this.um=!1;b=0;for(c=this.zd.length;b<c;b++){f=this.zd[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Yp=f[3];h.an=f[4];h.ot=f[5];h.Fa=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.qq=g[0],k.rq=g[1],k.rj=g[2],k.sj=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.pd=g[7],k.qd=g[8],k.Io=g[9],k.Wm=g[10],k.pt=g[11],k.wj=0!==k.width,k.po="",k.yA=a,z={left:0,top:0,right:1,bottom:1},k.mq=z,k.xb=null,(z=this.g.Nw(g[0]))?k.Da=z:(k.Da=new Image,k.Da.idtkLoadDisposed=!0,k.Da.src=
g[0],k.Da.Mv=g[0],k.Da.Xr=g[1],k.Da.Kv=null,this.g.Gg.push(k.Da)),h.frames.push(k),this.Me.push(k);this.zd[b]=h}}};e.Vy=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.Wl=c.me.xb};e.Vm=function(){if(!this.la){var a,b,c;a=0;for(b=this.Me.length;a<b;++a)c=this.Me[a],c.Da.Kv=null,c.xb=null}};e.Jp=function(){if(!this.la&&this.C.length){var a,b,c;a=0;for(b=this.Me.length;a<b;++a)c=this.Me[a],c.xb=this.g.X.Fm(c.Da,!1,this.g.yb,c.pt);this.Vy()}};e.hp=function(){if(!this.la&&!this.um&&
this.g.X){var a,b,c;a=0;for(b=this.Me.length;a<b;++a)c=this.Me[a],c.xb=this.g.X.Fm(c.Da,!1,this.g.yb,c.pt);this.um=!0}};e.zq=function(){if(!this.la&&!this.C.length&&this.um){var a,b,c;a=0;for(b=this.Me.length;a<b;++a)c=this.Me[a],this.g.X.deleteTexture(c.xb);this.um=!1}};var f=[];e.Np=function(a){var b,c,d;b=f.length=0;for(c=this.Me.length;b<c;++b)d=this.Me[b].Da,-1===f.indexOf(d)&&(a.drawImage(d,0,0),f.push(d))};d.Zb=function(a){this.type=a;this.g=a.g;a=this.type.zd[0].frames[0].Wm;this.fe?this.md.al(a):
this.md=new La(a)};var g=d.Zb.prototype;g.eb=function(){this.visible=0===this.Xa[0];this.Ko=this.So=!1;this.Mi=0!==this.Xa[3];1===this.type.zd.length&&1===this.type.zd[0].frames.length||0===this.type.zd[0].speed||(this.g.tq(this),this.So=!0);this.gb=this.os(this.Xa[1])||this.type.zd[0];this.U=this.Xa[2];0>this.U&&(this.U=0);this.U>=this.gb.frames.length&&(this.U=this.gb.frames.length-1);var a=this.gb.frames[this.U];this.md.al(a.Wm);this.pd=a.pd;this.qd=a.qd;this.ck=this.gb.speed;this.fe?this.mf.reset():
this.mf=new Ha;this.ig=this.mf.Mc;this.Gh=!0;this.ag=0;this.Fh=!0;this.co=this.Dr="";this.Lv=0;this.Sl=-1;this.type.hp();var b,c,d,e,f,g,h,a=0;for(b=this.type.zd.length;a<b;a++)for(e=this.type.zd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Da.width,f.height=f.Da.height),f.wj&&(h=f.Da,g=f.mq,g.left=f.rj/h.width,g.top=f.sj/h.height,g.right=(f.rj+f.width)/h.width,g.bottom=(f.sj+f.height)/h.height,0===f.rj&&0===f.sj&&f.width===h.width&&f.height===h.height&&(f.wj=!1));this.me=
this.gb.frames[this.U];this.Wl=this.me.xb};g.Jd=function(){var a={a:this.gb.Fa,f:this.U,cas:this.ck,fs:this.ig,ar:this.ag,at:this.mf.Mc};this.Gh||(a.ap=this.Gh);this.Fh||(a.af=this.Fh);return a};g.te=function(a){var b=this.Pw(a.a);b&&(this.gb=b);this.U=a.f;0>this.U&&(this.U=0);this.U>=this.gb.frames.length&&(this.U=this.gb.frames.length-1);this.ck=a.cas;this.ig=a.fs;this.ag=a.ar;this.mf.reset();this.mf.Mc=a.at;this.Gh=a.hasOwnProperty("ap")?a.ap:!0;this.Fh=a.hasOwnProperty("af")?a.af:!0;this.me=this.gb.frames[this.U];
this.Wl=this.me.xb;this.md.al(this.me.Wm);this.pd=this.me.pd;this.qd=this.me.qd};g.ao=function(a){this.U=a?0:this.gb.frames.length-1;this.Gh=!1;this.Dr=this.gb.name;this.Ko=!0;this.g.trigger(Mb.prototype.ja.Gu,this);this.g.trigger(Mb.prototype.ja.Fu,this);this.Ko=!1;this.ag=0};g.zA=function(){return this.mf.Mc};g.ef=function(){this.mf.add(this.g.Do(this));this.co.length&&this.Qv();0<=this.Sl&&this.ds();var a=this.mf.Mc,b=this.gb,c=b.frames[this.U],d=c.duration/this.ck;this.Gh&&a>=this.ig+d&&(this.Fh?
this.U++:this.U--,this.ig+=d,this.U>=b.frames.length&&(b.ot?(this.Fh=!1,this.U=b.frames.length-2):b.loop?this.U=b.an:(this.ag++,this.ag>=b.Yp?this.ao(!1):this.U=b.an)),0>this.U&&(b.ot?(this.U=1,this.Fh=!0,b.loop||(this.ag++,this.ag>=b.Yp&&this.ao(!0))):b.loop?this.U=b.an:(this.ag++,this.ag>=b.Yp?this.ao(!0):this.U=b.an)),0>this.U?this.U=0:this.U>=b.frames.length&&(this.U=b.frames.length-1),a>this.ig+b.frames[this.U].duration/this.ck&&(this.ig=a),a=b.frames[this.U],this.Rj(c,a),this.g.Ya=!0)};g.os=
function(a){var b,c,d;b=0;for(c=this.type.zd.length;b<c;b++)if(d=this.type.zd[b],Pa(d.name,a))return d;return null};g.Pw=function(a){var b,c,d;b=0;for(c=this.type.zd.length;b<c;b++)if(d=this.type.zd[b],d.Fa===a)return d;return null};g.Qv=function(){var a=this.gb.frames[this.U],b=this.os(this.co);this.co="";!b||Pa(b.name,this.gb.name)&&this.Gh||(this.gb=b,this.ck=b.speed,0>this.U&&(this.U=0),this.U>=this.gb.frames.length&&(this.U=this.gb.frames.length-1),1===this.Lv&&(this.U=0),this.Gh=!0,this.ig=
this.mf.Mc,this.Fh=!0,this.Rj(a,this.gb.frames[this.U]),this.g.Ya=!0)};g.ds=function(){var a=this.gb.frames[this.U],b=this.U;this.U=ja(this.Sl);0>this.U&&(this.U=0);this.U>=this.gb.frames.length&&(this.U=this.gb.frames.length-1);b!==this.U&&(this.Rj(a,this.gb.frames[this.U]),this.ig=this.mf.Mc,this.g.Ya=!0);this.Sl=-1};g.Rj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.pd=b.pd;this.qd=b.qd;this.md.al(b.Wm);this.Za();this.me=b;this.Wl=
b.xb;c=0;for(d=this.Ja.length;c<d;c++)e=this.Ja[c],e.ty&&e.ty(a,b);this.g.trigger(Mb.prototype.ja.Rj,this)};g.pf=function(a){a.globalAlpha=this.opacity;var b=this.me,c=b.wj,d=b.Da,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.Q&&0<=g&&0<=h)e-=this.pd*g,f-=this.qd*h,this.g.If&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.rj,b.sj,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.g.If&&(e=e+0.5|0,f=f+0.5|0);a.save();var k=0<g?1:-1,B=0<h?1:-1;a.translate(e,f);1===k&&1===B||a.scale(k,B);
a.rotate(this.Q*k*B);e=0-this.pd*ea(g);f=0-this.qd*ea(h);c?a.drawImage(d,b.rj,b.sj,b.width,b.height,e,f,ea(g),ea(h)):a.drawImage(d,e,f,ea(g),ea(h));a.restore()}};g.oe=function(a){a.ge(this.Wl);a.qi(this.opacity);var b=this.me,c=this.Rb;if(this.g.If){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.wj?a.Jf(c.kc+d,c.lc+e,c.ed+d,c.fd+e,c.Vc+d,c.Wc+e,c.Tc+d,c.Uc+e,b.mq):a.Zm(c.kc+d,c.lc+e,c.ed+d,c.fd+e,c.Vc+d,c.Wc+e,c.Tc+d,c.Uc+e)}else b.wj?a.Jf(c.kc,c.lc,c.ed,c.fd,c.Vc,c.Wc,c.Tc,c.Uc,b.mq):a.Zm(c.kc,
c.lc,c.ed,c.fd,c.Vc,c.Wc,c.Tc,c.Uc)};g.Tw=function(a){var b=this.me,c,d;c=0;for(d=b.Io.length;c<d;c++)if(Pa(a,b.Io[c][0]))return c;return-1};g.uf=function(a,b){var c=this.me,d=c.Io,e;e=J(a)?this.Tw(a):a-1;e=ja(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.pd)*this.width,d=d[e][2],d=(d-c.qd)*this.height,c=Math.cos(this.Q);e=Math.sin(this.Q);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var h=new Ga,k=!1;e.finish=function(a){if(k){if(a){var b=this.g.Ud().Ne.Hf;a=null.ib();
var c=h.vi(),d,e;if(a.Gb){a.Gb=!1;a.C.length=c.length;d=0;for(e=c.length;d<e;d++)a.C[d]=c[d];if(b)for(d=a.Va.length=0,e=null.C.length;d<e;d++)b=null.C[d],h.contains(b)||a.Va.push(b)}else{var f=a.C.length;a.C.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.C[f+d]=c[d],b&&ra(a.Va,c[d])}null.Kl()}h.clear();k=!1}};b.prototype.Fu=function(a){return Pa(this.Dr,a)};b.prototype.Gu=v(!0);b.prototype.Rj=v(!0);d.ja=new b;c.prototype.Vu=function(a){this.Sl=a;this.So||(this.g.tq(this),this.So=!0);this.Ko||this.ds()};
c.prototype.or=function(a){a=ea(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.Za())};d.Ob=new c;d.Gc=new (q())})();function Nb(a){this.g=a}
(function(){function a(){return g.length?g.pop():{}}function b(a){var b,c;b=0;for(c=a.length;b<c;b++)g.push(a[b]);a.length=0}function c(){}var d=Nb.prototype;d.eb=function(){d.Ob.Zu=function(a){this.width!==a&&(this.width=a,this.si=!0,this.Za())}};d.Ec=function(a){this.Wb=a;this.g=a.g};var e=d.Ec.prototype;e.eb=q();e.Vm=function(){if(!this.la){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.Gf=null,c.ni=null,c.Fd=null}};d.Zb=function(a){this.type=a;this.g=a.g;this.fe?this.$g.length=0:this.$g=
[];this.si=!0};e=d.Zb.prototype;e.eb=function(){this.text=this.Xa[0];this.visible=0===this.Xa[1];this.font=this.Xa[2];this.color=this.Xa[3];this.tm=this.Xa[4];this.tn=this.Xa[5];this.Gq=0===this.Xa[7];this.$o=this.$h=this.width;this.Zh=this.height;this.ep=this.Xa[8];this.jm=this.Qi="";this.Qt=this.Rt=this.Yk=0;this.uy();this.Fd=this.ni=this.Gf=null;this.jt=!1;this.zk=this.g.Ee;this.fe?this.jh.set(0,0,1,1):this.jh=new la(0,0,1,1);this.g.X&&this.g.tq(this)};e.uy=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Yk=parseInt(a[b].substr(0,a[b].length-2));this.Tp=Math.ceil(96*(this.Yk/72))+4;0<b&&(this.jm=a[b-1]);this.Qi=a[b+1];for(b+=2;b<a.length;b++)this.Qi+=" "+a[b];break}};e.Jd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.tm,va:this.tn,wr:this.Gq,lho:this.ep,fn:this.Qi,fs:this.jm,ps:this.Yk,pxh:this.Tp,tw:this.Rt,th:this.Qt,lrt:this.zk}};e.te=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.tm=a.ha;this.tn=
a.va;this.Gq=a.wr;this.ep=a.lho;this.Qi=a.fn;this.jm=a.fs;this.Yk=a.ps;this.Tp=a.pxh;this.Rt=a.tw;this.Qt=a.th;this.zk=a.lrt;this.si=!0;this.$o=this.$h=this.width;this.Zh=this.height};e.ef=function(){if(this.g.X&&this.Fd&&300<=this.g.Ee-this.zk){var a=this.K;this.zc();var b=this.Ia;if(b.right<a.ud||b.bottom<a.wd||b.left>a.vd||b.top>a.td)this.g.X.deleteTexture(this.Fd),this.Gf=this.ni=this.Fd=null}};e.tj=function(){this.Gf=this.ni=null;this.g.X&&this.Fd&&this.g.X.deleteTexture(this.Fd);this.Fd=null};
e.HA=function(){this.font=this.jm+" "+this.Yk.toString()+"pt "+this.Qi;this.si=!0;this.g.Ya=!0};e.pf=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.K.Bd(),a.save(),a.scale(c,c));if(this.si||this.width!==this.$o)this.type.Wb.mv(this.text,this.$g,a,this.width,this.Gq),this.si=!1,this.$o=this.width;this.zc();var c=b?0:this.Rb.kc,d=b?0:this.Rb.lc;this.g.If&&(c=c+0.5|0,d=d+0.5|0);0===this.Q||b||(a.save(),a.translate(c,d),a.rotate(this.Q),
d=c=0);var e=d+this.height,f=this.Tp,f=f+this.ep*this.g.devicePixelRatio,g,r;1===this.tn?d+=Math.max(this.height/2-this.$g.length*f/2,0):2===this.tn&&(d+=Math.max(this.height-this.$g.length*f-2,0));for(r=0;r<this.$g.length&&!(g=c,1===this.tm?g=c+(this.width-this.$g[r].width)/2:2===this.tm&&(g=c+(this.width-this.$g[r].width)),a.fillText(this.$g[r].text,g,d),d+=f,d>=e-f);r++);(0!==this.Q||b)&&a.restore();this.zk=this.g.Ee};e.oe=function(a){if(!(1>this.width||1>this.height)){var b=this.si||this.jt;this.jt=
!1;var c=this.K.Bd(),d=this.K.jg(),e=this.jh,f=c*this.width,g=c*this.height,r=Math.ceil(f),s=Math.ceil(g),x=this.g.width/2,z=this.g.height/2;this.ni||(this.Gf=document.createElement("canvas"),this.Gf.width=r,this.Gf.height=s,this.$h=r,this.Zh=s,b=!0,this.ni=this.Gf.getContext("2d"));if(r!==this.$h||s!==this.Zh)this.Gf.width=r,this.Gf.height=s,this.Fd&&(a.deleteTexture(this.Fd),this.Fd=null),b=!0;b&&(this.ni.clearRect(0,0,r,s),this.pf(this.ni,!0),this.Fd||(this.Fd=a.eg(r,s,this.g.yb,this.g.Wg)),a.az(this.Gf,
this.Fd,this.g.Wg));this.$h=r;this.Zh=s;a.ge(this.Fd);a.qi(this.opacity);a.Mf();a.translate(-x,-z);a.Sf();var B=this.Rb,b=this.K.gc(B.kc,B.lc,!0),x=this.K.gc(B.kc,B.lc,!1),z=this.K.gc(B.ed,B.fd,!0),H=this.K.gc(B.ed,B.fd,!1),D=this.K.gc(B.Vc,B.Wc,!0),E=this.K.gc(B.Vc,B.Wc,!1),A=this.K.gc(B.Tc,B.Uc,!0),B=this.K.gc(B.Tc,B.Uc,!1);if(this.g.If||0===this.Q&&0===d)var C=(b+0.5|0)-b,w=(x+0.5|0)-x,b=b+C,x=x+w,z=z+C,H=H+w,D=D+C,E=E+w,A=A+C,B=B+w;0===this.Q&&0===d?(z=b+r,H=x,D=z,E=x+s,A=b,B=E,e.right=1,e.bottom=
1):(e.right=f/r,e.bottom=g/s);a.Jf(b,x,z,H,D,E,A,B,e);a.Mf();a.scale(c,c);a.$p(-this.K.jg());a.translate((this.K.ud+this.K.vd)/-2,(this.K.wd+this.K.td)/-2);a.Sf();this.zk=this.g.Ee}};var f=[];d.hv=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&f.push(b)};
var g=[];d.mv=function(c,d,e,f,g){if(c&&c.length)if(2>=f)b(d);else{if(100>=c.length&&-1===c.indexOf("\n")){var p=e.measureText(c).width;if(p<=f){b(d);d.push(a());d[0].text=c;d[0].width=p;return}}this.nv(c,d,e,f,g)}else b(d)};d.nv=function(b,c,d,e,n){n&&(this.hv(b),b=f);var p="",u,r,s,x=0;for(s=0;s<b.length;s++)"\n"===b[s]?(x>=c.length&&c.push(a()),r=c[x],r.text=p,r.width=d.measureText(p).width,x++,p=""):(u=p,p+=b[s],r=d.measureText(p).width,r>=e&&(x>=c.length&&c.push(a()),r=c[x],r.text=u,r.width=
d.measureText(u).width,x++,p=b[s],n||" "!==p||(p="")));p.length&&(x>=c.length&&c.push(a()),r=c[x],r.text=p,r.width=d.measureText(p).width,x++);for(s=x;s<c.length;s++)g.push(c[s]);c.length=x};d.ja=new (q());c.prototype.Yu=function(a){ca(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.si=!0,this.g.Ya=!0)};d.Ob=new c;d.Gc=new (q())})();function Ob(a){this.g=a}
(function(){var a=Ob.prototype;a.Ec=function(a){this.Wb=a;this.g=a.g};var b=a.Ec.prototype;b.eb=function(){this.la||(this.Da=new Image,this.Da.idtkLoadDisposed=!0,this.Da.src=this.qq,this.Da.Xr=this.rq,this.g.Gg.push(this.Da),this.xb=this.pattern=null)};b.Vm=function(){this.la||(this.xb=null)};b.Jp=function(){if(!this.la&&this.C.length){this.xb||(this.xb=this.g.X.Fm(this.Da,!0,this.g.yb,this.sq));var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].xb=this.xb}};b.hp=function(){this.la||this.xb||!this.g.X||
(this.xb=this.g.X.Fm(this.Da,!0,this.g.yb,this.sq))};b.zq=function(){this.la||this.C.length||!this.xb||(this.g.X.deleteTexture(this.xb),this.xb=null)};b.Np=function(a){a.drawImage(this.Da,0,0)};a.Zb=function(a){this.type=a;this.g=a.g};b=a.Zb.prototype;b.eb=function(){this.visible=0===this.Xa[0];this.jh=new la(0,0,0,0);this.As=!1;this.Da=this.type.Da;this.g.X?(this.type.hp(),this.xb=this.type.xb):(this.type.pattern||(this.type.pattern=this.g.Ua.createPattern(this.type.Da,"repeat")),this.pattern=this.type.pattern)};
b.Zj=function(){this.As=!1;this.Da=this.type.Da};b.tj=function(){this.g.X&&this.As&&this.xb&&(this.g.X.deleteTexture(this.xb),this.xb=null)};b.pf=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var b=this.x,e=this.y;this.g.If&&(b=b+0.5|0,e=e+0.5|0);var f=-(this.pd*this.width),g=-(this.qd*this.height),h=f%this.Da.width,k=g%this.Da.height;0>h&&(h+=this.Da.width);0>k&&(k+=this.Da.height);a.translate(b,e);a.rotate(this.Q);a.translate(h,k);a.fillRect(f-h,g-k,this.width,this.height);
a.restore()};b.oe=function(a){a.ge(this.xb);a.qi(this.opacity);var b=this.jh;b.right=this.width/this.Da.width;b.bottom=this.height/this.Da.height;var e=this.Rb;if(this.g.If){var f=(this.x+0.5|0)-this.x,g=(this.y+0.5|0)-this.y;a.Jf(e.kc+f,e.lc+g,e.ed+f,e.fd+g,e.Vc+f,e.Wc+g,e.Tc+f,e.Uc+g,b)}else a.Jf(e.kc,e.lc,e.ed,e.fd,e.Vc,e.Wc,e.Tc,e.Uc,b)};a.ja=new (q());a.Ob=new (q());a.Gc=new (q())})();function O(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)I("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,c,d,e){this.type=b.Oi;this.ab=new m;this.bb=new m;this.ff=null;void 0!==a&&(this.G=a);void 0!==c&&(this.I=c);void 0!==d&&this.ab.B(d);void 0!==e&&this.bb.B(e);this.pj=this.ft=this.Aq=this.np=this.Lf=0;this.Pi=this.Nh=!1}function b(a){this.G=a.G;this.I=a.I;this.ff=a.ff;this.type=a.type;this.next=null}function c(a,
b){this.Jm=[];this.lb=[];this.fi=[];this.rg=null;this.Xx=[];this.zb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.pb=a;this.kb=b;this.dy=c}function f(a,b){var c=a.ff;a.ff=null;this.ya=b;this.r=new k(a.position,l.Ci(a.Q));this.Gk=[];this.Ck=a.Pd;a.type===f.Qd&&(a.Oe=0);this.Ub=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.zb,a);a.ff=c}function g(a,b,c,d){this.Ek=a;this.sp=c;this.yg={};this.yg.Zc=m.p(0,0);this.Mm=!1;this.Km=d.Oe;this.up=d.tf;this.Mk=
d.Nf;this.Mm=d.Ro}function h(){}function k(a,b){this.position=m.p(0,0);this.m=new l;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.B(a),this.m.Ie(b))}function l(){this.i=m.p(0,0);this.j=m.p(0,0);this.Lg()}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}P=m;m.$f=[];m.p=function(a,b){if(0<P.$f.length){var c=P.$f.pop();c.Set(a,b);return c}return new P(a,b)};m.mc=function(a){1E4>P.$f.length&&P.$f.push(a)};m.prototype.Z=function(){this.y=this.x=0};m.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};m.prototype.B=function(a){this.x=a.x;this.y=a.y};m.Gz=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return m.p(a,b)};m.prototype.Nb=function(){return m.p(this.x,this.y)};m.prototype.Vf=function(a){this.x+=a.x;this.y+=a.y};m.prototype.Wn=function(a){this.x-=a.x;this.y-=a.y};m.prototype.Qc=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};m.prototype.kf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};m.prototype.Fl=function(){return this.x*
this.x+this.y*this.y};m.prototype.Rc=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};Q=l;l.Ci=function(a){void 0===a&&(a=0);var b=new l;b.Set(a);return b};l.jf=function(a,b){var c=new l;c.Tn(a,b);return c};l.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.i.x=b;this.j.x=-a;this.i.y=a;this.j.y=b};l.prototype.Tn=function(a,b){this.i.B(a);this.j.B(b)};l.prototype.Nb=function(){var a=new l;
a.Ie(this);return a};l.prototype.Ie=function(a){this.i.B(a.i);this.j.B(a.j)};l.prototype.kl=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.j.x+=a.j.x;this.j.y+=a.j.y};l.prototype.Lg=function(){this.i.x=1;this.j.x=0;this.i.y=0;this.j.y=1};l.prototype.Z=function(){this.i.x=0;this.j.x=0;this.i.y=0;this.j.y=0};l.prototype.Oc=function(){return Math.atan2(this.i.y,this.i.x)};l.prototype.En=function(a){var b=this.i.x,c=this.j.x,d=this.i.y,e=this.j.y,f=b*e-c*d;0!==f&&(f=1/f);a.i.x=f*e;a.j.x=-f*c;a.i.y=
-f*d;a.j.y=f*b;return a};l.prototype.Mg=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};l.prototype.Uf=function(){this.i.Uf();this.j.Uf()};Pb=k;k.prototype.Hb=function(a,b){this.position.B(a);this.m.Ie(b)};k.prototype.Lg=function(){this.position.Z();this.m.Lg()};k.prototype.Set=function(a){this.position.B(a.position);this.m.Ie(a.m)};k.prototype.Gl=function(){return Math.atan2(this.m.i.y,
this.m.i.x)};S=h;h.El=function(a){void 0===a&&(a=0);return isFinite(a)};h.nb=function(a,b){return a.x*b.x+a.y*b.y};h.uh=function(a,b){return a.x*b.y-a.y*b.x};h.Wf=function(a,b){void 0===b&&(b=0);return m.p(b*a.y,-b*a.x)};h.yn=function(a,b){void 0===a&&(a=0);return m.p(-a*b.y,a*b.x)};h.Ab=function(a,b){return m.p(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};h.Yf=function(a,b){return m.p(h.nb(b,a.i),h.nb(b,a.j))};h.$b=function(a,b){var c=h.Ab(a.m,b);c.x+=a.position.x;c.y+=a.position.y;return c};h.Jn=function(a,
b){var c=h.$a(b,a.position),d=c.x*a.m.i.x+c.y*a.m.i.y;c.y=c.x*a.m.j.x+c.y*a.m.j.y;c.x=d;return c};h.Ej=function(a,b){return m.p(a.x+b.x,a.y+b.y)};h.$a=function(a,b){return m.p(a.x-b.x,a.y-b.y)};h.ru=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};h.Oq=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};h.Cu=function(a,b){void 0===a&&(a=0);return m.p(a*b.x,a*b.y)};h.hu=function(a,b){return l.jf(h.Ej(a.i,b.i),h.Ej(a.j,b.j))};h.Du=function(a,b){return l.jf(h.Ab(a,b.i),h.Ab(a,b.j))};
h.Eu=function(a,b){var c=m.p(h.nb(a.i,b.i),h.nb(a.j,b.i)),d=m.p(h.nb(a.i,b.j),h.nb(a.j,b.j));return l.jf(c,d)};h.Uf=function(a){void 0===a&&(a=0);return 0<a?a:-a};h.Bj=function(a){return m.p(h.Uf(a.x),h.Uf(a.y))};h.fu=function(a){return l.jf(h.Bj(a.i),h.Bj(a.j))};h.Yq=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};h.Zq=function(a,b){return m.p(h.Yq(a.x,b.x),h.Yq(a.y,b.y))};h.Wq=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};h.Xq=function(a,b){return m.p(h.Wq(a.x,
b.x),h.Wq(a.y,b.y))};h.fb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};h.ku=function(a,b,c){return h.Xq(b,h.Zq(a,c))};h.nA=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};h.Uz=function(){return 2*Math.random()-1};h.Vz=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};h.Mz=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};h.Cz=function(a){void 0===
a&&(a=0);return 0<a&&0===(a&a-1)};h.Gv=new m(0,0);h.Fv=l.jf(new m(1,0),new m(0,1));h.wA=new k(h.Gv,h.Fv);T=function(){this.position=m.p(0,0);this.fp=m.p(0,0);this.ff=null;this.Q=0;this.fp.Set(0,0);this.Eh=this.ai=this.Cr=0;this.Gr=this.Br=!0;this.Ih=this.wo=!1;this.type=f.Qd;this.Pd=!0;this.Cs=1};Qb=g;g.prototype.Ga=t("Ek");g.prototype.Yb=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");return null};g.prototype.yh=t("Mm");Rb=f;f.prototype.sl=function(a){var b=
a.ff;a.ff=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.ya.zb,this.Ub,a);a.ff=b;a=new g(this,0,c,a);this.ya.fi[c]=a;this.Gk.push(a);return a};f.prototype.Dn=function(){return 0===this.Gk.length?null:this.Gk[0]};f.prototype.Nq=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.ya.zb,a.sp);delete this.ya.fi[a.sp]};f.prototype.Wj=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.ya.zb,this.Ub,a.x,a.y,b);this.r.m.Set(b);this.r.position.B(a)};
f.prototype.Sn=function(a){this.Wj(a,this.Oc())};f.prototype.Xf=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.ya.zb,this.Ub);return m.p(a[0],a[1])};f.prototype.Di=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.ya.zb,this.Ub);return m.p(a[0],a[1])};f.prototype.vh=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.ya.zb,this.Ub);return m.p(a[0],a[1])};f.prototype.Cc=function(a){return h.Jn(this.r,a)};f.prototype.ml=function(a,
b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyImpulse",this.ya.zb,this.Ub,a.x,a.y,b.x,b.y,c)};f.prototype.Dc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.ya.zb,this.Ub)};f.prototype.yl=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.ya.zb,this.Ub)};f.prototype.ac=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.ya.zb,this.Ub,a)};f.prototype.Ah=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.ya.zb,this.Ub,a.x,
a.y)};f.prototype.Ge=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.ya.zb,this.Ub,a.x,a.y,b.x,b.y,c)};f.prototype.nl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.ya.zb,this.Ub,a,b)};f.prototype.Vj=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.ya.zb,this.Ub,a)};f.prototype.xh=t("Ck");f.prototype.Oc=function(){return this.r.m.Oc()};f.prototype.Gl=function(a){void 0===a&&(a=0);this.Wj(this.r.position,a)};f.prototype.Jg=function(){for(var a=
window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.ya.zb,this.Ub),b=[],c=0;c<a.length;c++)b.push(this.ya.Jm[a[c]]);return b};Rb.Qd=0;Rb.Ir=1;Rb.Pb=2;e.prototype.Hn=t("dy");Sb=d;d.prototype.ol=q();Sb.Hr=new d;Tb=q();V=c;c.prototype.kr=aa("rg");c.prototype.jr=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.zb,function(c,d){return a.Bh(b.fi[c],b.fi[d])})};c.prototype.xn=function(a){a=new f(a,this);return this.Jm[a.Ub]=a};c.prototype.ul=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",
this.zb,a.Ub);delete this.Jm[a.Ub];for(var b=0;b<a.Gk.length;++b)delete this.fi[a.Gk[b].sp]};c.prototype.tl=function(a){if(a.G.Ub!==a.I.Ub){var c=a.G,d=a.I;a.G=c.Ub;a.I=d.Ub;var e="createDistanceJoint";a.type===b.Oi&&(e="createRevoluteJoint");var f=new b(a);f.Wx=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.zb,a);a.G=c;a.I=d;this.Xx.push(f);return f}};c.prototype.wl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.zb,a.Wx)};c.prototype.lr=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setGravity",
this.zb,a.x,a.y)};c.prototype.Zf=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.zb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.Jm[c[a+0]];if(null===d)break;d.r.position.Set(c[a+1],c[a+2]);d.r.m.Set(c[a+3])}if(null!==this.rg)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.zb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.fi[c[a+0]],g=this.fi[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.rg.ol(new e(f,
g,d))}};c.prototype.Mq=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.zb)};Ub=function(a){this.$m=a;this.type="circle"};W=q();W.prototype.Hl=function(a,b){this.type="box";this.width=a;this.height=b};W.prototype.hr=function(){this.type="edge"};W.prototype.Qn=function(a,b){this.type="polygon";this.du=[];for(var c=0;c<b;c++)this.du.push(a[c].x),this.du.push(a[c].y)};Vb=function(){this.ff=this.shape=null;this.tf=0.2;this.Oe=this.Nf=0;this.Ro=!1;this.filter={Ki:1,oj:65535,Vg:0}};X=b;
b.prototype.Jj=t("G");b.prototype.Cn=t("I");b.prototype.nc=t("type");b.qo=0;b.Oi=1;Wb=function(a,c,d,e){this.type=b.qo;this.ab=m.p(0,0);this.bb=m.p(0,0);this.ff=null;void 0!==a&&(this.G=a);void 0!==c&&(this.I=c);void 0!==d&&this.ab.B(d);void 0!==e&&this.bb.B(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.Xl=this.lm=0};a.prototype.Hb=function(a,b,c){this.G=a;this.I=b;this.ab=this.G.Cc(c);this.bb=this.I.Cc(c);this.Lf=this.I.Oc()-this.G.Oc()};Xb=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");
else{var S={},Yb=2/180*Math.PI,Zb=8/180*Math.PI,$b=0.5*Math.PI,ac=$b*$b,bc=2/180*Math.PI,cc=Number.MIN_VALUE*Number.MIN_VALUE;S.nb=function(a,b){return a.x*b.x+a.y*b.y};S.uh=function(a,b){return a.x*b.y-a.y*b.x};S.Wf=function(a,b){return P.p(b*a.y,-b*a.x)};S.yn=function(a,b){return P.p(-a*b.y,a*b.x)};S.Ab=function(a,b){return P.p(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};S.Yf=function(a,b){return P.p(S.nb(b,a.i),S.nb(b,a.j))};S.$b=function(a,b){var c=S.Ab(a.m,b);c.x+=a.position.x;c.y+=a.position.y;
return c};S.Jn=function(a,b){var c=S.$a(b,a.position),d=c.x*a.m.i.x+c.y*a.m.i.y;c.y=c.x*a.m.j.x+c.y*a.m.j.y;c.x=d;return c};S.Ej=function(a,b){return P.p(a.x+b.x,a.y+b.y)};S.$a=function(a,b){return P.p(a.x-b.x,a.y-b.y)};S.ru=function(a,b){return Math.sqrt(S.Oq(a,b))};S.Oq=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};S.Cu=function(a,b){return P.p(a*b.x,a*b.y)};S.hu=function(a,b){return Q.jf(S.Ej(a.i,b.i),S.Ej(a.j,b.j))};S.Du=function(a,b){return Q.jf(S.Ab(a,b.i),S.Ab(a,b.j))};S.Eu=function(a,
b){var c=P.p(S.nb(a.i,b.i),S.nb(a.j,b.i)),d=P.p(S.nb(a.i,b.j),S.nb(a.j,b.j));return Q.jf(c,d)};S.Bj=function(a){return P.p(Math.abs(a.x),Math.abs(a.y))};S.fu=function(a){return Q.jf(S.Bj(a.i),S.Bj(a.j))};S.fb=function(a,b,c){return a<b?b:a>c?c:a};S.ku=function(a,b,c){return P.p(S.fb(a.x,b.x,c.x),S.fb(a.y,b.y,c.y))};var Q=function(){this.i=P.p(0,0);this.j=P.p(0,0);this.Lg()};Q.Ci=function(a){var b=new Q;b.Set(a);return b};Q.jf=function(a,b){var c=new Q;c.Tn(a,b);return c};y=Q.prototype;y.Set=function(a){var b=
Math.cos(a);a=Math.sin(a);this.i.Set(b,a);this.j.Set(-a,b)};y.Tn=function(a,b){this.i.B(a);this.j.B(b)};y.Nb=function(){var a=new Q;a.Ie(this);return a};y.Ie=function(a){this.i.B(a.i);this.j.B(a.j)};y.kl=function(a){this.i.Vf(a.i);this.j.Vf(a.j)};y.Lg=function(){this.i.Set(1,0);this.j.Set(0,1)};y.Z=function(){this.i.Set(0,0);this.j.Set(0,0)};y.Oc=function(){return Math.atan2(this.i.y,this.i.x)};y.En=function(a){var b=this.i.x*this.j.y-this.j.x*this.i.y;0!==b&&(b=1/b);a.i.x=b*this.j.y;a.j.x=-b*this.j.x;
a.i.y=-b*this.i.y;a.j.y=b*this.i.x;return a};y.Mg=function(a,b,c){var d=this.i.x*this.j.y-this.j.x*this.i.y;0!==d&&(d=1/d);a.x=d*(this.j.y*b-this.j.x*c);a.y=d*(this.i.x*c-this.i.y*b);return a};y.Uf=function(){this.i.Uf();this.j.Uf()};var ec=function(a,b,c){this.i=new dc(0,0,0);this.j=new dc(0,0,0);this.ka=new dc(0,0,0);a&&this.i.B(a);b&&this.j.B(b);c&&this.ka.B(c)};y=ec.prototype;y.Nb=function(){return new ec(this.i,this.j,this.ka)};y.Ie=function(a){this.i.B(a.i);this.j.B(a.j);this.ka.B(a.ka)};y.kl=
function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.z+=a.i.z;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.ka.x+=a.ka.x;this.ka.y+=a.ka.y;this.ka.z+=a.ka.z};y.Lg=function(){this.i.Set(1,0,0);this.j.Set(0,1,0);this.ka.Set(0,0,1)};y.Z=function(){this.i.Set(0,0,0);this.j.Set(0,0,0);this.ka.Set(0,0,0)};y.Fi=function(a,b,c){var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,h=d*g-e*f;0!=h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};y.Xj=function(a,b,c,d){var e=this.i.x,f=this.i.y,g=this.i.z,
h=this.j.x,k=this.j.y,l=this.j.z,m=this.ka.x,n=this.ka.y,p=this.ka.z,u=e*(k*p-l*n)+f*(l*m-h*p)+g*(h*n-k*m);0!=u&&(u=1/u);a.x=u*(b*(k*p-l*n)+c*(l*m-h*p)+d*(h*n-k*m));a.y=u*(e*(c*p-d*n)+f*(d*m-b*p)+g*(b*n-c*m));a.z=u*(e*(k*d-l*c)+f*(l*b-h*d)+g*(h*c-k*b));return a};var fc=function(){this.J=P.p(0,0);this.qc=P.p(0,0);this.q=P.p(0,0)};fc.prototype.Set=function(a){this.J.B(a.J);this.qc.B(a.qc);this.q.B(a.q);this.ke=a.ke;this.H=a.H;this.Nc=a.Nc};fc.prototype.Nb=function(){var a=new fc;a.J.B(this.J);a.qc.B(this.qc);
a.q.B(this.q);a.ke=this.ke;a.H=this.H;a.Nc=this.Nc;return a};fc.prototype.xd=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.qc.x+b*this.q.x;a.position.y=(1-b)*this.qc.y+b*this.q.y;a.m.Set((1-b)*this.ke+b*this.H);var c=a.m;a.position.x-=c.i.x*this.J.x+c.j.x*this.J.y;a.position.y-=c.i.y*this.J.x+c.j.y*this.J.y};fc.prototype.Ig=function(a){void 0===a&&(a=0);if(this.Nc<a&&1-this.Nc>Number.MIN_VALUE){var b=(a-this.Nc)/(1-this.Nc);this.qc.x=(1-b)*this.qc.x+b*this.q.x;this.qc.y=(1-b)*this.qc.y+
b*this.q.y;this.ke=(1-b)*this.ke+b*this.H;this.Nc=a}};var Pb=function(a,b){this.position=P.p(0,0);this.m=new Q;a&&this.position.B(a);b&&this.m.Ie(b)};Pb.prototype.Hb=function(a,b){this.position.B(a);this.m.Ie(b)};Pb.prototype.Lg=function(){this.position.Z();this.m.Lg()};Pb.prototype.Set=function(a){this.position.B(a.position);this.m.Ie(a.m)};Pb.prototype.Oc=function(){return Math.atan2(this.m.i.y,this.m.i.x)};var P=function(a,b){this.x=a;this.y=b};P.$f=[];P.p=function(a,b){if(0<P.$f.length){var c=
P.$f.pop();c.Set(a,b);return c}return new P(a,b)};P.mc=function(a){P.$f.push(a)};y=P.prototype;y.Z=function(){this.y=this.x=0};y.Set=function(a,b){this.x=a;this.y=b};y.B=function(a){this.x=a.x;this.y=a.y};y.Kg=function(){return P.p(-this.x,-this.y)};y.$q=function(){this.x=-this.x;this.y=-this.y};y.Nb=function(){return P.p(this.x,this.y)};y.Vf=function(a){this.x+=a.x;this.y+=a.y};y.Wn=function(a){this.x-=a.x;this.y-=a.y};y.Qc=function(a){this.x*=a;this.y*=a};y.Wf=function(a){var b=this.x;this.x=a*
this.y;this.y=-a*b};y.yn=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};y.Zq=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};y.Xq=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};y.Uf=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};y.kf=function(){return Math.sqrt(this.Fl())};y.Fl=function(){return this.x*this.x+this.y*this.y};y.Rc=function(){var a=this.kf();if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};y.El=function(){return isFinite(this.x)&&
isFinite(this.y)};var dc=function(a,b,c){this.x=a;this.y=b;this.z=c};y=dc.prototype;y.Z=function(){this.z=this.y=this.x=0};y.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};y.B=function(a){this.x=a.x;this.y=a.y;this.z=a.z};y.Kg=function(){return new dc(-this.x,-this.y,-this.z)};y.$q=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};y.Nb=function(){return new dc(this.x,this.y,this.z)};y.Vf=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};y.Wn=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};
y.Qc=function(a){this.x*=a;this.y*=a;this.z*=a};var gc=function(){this.La=0.005};y=gc.prototype;y.wh=q();y.Nb=q();y.Set=function(a){this.La=a.La};y.Ai=q();y.Fj=q();y.rl=q();y.Rn=q();var Ub=function(a){this.La=0.005;this.La=a;this.lj=a*a;this.Ra=P.p(0,0)};O(Ub,gc);y=Ub.prototype;y.wh=function(){return Ub.He};y.Nb=function(){var a=new Ub(this.La);a.Set(this);return a};y.Set=function(a){gc.prototype.Set.call(this,a);a instanceof Ub&&this.Ra.B(a.Ra)};y.Ai=function(a,b){var c=b.m,d=b.position.x+(c.i.x*
this.Ra.x+c.j.x*this.Ra.y),c=b.position.y+(c.i.y*this.Ra.x+c.j.y*this.Ra.y);a.ra.Set(d-this.La,c-this.La);a.ta.Set(d+this.La,c+this.La)};y.Fj=function(a,b){a.Ff=b*Math.PI*this.lj;a.dg.B(this.Ra);a.Ei=a.Ff*(0.5*this.lj+(this.Ra.x*this.Ra.x+this.Ra.y*this.Ra.y))};y.rl=function(a,b,c,d){c=S.$b(c,this.Ra);var e=-(S.nb(a,c)-b);if(e<-this.La+Number.MIN_VALUE)return 0;if(e>this.La)return d.B(c),Math.PI*this.lj;b=e*e;e=this.lj*(Math.asin(e/this.La)+Math.PI/2)+e*Math.sqrt(this.lj-b);b=-2/3*Math.pow(this.lj-
b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};y.Rn=function(a){a.F=[this.Ra];a.ea=1;a.La=this.La};Ub.He="b2CircleShape";var hc=function(a,b){this.La=0.005;this.fa=a;this.xa=b;this.ei=P.p(this.xa.x-this.fa.x,this.xa.y-this.fa.y);this.wp=this.ei.Rc();this.na=P.p(this.ei.y,-this.ei.x);P.p(-0.04*(this.na.x-this.ei.x)+this.fa.x,-0.04*(this.na.y-this.ei.y)+this.fa.y);P.p(-0.04*(this.na.x+this.ei.x)+this.xa.x,-0.04*(this.na.y+this.ei.y)+this.xa.y);P.p(-this.na.x,-this.na.y)};O(hc,gc);hc.prototype.wh=v("b2EdgeShape");
hc.prototype.Ai=function(a,b){var c=b.m,d=b.position.x+(c.i.x*this.fa.x+c.j.x*this.fa.y),e=b.position.y+(c.i.y*this.fa.x+c.j.y*this.fa.y),f=b.position.x+(c.i.x*this.xa.x+c.j.x*this.xa.y),c=b.position.y+(c.i.y*this.xa.x+c.j.y*this.xa.y);d<f?(a.ra.x=d,a.ta.x=f):(a.ra.x=f,a.ta.x=d);e<c?(a.ra.y=e,a.ta.y=c):(a.ra.y=c,a.ta.y=e)};hc.prototype.Fj=function(a){a.Ff=0;a.dg.B(this.fa);a.Ei=0};hc.prototype.rl=function(a,b,c,d){void 0===b&&(b=0);var e=P.p(a.x*b,a.y*b),f=S.$b(c,this.fa);c=S.$b(c,this.xa);var g=
S.nb(a,f)-b;a=S.nb(a,c)-b;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x;f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else 0<a&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);d.x=(e.x+f.x+c.x)/3;d.y=(e.y+f.y+c.y)/3;return 0.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))};var ic=function(){this.Ff=0;this.dg=P.p(0,0);this.Ei=0},W=function(){this.La=0.005;this.Zc=P.p(0,0);this.F=[];this.oa=[]};O(W,gc);W.prototype.wh=function(){return W.He};W.prototype.Nb=function(){var a=new W;a.Set(this);return a};
W.prototype.Set=function(a){gc.prototype.Set.call(this,a);if(a instanceof W){this.Zc.B(a.Zc);this.Ba=a.Ba;this.Uj(this.Ba);for(var b=0;b<this.Ba;b++)this.F[b].B(a.F[b]),this.oa[b].B(a.oa[b])}};W.prototype.Qn=function(a){this.ir(a)};W.ez=function(a){var b=new W;b.Qn(a);return b};W.prototype.ir=function(a){var b=a.length;this.Ba=b;this.Uj(b);for(b=b=0;b<this.Ba;b++)this.F[b].B(a[b]);for(b=0;b<this.Ba;++b)a=S.$a(this.F[b+1<this.Ba?b+1:0],this.F[b]),this.oa[b].B(S.Wf(a,1)),this.oa[b].Rc();this.Zc=W.ou(this.F,
this.Ba)};W.iz=function(a){var b=new W;b.ir(a);return b};W.prototype.Hl=function(a,b){this.Ba=4;this.Uj(4);this.F[0].Set(-a,-b);this.F[1].Set(a,-b);this.F[2].Set(a,b);this.F[3].Set(-a,b);this.oa[0].Set(0,-1);this.oa[1].Set(1,0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.Zc.Z()};W.fz=function(a,b){var c=new W;c.Hl(a,b);return c};W.prototype.Wu=function(a,b,c,d){this.Ba=4;this.Uj(4);this.F[0].Set(-a,-b);this.F[1].Set(a,-b);this.F[2].Set(a,b);this.F[3].Set(-a,b);this.oa[0].Set(0,-1);this.oa[1].Set(1,
0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.Zc=c;a=new Q;a.Set(d);c=new Pb(c,a);for(d=0;d<this.Ba;++d)this.F[d]=S.$b(c,this.F[d]),this.oa[d]=S.Ab(c.m,this.oa[d])};W.hz=function(a,b,c,d){var e=new W;e.Wu(a,b,c,d);return e};W.prototype.hr=function(a,b){this.Ba=2;this.Uj(2);this.F[0].B(a);this.F[1].B(b);this.Zc.x=0.5*(a.x+b.x);this.Zc.y=0.5*(a.y+b.y);this.oa[0]=S.Wf(S.$a(b,a),1);this.oa[0].Rc();this.oa[1].x=-this.oa[0].x;this.oa[1].y=-this.oa[0].y};W.gz=function(a,b){var c=new W;c.hr(a,b);return c};
y=W.prototype;y.Ai=function(a,b){for(var c=b.m,d=this.F[0],e=b.position.x+(c.i.x*d.x+c.j.x*d.y),f=b.position.y+(c.i.y*d.x+c.j.y*d.y),g=e,h=f,k=1;k<this.Ba;++k)var d=this.F[k],l=b.position.x+(c.i.x*d.x+c.j.x*d.y),d=b.position.y+(c.i.y*d.x+c.j.y*d.y),e=e<l?e:l,f=f<d?f:d,g=g>l?g:l,h=h>d?h:d;a.ra.x=e-this.La;a.ra.y=f-this.La;a.ta.x=g+this.La;a.ta.y=h+this.La};y.Fj=function(a,b){if(2==this.Ba)a.dg.x=0.5*(this.F[0].x+this.F[1].x),a.dg.y=0.5*(this.F[0].y+this.F[1].y),a.Ff=0,a.Ei=0;else{for(var c=0,d=0,e=
0,f=0,g=1/3,h=0;h<this.Ba;++h)var k=this.F[h],l=h+1<this.Ba?this.F[h+1]:this.F[0],m=k.x-0,n=k.y-0,p=l.x-0,u=l.y-0,r=m*u-n*p,s=0.5*r,e=e+s,c=c+s*g*(0+k.x+l.x),d=d+s*g*(0+k.y+l.y),k=m,f=f+r*(g*(0.25*(k*k+p*k+p*p)+(0*k+0*p))+0+(g*(0.25*(n*n+u*n+u*u)+(0*n+0*u))+0));a.Ff=b*e;a.dg.Set(c*(1/e),d*(1/e));a.Ei=b*f}};y.rl=function(a,b,c,d){var e=S.Yf(c.m,a),f=b-S.nb(a,c.position),g=[],h=0,k=-1;b=-1;var l=!1;for(a=a=0;a<this.Ba;++a){g[a]=S.nb(e,this.F[a])-f;var m=g[a]<-Number.MIN_VALUE;0<a&&(m?l||(k=a-1,h++):
l&&(b=a-1,h++));l=m}switch(h){case 0:return l?(a=new ic,this.Fj(a,1),d.B(S.$b(c,a.dg)),a.Ff):0;case 1:-1==k?k=this.Ba-1:b=this.Ba-1}a=(k+1)%this.Ba;e=(b+1)%this.Ba;f=(0-g[k])/(g[a]-g[k]);g=(0-g[b])/(g[e]-g[b]);k=P.p(this.F[k].x*(1-f)+this.F[a].x*f,this.F[k].y*(1-f)+this.F[a].y*f);b=P.p(this.F[b].x*(1-g)+this.F[e].x*g,this.F[b].y*(1-g)+this.F[e].y*g);g=0;f=P.p(0,0);for(h=this.F[a];a!=e;)a=(a+1)%this.Ba,l=a==e?b:this.F[a],m=0.5*((h.x-k.x)*(l.y-k.y)-(h.y-k.y)*(l.x-k.x)),g+=m,f.x+=m*(k.x+h.x+l.x)/3,f.y+=
m*(k.y+h.y+l.y)/3,h=l;f.Qc(1/g);d.B(S.$b(c,f));return g};y.Rn=function(a){a.F=this.F;a.ea=this.Ba;a.La=this.La};y.Bl=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.Ba;++d){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return b};y.Mj=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.Ba;++d){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return this.F[b]};y.Uj=function(a){this.F=[];this.oa=[];for(var b=this.F.length;b<a;b++)this.F[b]=P.p(0,0),this.oa[b]=
P.p(0,0)};W.ou=function(a,b){for(var c=P.p(0,0),d=0,e=1/3,f=0;f<b;++f){var g=a[f],h=f+1<b?a[f+1]:a[0],k=0.5*((g.x-0)*(h.y-0)-(g.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+g.x+h.x);c.y+=k*e*(0+g.y+h.y)}c.x*=1/d;c.y*=1/d;return c};W.EA=new Q;W.He="b2PolygonShape";var jc=function(){this.Zn=this.Yn=this.$n=this.Sc=0};y=jc.prototype;y.zh=function(a){this.Sc=a;this.$n=this.Sc&255;this.Yn=(this.Sc&65280)>>8&255;this.Zn=(this.Sc&16711680)>>16&255;this.yr=(this.Sc&4278190080)>>24&255};y.Set=function(a){this.zh(a.Sc)};
y.qr=function(a){this.$n=a;this.Sc=this.Sc&4294967040|this.$n&255};y.mr=function(a){this.Yn=a;this.Sc=this.Sc&4294902015|this.Yn<<8&65280};y.nr=function(a){this.Zn=a;this.Sc=this.Sc&4278255615|this.Zn<<16&16711680};y.Xu=function(a){this.yr=a;this.Sc=this.Sc&16777215|this.yr<<24&4278190080};y.Nb=function(){var a=new jc;a.Set(this);return a};var kc=function(){this.he=P.p(0,0);this.id=new jc};kc.prototype.Set=function(a){this.he.B(a.he);this.id.Set(a.id)};var lc=function(){this.ra=P.p(0,0);this.ta=P.p(0,
0)},mc=[],nc=function(){if(0<mc.length){var a=mc.pop();a.Z();return a}return new lc};y=lc.prototype;y.Z=function(){this.ra.Set(0,0);this.ta.Set(0,0)};y.El=function(){return 0>this.ta.x-this.ra.x||0>this.ta.y-this.ra.y?!1:this.ra.El()&&this.ta.El()};y.xu=function(){return P.p((this.ra.x+this.ta.x)/2,(this.ra.y+this.ta.y)/2)};y.wn=function(a){var b;return b=(b=(b=(b=this.ra.x<=a.ra.x)&&this.ra.y<=a.ra.y)&&a.ta.x<=this.ta.x)&&a.ta.y<=this.ta.y};y.Yj=function(a){return 0<a.ra.x-this.ta.x||0<a.ra.y-this.ta.y||
0<this.ra.x-a.ta.x||0<this.ra.y-a.ta.y?!1:!0};y.ql=function(a,b){this.ra.x=Math.min(a.ra.x,b.ra.x);this.ra.y=Math.min(a.ra.y,b.ra.y);this.ta.x=Math.max(a.ta.x,b.ta.x);this.ta.y=Math.max(a.ta.y,b.ta.y)};var oc=function(a,b,c,d){var e=0,f=b[0].he,g=b[1].he,h=c.x*f.x+c.y*f.y-d;c=c.x*g.x+c.y*g.y-d;0>=h&&a[e++].Set(b[0]);0>=c&&a[e++].Set(b[1]);0>h*c&&(c=h/(h-c),d=a[e].he,d.x=f.x+c*(g.x-f.x),d.y=f.y+c*(g.y-f.y),a[e].id=0<h?b[0].id:b[1].id,e++);return e},pc=function(a,b,c,d,e){for(var f=b.m.i.x*a.oa[c].x+
b.m.j.x*a.oa[c].y,g=b.m.i.y*a.oa[c].x+b.m.j.y*a.oa[c].y,h=e.m.i.x*f+e.m.i.y*g,k=e.m.j.x*f+e.m.j.y*g,l=0,m=Number.MAX_VALUE,n=0;n<d.Ba;n++){var p=d.F[n].x*h+d.F[n].y*k;p<m&&(m=p,l=n)}return(e.position.x+(e.m.i.x*d.F[l].x+e.m.j.x*d.F[l].y)-(b.position.x+(b.m.i.x*a.F[c].x+b.m.j.x*a.F[c].y)))*f+(e.position.y+(e.m.i.y*d.F[l].x+e.m.j.y*d.F[l].y)-(b.position.y+(b.m.i.y*a.F[c].x+b.m.j.y*a.F[c].y)))*g},qc=function(a,b,c,d){for(var e=d.position.x+(d.m.i.x*c.Zc.x+d.m.j.x*c.Zc.y),f=d.position.y+(d.m.i.y*c.Zc.x+
d.m.j.y*c.Zc.y),e=e-(b.position.x+(b.m.i.x*a.Zc.x+b.m.j.x*a.Zc.y)),f=f-(b.position.y+(b.m.i.y*a.Zc.x+b.m.j.y*a.Zc.y)),g=e*b.m.i.x+f*b.m.i.y,f=e*b.m.j.x+f*b.m.j.y,e=0,h=-Number.MAX_VALUE,k=0;k<a.Ba;++k){var l=a.oa[k].x*g+a.oa[k].y*f;l>h&&(h=l,e=k)}g=pc(a,b,e,c,d);f=e-1;0>f&&(f=a.Ba-1);h=pc(a,b,f,c,d);k=e+1;k>=a.Ba&&(k=0);var l=pc(a,b,k,c,d),m=0,n=0;if(h>g&&h>l)for(m=f,n=h;;)if(e=m-1,0>e&&(e=a.Ba-1),g=pc(a,b,e,c,d),g>n)m=e,n=g;else break;else if(l>g)for(m=k,n=l;;)if(e=m+1,e>=a.Ba&&(e=0),g=pc(a,b,e,
c,d),g>n)m=e,n=g;else break;else m=e,n=g;return{Jr:m,cn:n}},sc=function(a,b,c){var d=new rc;d.Su(b,c.Bg,c.on,c.Cg,c.pn);for(var e=0;20>e;){for(var f=[],g=0;g<d.ea;g++)f[g]={},f[g].Jb=d.F[g].Jb,f[g].Kb=d.F[g].Kb;2==d.ea?d.av():3==d.ea&&d.bv();if(3==d.ea)break;g=d.zu();if(g.Fl()<cc)break;var h=g.Kg();d.F[d.ea].Jb=c.Bg.Bl(S.Yf(c.on.m,h));d.F[d.ea].Ac=S.$b(c.on,c.Bg.wc(d.F[d.ea].Jb));d.F[d.ea].Kb=c.Cg.Bl(S.Yf(c.pn.m,g));d.F[d.ea].Fe=S.$b(c.pn,c.Cg.wc(d.F[d.ea].Kb));d.F[d.ea].vc=S.$a(d.F[d.ea].Fe,d.F[d.ea].Ac);
P.mc(g);P.mc(h);e++;h=!1;for(g=0;g<f.length;g++)if(d.F[d.ea].Jb==f[g].Jb&&d.F[d.ea].Kb==f[g].Kb){h=!0;break}if(h)break;d.ea++}d.Au(a.$e,a.bf);a.hg=S.$a(a.$e,a.bf).kf();d.ov(b);c.au&&(b=c.Bg.La,c=c.Cg.La,a.hg>b+c&&a.hg>Number.MIN_VALUE?(a.hg-=b+c,d=S.$a(a.bf,a.$e),d.Rc(),a.$e.x+=b*d.x,a.$e.y+=b*d.y,a.bf.x-=c*d.x,a.bf.y-=c*d.y,P.mc(d)):(c=P.p(0,0),c.x=0.5*(a.$e.x+a.bf.x),c.y=0.5*(a.$e.y+a.bf.y),a.$e.x=a.bf.x=c.x,a.$e.y=a.bf.y=c.y,a.hg=0,P.mc(c)))},tc=q(),uc=function(){this.$e=P.p(0,0);this.bf=P.p(0,
0);this.hg=0},vc=q();vc.prototype.Set=function(a){a.Rn(this)};vc.prototype.Bl=function(a){for(var b=0,c=this.F[0].x*a.x+this.F[0].y*a.y,d=1;d<this.ea;d++){var e=this.F[d].x*a.x+this.F[d].y*a.y;e>c&&(b=d,c=e)}return b};vc.prototype.Mj=function(a){return this.F[this.Bl(a)]};vc.prototype.wc=function(a){void 0===a&&(a=0);return this.F[a]};var wc=function(){this.Ef=null};y=wc.prototype;y.Gj=function(a,b){var c=xc(b);c.Ha.ra.x=a.ra.x-0.1;c.Ha.ra.y=a.ra.y-0.1;c.Ha.ta.x=a.ta.x+0.1;c.Ha.ta.y=a.ta.y+0.1;this.Uq(c);
return c};y.Hj=function(a){this.dr(a);a.hd()};y.In=function(a,b,c){if(a.Ha.wn(b))return!1;this.dr(a);var d=0.1+2*Math.abs(c.x);c=0.1+2*Math.abs(c.y);a.Ha.ra.x=b.ra.x-d;a.Ha.ra.y=b.ra.y-c;a.Ha.ta.x=b.ta.x+d;a.Ha.ta.y=b.ta.y+c;this.Uq(a);return!0};y.Kj=function(a){return a.Ha};y.On=function(a,b){if(null!==this.Ef){var c=[];for(c.push(this.Ef);0<c.length;){var d=c.pop();if(d.Ha.Yj(b))if(d.Vq()){if(!a(d.pe))break}else c.push(d.Ad),c.push(d.nf)}}};y.Uq=function(a){if(null===this.Ef)this.Ef=a,this.Ef.parent=
null;else{var b=this.wu(a),c=b.parent,d=xc();d.parent=c;d.Ha.ql(a.Ha,b.Ha);if(c)for(b.parent.Ad==b?c.Ad=d:c.nf=d,d.Ad=b,d.nf=a,b.parent=d,a.parent=d;c&&!c.Ha.wn(d.Ha);)c.Ha.ql(c.Ad.Ha,c.nf.Ha),d=c,c=c.parent;else d.Ad=b,d.nf=a,b.parent=d,this.Ef=a.parent=d}};y.wu=function(a){a=a.Ha.xu();for(var b=this.Ef;!b.Vq();)var c=b.Ad,b=b.nf,d=Math.abs((c.Ha.ra.x+c.Ha.ta.x)/2-a.x)+Math.abs((c.Ha.ra.y+c.Ha.ta.y)/2-a.y),e=Math.abs((b.Ha.ra.x+b.Ha.ta.x)/2-a.x)+Math.abs((b.Ha.ra.y+b.Ha.ta.y)/2-a.y),b=d<e?c:b;P.mc(a);
return b};y.dr=function(a){if(a==this.Ef)this.Ef=null;else{var b=a.parent,c=b.parent;a=b.Ad==a?b.nf:b.Ad;if(c)for(c.Ad==b?c.Ad=a:c.nf=a,a.parent=c;c;){a=c.Ha;c.Ha.ql(c.Ad.Ha,c.nf.Ha);if(a.wn(c.Ha))break;c=c.parent}else this.Ef=a,a.parent=null;b.hd()}};var yc=function(){this.zg=new wc;this.Qm=[]};y=yc.prototype;y.Gj=function(a,b){var c=this.zg.Gj(a,b);this.Lq(c);return c};y.Hj=function(a){this.iv(a);this.zg.Hj(a)};y.In=function(a,b,c){this.zg.In(a,b,c)&&this.Lq(a)};y.Yj=function(a,b){return this.zg.Kj(a).Yj(this.zg.Kj(b))};
y.Kj=function(a){return this.zg.Kj(a)};y.jv=function(a){for(var b=[];0<this.Qm.length;){var c=this.Qm.pop();this.zg.On(function(a){a!=c.pe&&b.push(new zc(c.pe,a));return!0},this.zg.Kj(c))}for(var d=0;d<b.length;){var e=b[d];a(e.hk,e.ik);for(d++;d<b.length;){var f=b[d];if(!(f.hk==e.hk&&f.ik==e.ik||f.hk==e.ik&&f.ik==e.hk))break;d++}}};y.On=function(a,b){this.zg.On(a,b)};y.Lq=function(a){this.Qm.push(a)};y.iv=function(a){ra(this.Qm,a)};var Ac=function(a){this.Ha=nc();this.pe=this.parent=this.nf=this.Ad=
null;"undefined"!=typeof a&&(this.pe=a)},Bc=[],xc=function(a){if(0<Bc.length){var b=Bc.pop();"undefined"!=typeof a&&(b.pe=a);b.Ha.Z();return b}return new Ac(a)};Ac.prototype.hd=function(){this.pe=this.parent=this.nf=this.Ad=null;Bc.push(this)};Ac.prototype.Vq=function(){return null===this.Ad};var zc=function(a,b){this.hk=a;this.ik=b},Dc=function(){this.Ea=this.Db=0;this.ca=[];for(var a=0;2>a;a++)this.ca[a]=new Cc;this.tc=P.p(0,0);this.ma=P.p(0,0)};Dc.prototype.oc=function(){for(var a=0;2>a;a++)this.ca[a].oc();
this.tc.Z();this.ma.Z();this.Db=this.Ea=0};Dc.prototype.Set=function(a){this.Db=a.Db;for(var b=0;2>b;b++)this.ca[b].Set(a.ca[b]);this.tc.B(a.tc);this.ma.B(a.ma);this.Ea=a.Ea};Dc.prototype.Nb=function(){var a=new Dc;a.Set(this);return a};var Cc=function(){this.ma=P.p(0,0);this.xe=new jc;this.oc()};Cc.prototype.oc=function(){this.ma.Z();this.li=this.hi=0;this.xe.zh(0)};Cc.prototype.Set=function(a){this.ma.B(a.ma);this.hi=a.hi;this.li=a.li;this.xe.Set(a.xe)};var Ec=function(){this.ma=P.p(0,0);this.N=
P.p(0,0)};Ec.prototype.Hb=function(a,b,c,d,e){this.fh=b;this.gh=d;var f,g,h,k=h=g=0,l=0;d=b=0;var m,n,k=0;1==a.count?(this.Ea=Fc,f=this.fh.wc(a.Jb[0]),a=this.gh.wc(a.Kb[0]),n=f,m=c.m,g=c.position.x+(m.i.x*n.x+m.j.x*n.y),h=c.position.y+(m.i.y*n.x+m.j.y*n.y),n=a,m=e.m,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),this.N.x=k-g,this.N.y=l-h,this.N.Rc()):(a.Kb[0]==a.Kb[1]?(this.Ea=Gc,b=this.fh.wc(a.Jb[0]),d=this.fh.wc(a.Jb[1]),a=this.gh.wc(a.Kb[0]),this.ma.x=0.5*(b.x+d.x),this.ma.y=
0.5*(b.y+d.y),this.N=S.Wf(S.$a(d,b),1),this.N.Rc(),n=this.N,m=c.m,b=m.i.x*n.x+m.j.x*n.y,d=m.i.y*n.x+m.j.y*n.y,n=this.ma,m=c.m,g=c.position.x+(m.i.x*n.x+m.j.x*n.y),h=c.position.y+(m.i.y*n.x+m.j.y*n.y),n=a,m=e.m,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),k=(k-g)*b+(l-h)*d):a.Jb[0]==a.Jb[0]?(this.Ea=Hc,g=this.gh.wc(a.Kb[0]),h=this.gh.wc(a.Kb[1]),f=this.fh.wc(a.Jb[0]),this.ma.x=0.5*(g.x+h.x),this.ma.y=0.5*(g.y+h.y),this.N=S.Wf(S.$a(h,g),1),this.N.Rc(),n=this.N,m=e.m,b=m.i.x*
n.x+m.j.x*n.y,d=m.i.y*n.x+m.j.y*n.y,n=this.ma,m=e.m,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),n=f,m=c.m,g=c.position.x+(m.i.x*n.x+m.j.x*n.y),h=c.position.y+(m.i.y*n.x+m.j.y*n.y),k=(g-k)*b+(h-l)*d):(b=this.fh.wc(a.Jb[0]),d=this.fh.wc(a.Jb[1]),g=this.gh.wc(a.Kb[0]),h=this.gh.wc(a.Kb[1]),k=S.Ab(c.m,S.$a(d,b)),l=S.Ab(e.m,S.$a(h,g)),e=k.x*k.x+k.y*k.y,c=l.x*l.x+l.y*l.y,f=S.$a(l,k),a=k.x*f.x+k.y*f.y,f=l.x*f.x+l.y*f.y,l=k.x*l.x+k.y*l.y,m=e*c-l*l,k=0,0!=m&&(k=S.fb((l*f-a*c)/
m,0,1)),0>(l*k+f)/c&&(k=S.fb((l-a)/e,0,1)),f=P.p(0,0),f.x=b.x+k*(d.x-b.x),f.y=b.y+k*(d.y-b.y),a=P.p(0,0),a.x=g.x+k*(h.x-g.x),a.y=g.y+k*(h.y-g.y),0==k||1==k?(this.Ea=Hc,this.N=S.Wf(S.$a(h,g),1),this.N.Rc(),this.ma=a):(this.Ea=Gc,this.N=S.Wf(S.$a(d,b),1),this.ma=f)),0>k&&this.N.$q())};Ec.prototype.hf=function(a,b){var c,d,e=0;switch(this.Ea){case Fc:c=S.Yf(a.m,this.N);d=S.Yf(b.m,this.N.Kg());c=this.fh.Mj(c);d=this.gh.Mj(d);c=S.$b(a,c);d=S.$b(b,d);e=(d.x-c.x)*this.N.x+(d.y-c.y)*this.N.y;break;case Gc:e=
S.Ab(a.m,this.N);c=S.$b(a,this.ma);d=S.Yf(b.m,e.Kg());d=this.gh.Mj(d);d=S.$b(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case Hc:e=S.Ab(b.m,this.N),d=S.$b(b,this.ma),c=S.Yf(a.m,e.Kg()),c=this.fh.Mj(c),c=S.$b(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var Fc=1,Gc=2,Hc=4,rc=function(){this.fa=new Ic;this.xa=new Ic;this.Dd=new Ic;this.F=[this.fa,this.xa,this.Dd]};y=rc.prototype;y.Su=function(a,b,c,d,e){var f,g;this.ea=a.count;for(var h=this.F,k=0;k<this.ea;k++){var l=h[k];l.Jb=a.Jb[k];l.Kb=a.Kb[k];f=
b.wc(l.Jb);g=d.wc(l.Kb);l.Ac=S.$b(c,f);l.Fe=S.$b(e,g);l.vc=S.$a(l.Fe,l.Ac);l.H=0}1<this.ea&&(a=a.iy,f=this.Tq(),f<0.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.ea=0);0==this.ea&&(l=h[0],l.Jb=0,l.Kb=0,f=b.wc(0),g=d.wc(0),l.Ac=S.$b(c,f),l.Fe=S.$b(e,g),l.vc=S.$a(l.Fe,l.Ac),this.ea=1)};y.ov=function(a){a.iy=this.Tq();a.count=this.ea;for(var b=this.F,c=0;c<this.ea;c++)a.Jb[c]=b[c].Jb,a.Kb[c]=b[c].Kb};y.zu=function(){if(1==this.ea)return this.fa.vc.Kg();if(2==this.ea){var a=S.$a(this.xa.vc,this.fa.vc);return 0<
S.uh(a,this.fa.vc.Kg())?S.yn(1,a):S.Wf(a,1)}return P.p(0,0)};y.Au=function(a,b){1==this.ea?(a.B(this.fa.Ac),b.B(this.fa.Fe)):2==this.ea?(a.x=this.fa.H*this.fa.Ac.x+this.xa.H*this.xa.Ac.x,a.y=this.fa.H*this.fa.Ac.y+this.xa.H*this.xa.Ac.y,b.x=this.fa.H*this.fa.Fe.x+this.xa.H*this.xa.Fe.x,b.y=this.fa.H*this.fa.Fe.y+this.xa.H*this.xa.Fe.y):3==this.ea&&(b.x=a.x=this.fa.H*this.fa.Ac.x+this.xa.H*this.xa.Ac.x+this.Dd.H*this.Dd.Ac.x,b.y=a.y=this.fa.H*this.fa.Ac.y+this.xa.H*this.xa.Ac.y+this.Dd.H*this.Dd.Ac.y)};
y.Tq=function(){return 1==this.ea?0:2==this.ea?S.$a(this.fa.vc,this.xa.vc).kf():3==this.ea?S.uh(S.$a(this.xa.vc,this.fa.vc),S.$a(this.Dd.vc,this.fa.vc)):0};y.av=function(){var a=this.fa.vc,b=this.xa.vc,c=S.$a(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.ea=this.fa.H=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.ea=this.xa.H=1,this.fa.Set(this.xa)):(c=1/(b+a),this.fa.H=b*c,this.xa.H=a*c,this.ea=2))};y.bv=function(){var a=this.fa.vc,b=this.xa.vc,c=this.Dd.vc,d=S.$a(b,a),e=S.nb(b,d),f=-S.nb(a,d),g=S.$a(c,a),h=S.nb(c,g),k=
-S.nb(a,g),l=S.$a(c,b),m=S.nb(c,l),l=-S.nb(b,l),g=S.uh(d,g),d=g*S.uh(b,c),c=g*S.uh(c,a),a=g*S.uh(a,b);0>=f&&0>=k?this.ea=this.fa.H=1:0<e&&0<f&&0>=a?(h=1/(e+f),this.fa.H=e*h,this.xa.H=f*h,this.ea=2):0<h&&0<k&&0>=c?(e=1/(h+k),this.fa.H=h*e,this.Dd.H=k*e,this.ea=2,this.xa.Set(this.Dd)):0>=e&&0>=l?(this.ea=this.xa.H=1,this.fa.Set(this.xa)):0>=h&&0>=m?(this.ea=this.Dd.H=1,this.fa.Set(this.Dd)):0<m&&0<l&&0>=d?(e=1/(m+l),this.xa.H=m*e,this.Dd.H=l*e,this.ea=2,this.fa.Set(this.Dd)):(e=1/(d+c+a),this.fa.H=
d*e,this.xa.H=c*e,this.Dd.H=a*e,this.ea=3)};var Jc=function(){this.Jb=[0,0,0];this.Kb=[0,0,0]},Ic=q();Ic.prototype.Set=function(a){this.Ac.B(a.Ac);this.Fe.B(a.Fe);this.vc.B(a.vc);this.H=a.H;this.Jb=a.Jb;this.Kb=a.Kb};var Kc=function(){this.Bg=new vc;this.Cg=new vc;this.Nt=new fc;this.Ot=new fc},Lc=function(){this.na=P.p(0,0);this.ca=[];for(var a=this.Db=0;2>a;a++)this.ca[a]=P.p(0,0)};Lc.prototype.Hb=function(a,b,c,d,e){if(0!=a.Db){var f=0,g,h,k=0,l=0,m=0,n=0,p=0;g=0;switch(a.Ea){case 1:h=b.m;g=a.ma;
f=b.position.x+h.i.x*g.x+h.j.x*g.y;b=b.position.y+h.i.y*g.x+h.j.y*g.y;h=d.m;g=a.ca[0].ma;a=d.position.x+h.i.x*g.x+h.j.x*g.y;d=d.position.y+h.i.y*g.x+h.j.y*g.y;g=a-f;h=d-b;k=g*g+h*h;k>cc?(k=Math.sqrt(k),this.na.x=g/k,this.na.y=h/k):(this.na.x=1,this.na.y=0);g=b+c*this.na.y;d-=e*this.na.y;this.ca[0].x=0.5*(f+c*this.na.x+(a-e*this.na.x));this.ca[0].y=0.5*(g+d);break;case 2:h=b.m;g=a.tc;k=h.i.x*g.x+h.j.x*g.y;l=h.i.y*g.x+h.j.y*g.y;h=b.m;g=a.ma;m=b.position.x+h.i.x*g.x+h.j.x*g.y;n=b.position.y+h.i.y*g.x+
h.j.y*g.y;this.na.x=k;this.na.y=l;for(f=0;f<a.Db;f++)h=d.m,g=a.ca[f].ma,p=d.position.x+h.i.x*g.x+h.j.x*g.y,g=d.position.y+h.i.y*g.x+h.j.y*g.y,this.ca[f].x=p+0.5*(c-(p-m)*k-(g-n)*l-e)*k,this.ca[f].y=g+0.5*(c-(p-m)*k-(g-n)*l-e)*l;break;case 4:for(h=d.m,g=a.tc,k=h.i.x*g.x+h.j.x*g.y,l=h.i.y*g.x+h.j.y*g.y,h=d.m,g=a.ma,m=d.position.x+h.i.x*g.x+h.j.x*g.y,n=d.position.y+h.i.y*g.x+h.j.y*g.y,this.na.x=-k,this.na.y=-l,f=0;f<a.Db;f++)h=b.m,g=a.ca[f].ma,p=b.position.x+h.i.x*g.x+h.j.x*g.y,g=b.position.y+h.i.y*
g.x+h.j.y*g.y,this.ca[f].x=p+0.5*(e-(p-m)*k-(g-n)*l-c)*k,this.ca[f].y=g+0.5*(e-(p-m)*k-(g-n)*l-c)*l}}};var Rb=function(a,b){this.Pc="Body"+Rb.Kn++;this.r=new Pb;this.r.position.B(a.position);this.r.m.Set(a.Q);this.k=new fc;this.k.J.Z();this.k.Nc=1;this.k.ke=this.k.H=a.Q;this.k.q.x=this.r.m.i.x*this.k.J.x+this.r.m.j.x*this.k.J.y;this.k.q.y=this.r.m.i.y*this.k.J.x+this.r.m.j.y*this.k.J.y;this.k.q.x+=this.r.position.x;this.k.q.y+=this.r.position.y;this.k.qc.B(this.k.q);this.n=a.fp.Nb();this.tg=P.p(0,
0);this.gj=a.Ih;this.Rx=a.wo;this.pp=a.Br;this.qp=a.Gr;this.Ck=a.Pd;this.ya=b;this.lb=null;this.nd=new Mc;this.Lh=new Nc;this.A=a.Cr;this.Yx=a.ai;this.Mx=a.Eh;this.Nk=this.mi=0;this.Ea=a.type;this.M=this.Ea==T.Pb?1:0;this.D=this.Ea==T.Pb?1:0;this.L=this.ve=0;this.Vx=a.Cs;this.Si=new Oc;this.Om=[]};y=Rb.prototype;y.sl=function(a){a=new Qb(this,this.r,a);this.Ck&&a.Gj(this.ya.$c.fj,this.r);this.Si.gu(a);a.Ek=this;0<a.Km&&this.gr();this.ya.Bp=!0;return a};y.hd=function(){P.mc(this.n);P.mc(this.tg)};
y.Nq=function(a){this.Si.Tu(a);for(var b=this.nd.za(Pc);b;b=b.next)a!=b.cc.pb&&a!=b.cc.kb||this.ya.$c.hd(b.cc);this.Ck&&a.Hj(this.ya.$c.fj);a.hd();a.Ek=null;this.gr()};y.Wj=function(a,b){this.r.m.Set(b);this.r.position.B(a);var c=this.r.m,d=this.k.J;this.k.q.x=c.i.x*d.x+c.j.x*d.y;this.k.q.y=c.i.y*d.x+c.j.y*d.y;this.k.q.x+=this.r.position.x;this.k.q.y+=this.r.position.y;this.k.qc.B(this.k.q);this.k.ke=this.k.H=b;c=this.ya.$c.fj;for(d=this.Si.za();d;d=d.next)d.pe.rr(c,this.r,this.r);this.ya.$c.xl()};
y.xd=t("r");y.Sn=function(a){this.Wj(a,this.Oc())};y.Oc=function(){return this.k.H};y.Gl=function(a){this.Wj(this.r.position,a)};y.Di=function(){return this.k.q};y.vh=function(){return this.k.J};y.Ah=function(a){this.Ea!=T.Qd&&this.n.B(a)};y.Xf=t("n");y.Vj=function(a){void 0===a&&(a=0);this.Ea!=T.Qd&&(this.A=a)};y.yl=t("A");y.Ge=function(a,b){this.Ea==T.Pb&&(this.ac(!0),this.tg.x+=a.x,this.tg.y+=a.y,this.mi+=(b.x-this.k.q.x)*a.y-(b.y-this.k.q.y)*a.x)};y.nl=function(a){void 0===a&&(a=0);this.Ea==T.Pb&&
(this.ac(!0),this.mi+=a)};y.ml=function(a,b){this.Ea==T.Pb&&(this.ac(!0),this.n.x+=this.D*a.x,this.n.y+=this.D*a.y,this.A+=this.L*((b.x-this.k.q.x)*a.y-(b.y-this.k.q.y)*a.x))};y.Sq=function(a){a||(a=new ic);a.Ff=this.M;a.Ei=this.ve;a.dg.B(this.k.J);return a};y.gr=function(){this.L=this.ve=this.D=this.M=0;this.k.J.Z();if(this.Ea!=T.Qd&&this.Ea!=T.Ir){for(var a=P.p(0,0),b=this.Si.za();b;b=b.next){var c=b.pe;0!=c.Km&&(c=c.Sq(),this.M+=c.Ff,a.x+=c.dg.x*c.Ff,a.y+=c.dg.y*c.Ff,this.ve+=c.Ei)}0<this.M?(this.D=
1/this.M,a.x*=this.D,a.y*=this.D):this.D=this.M=1;0<this.ve&&!this.Rx?(this.ve-=this.M*(a.x*a.x+a.y*a.y),this.ve*=this.Vx,this.L=1/this.ve):this.L=this.ve=0;b=this.k.q.Nb();this.k.J.B(a);this.k.qc.B(S.$b(this.r,this.k.J));this.k.q.B(this.k.qc);this.n.x+=this.A*-(this.k.q.y-b.y);this.n.y+=this.A*+(this.k.q.x-b.x);P.mc(a);P.mc(b)}};y.Cl=function(a){var b=this.r.m;a=P.p(b.i.x*a.x+b.j.x*a.y,b.i.y*a.x+b.j.y*a.y);a.x+=this.r.position.x;a.y+=this.r.position.y;return a};y.Gn=function(a){return S.Ab(this.r.m,
a)};y.Cc=function(a){return S.Jn(this.r,a)};y.Fn=function(a){return S.Yf(this.r.m,a)};y.yu=function(a){return P.p(this.n.x-this.A*(a.y-this.k.q.y),this.n.y+this.A*(a.x-this.k.q.x))};y.nc=t("Ea");y.ac=function(a){if(this.qp!=a)for(this.qp=a,this.Nk=0,a||(this.n.Z(),this.A=0,this.tg.Z(),this.mi=0),a=0;a<this.Om.length;a++)this.Om[a].ur(this)};y.Dc=t("qp");y.xh=t("Ck");y.Dn=t("Si");y.Cj=function(a){this.Lh.Cj(a)};y.Tj=function(a){this.Lh.Tj(a)};y.Jg=t("nd");y.sr=function(){var a=Rb.Ly;a.m.Set(this.k.ke);
var b=a.m,c=this.k.J;a.position.x=this.k.qc.x-(b.i.x*c.x+b.j.x*c.y);a.position.y=this.k.qc.y-(b.i.y*c.x+b.j.y*c.y);b=this.ya.$c.fj;for(c=this.Si.za();c;c=c.next)c.pe.rr(b,a,this.r)};y.ob=function(){this.r.m.Set(this.k.H);var a=this.r.m,b=this.k.J;this.r.position.x=this.k.q.x-(a.i.x*b.x+a.j.x*b.y);this.r.position.y=this.k.q.y-(a.i.y*b.x+a.j.y*b.y)};y.Bh=function(a){if(this.Ea!=T.Pb&&a.Ea!=T.Pb)return!1;for(var b=this.lb;b;b=b.next)if(b.ee==a&&!1==b.og.Ys)return!1;return!0};y.Ig=function(a){this.k.Ig(a);
this.k.q.B(this.k.qc);this.k.H=this.k.ke;this.ob()};Rb.Kn=0;var T=function(){this.position=P.p(0,0);this.fp=P.p(0,0);this.Eh=this.ai=this.Cr=this.Q=0;this.Gr=this.Br=!0;this.Ih=this.wo=!1;this.type=T.Qd;this.Pd=!0;this.Cs=1};T.Qd=0;T.Ir=1;T.Pb=2;var Rc=function(){this.Pl=[];for(var a=0;a<=Qc;a++)this.Pl[a]=null;this.Ql=[];for(a=0;a<=Qc;a++)this.Ql[a]=null;this.Ii={}};y=Rc.prototype;y.za=function(a){return this.Pl[a]};y.xi=function(a){var b=a.Pc;null==this.Ii[b]&&(this.gf(a,b,Qc),this.ur(a),a.Om.push(this))};
y.ur=function(a){var b=a.nc(),c=a.Pc,d=a.Dc(),e=a.xh();b==T.Pb?this.gf(a,c,Sc):this.lf(c,Sc);b!=T.Qd?this.gf(a,c,Tc):this.lf(c,Tc);b!=T.Qd&&e&&d?this.gf(a,c,Uc):this.lf(c,Uc);d?this.gf(a,c,Vc):this.lf(c,Vc);e?this.gf(a,c,Wc):this.lf(c,Wc)};y.Sj=function(a){var b=a.Pc;if(null!=this.Ii[b]){ra(a.Om,this);for(a=0;a<=Qc;a++)this.lf(b,a);delete this.Ii[b]}};y.lf=function(a,b){var c=this.Ii[a];if(null!=c){var d=c[b];null!=d&&(c[b]=null,c=d.Be,d=d.next,null==c?this.Pl[b]=d:c.Je(d),null==d?this.Ql[b]=c:d.Ke(c))}};
y.gf=function(a,b,c){var d=this.Ii[b];if(null==d){for(var d=[],e=0;e<=Qc;e++)d[e]=null;this.Ii[b]=d}null==d[c]&&(d[c]=new Xc(a),a=this.Ql[c],null!=a?a.Je(d[c]):this.Pl[c]=d[c],d[c].Ke(a),this.Ql[c]=d[c])};var Sc=0,Tc=1,Wc=2,Uc=3,Vc=4,Qc=5,Xc=function(a){this.body=a;this.Be=this.next=null};Xc.prototype.Je=aa("next");Xc.prototype.Ke=aa("Be");Xc.prototype.Ga=t("body");var Tb=q();Tb.prototype.Bh=function(a,b){var c=a.Rq(),d=b.Rq();return c.Vg==d.Vg&&0!=c.Vg?0<c.Vg:0!=(c.oj&d.Ki)&&0!=(c.Ki&d.oj)};Tb.Hv=
new Tb;var Yc=function(){this.ly=[];this.Sy=[]},Sb=q();Sb.prototype.ol=q();var $c=function(a){this.ya=a;this.rp=Tb.Hv;this.rg=Sb.Hr;this.Zs=new Zc;this.fj=new yc};$c.prototype.iu=function(a,b){var c=a.Ga(),d=b.Ga();if(c!=d&&d.Bh(c)&&this.rp.Bh(a,b)){for(c=d.nd.za(Pc);c;c=c.next)if(d=c.cc.pb,d==a){if(d=c.cc.kb,d==b)return}else if(d==b&&(d=c.cc.kb,d==a))return;this.Zs.ie(a,b)}};$c.prototype.xl=function(){var a=this;this.fj.jv(function(b,c){a.iu(b,c)})};$c.prototype.hd=function(a){0<a.be.Db&&(a.pb.Ga().ac(!0),
a.kb.Ga().ac(!0));a.Uu();this.Zs.hd(a)};$c.prototype.mu=function(){for(var a=this.ya.nd.za(Pc);a;a=a.next){var b=a.cc,c=b.pb,d=b.kb,e=c.Ga(),f=d.Ga();if(!1!=e.Dc()||!1!=f.Dc()){if(b.gm){if(!1==f.Bh(e)){this.hd(b);continue}if(!1==this.rp.Bh(c,d)){this.hd(b);continue}b.lu()}!1==this.fj.Yj(c.ii,d.ii)?this.hd(b):b.tr(this.rg)}}};var ad=function(){this.Ki=1;this.oj=65535;this.Vg=0};ad.prototype.Nb=function(){var a=new ad;a.Ki=this.Ki;a.oj=this.oj;a.Vg=this.Vg;return a};var Qb=function(a,b,c){this.Pc="Fixture"+
Qb.Kn++;this.Qx=c.filter.Nb();this.di=nc();this.Ek=a;this.yg=c.shape.Nb();this.Km=c.Oe;this.up=c.tf;this.Mk=c.Nf;this.Mm=c.Ro};y=Qb.prototype;y.Yb=t("yg");y.yh=t("Mm");y.Rq=function(){return this.Qx.Nb()};y.Ga=t("Ek");y.Sq=function(a){a||(a=new ic);this.yg.Fj(a,this.Km);return a};y.hd=function(){mc.push(this.di)};y.Gj=function(a,b){this.yg.Ai(this.di,b);this.ii=a.Gj(this.di,this)};y.Hj=function(a){null!=this.ii&&(a.Hj(this.ii),this.ii=null)};y.rr=function(a,b,c){if(this.ii){var d=nc(),e=nc();this.yg.Ai(d,
b);this.yg.Ai(e,c);this.di.ql(d,e);mc.push(d);mc.push(e);b=S.$a(c.position,b.position);a.In(this.ii,this.di,b);P.mc(b)}};Qb.Kn=0;var Vb=function(){this.filter=new ad;this.filter.Ki=1;this.filter.oj=65535;this.filter.Vg=0;this.shape=null;this.tf=0.2;this.Oe=this.Nf=0;this.Ro=!1},Oc=function(){this.yo=this.xo=null;this.hm={}};Oc.prototype.za=t("xo");Oc.prototype.gu=function(a){var b=a.Pc;if(null==this.hm[b]){a=new bd(a);var c=this.yo;null!=c?c.Je(a):this.xo=a;a.Ke(c);this.yo=a;this.hm[b]=a}};Oc.prototype.Tu=
function(a){a=a.Pc;var b=this.hm[a];if(null!=b){var c=b.Be,b=b.next;null==c?this.xo=b:c.Je(b);null==b?this.yo=c:b.Ke(c);delete this.hm[a]}};var bd=function(a){this.pe=a;this.Be=this.next=null};bd.prototype.Je=aa("next");bd.prototype.Ke=aa("Be");var cd=function(a,b){this.Zx=a;this.We=b;this.yf=[];this.Lm=[];this.eh=[];this.sg=[];this.Jc=[]};y=cd.prototype;y.pl=function(){this.yf=[];this.Lm=[];this.eh=[];this.sg=[];this.Jc=[]};y.Mg=function(a,b,c){this.sv(a,b);this.We.Hb(a,this.sg,this.sg.length);this.yv(a);
this.uv(a);this.vv(a);this.er(this.We.zf);c&&this.tv(a)};y.sv=function(a,b){for(var c=0;c<this.Lm.length;c++){var d=this.Lm[c];d.n.x+=a.ua*(b.x+d.D*d.tg.x);d.n.y+=a.ua*(b.y+d.D*d.tg.y);d.A+=a.ua*d.L*d.mi;d.n.Qc(S.fb(1-a.ua*d.Yx,0,1));d.A*=S.fb(1-a.ua*d.Mx,0,1)}};y.yv=function(a){this.We.je(a);for(var b=0;b<this.Jc.length;b++)this.Jc[b].je(a);for(b=0;b<a.il;b++){for(var c=0;c<this.Jc.length;c++)this.Jc[c].Od(a);this.We.Od()}for(a=0;a<this.Jc.length;a++)this.Jc[a].Bn();this.We.Bn()};y.uv=function(a){for(var b=
0;b<this.eh.length;++b){var c=this.eh[b],d=a.ua*c.n.x,e=a.ua*c.n.y;4<d*d+e*e&&(c.n.Rc(),c.n.x=2*c.n.x*a.lg,c.n.y=2*c.n.y*a.lg);d=a.ua*c.A;d*d>ac&&(c.A=0>c.A?-$b*a.lg:$b*a.lg);c.k.qc.B(c.k.q);c.k.ke=c.k.H;c.k.q.x+=a.ua*c.n.x;c.k.q.y+=a.ua*c.n.y;c.k.H+=a.ua*c.A;c.ob()}};y.vv=function(a){for(var b=0;b<a.Wk;b++){for(var c=this.We.Nd(0.2),d=!0,e=0;e<this.Jc.length;e++)var f=this.Jc[e].Nd(0.2),d=d&&f;if(c&&d)break}};y.tv=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.eh.length;c++){var d=this.eh[c];
!d.pp||Math.abs(d.A)>bc||1E-4<S.nb(d.n,d.n)?b=d.Nk=0:(d.Nk+=a.ua,b=Math.min(b,d.Nk))}if(0.5<=b)for(a=0;a<this.yf.length;a++)this.yf[a].ac(!1)};y.Un=function(a){var b=0,c=0;this.We.Hb(a,this.sg,this.sg.length);for(var d=this.We,b=0;b<this.Jc.length;++b)this.Jc[b].je(a);for(b=0;b<a.il;++b)for(d.Od(),c=0;c<this.Jc.length;++c)this.Jc[c].Od(a);for(b=0;b<this.eh.length;++b){var c=this.eh[b],e=a.ua*c.n.x,f=a.ua*c.n.y;4<e*e+f*f&&(c.n.Rc(),c.n.x=2*c.n.x*a.lg,c.n.y=2*c.n.y*a.lg);e=a.ua*c.A;e*e>ac&&(c.A=0>c.A?
-$b*a.lg:$b*a.lg);c.k.qc.B(c.k.q);c.k.ke=c.k.H;c.k.q.x+=a.ua*c.n.x;c.k.q.y+=a.ua*c.n.y;c.k.H+=a.ua*c.A;c.ob()}for(b=0;b<a.Wk;++b){e=d.Nd(0.75);f=!0;for(c=0;c<this.Jc.length;++c)var g=this.Jc[c].Nd(0.2),f=f&&g;if(e&&f)break}this.er(d.zf)};y.er=function(a){if(null!=this.Zx)for(var b=0;b<this.sg.length;++b)for(var c=a[b],d=new Yc,e=0;e<c.Ae;++e)d.ly[e]=c.Fb[e].Eb,d.Sy[e]=c.Fb[e].Rf};y.xi=function(a){this.yf.push(a);a.nc()!=T.Qd&&(this.eh.push(a),a.nc()==T.Pb&&this.Lm.push(a))};y.yi=function(a){this.sg.push(a)};
y.Jq=function(a){this.Jc.push(a)};var dd=function(a,b,c,d,e){this.ua=a;var f=0;0<a&&(f=1/a);this.lg=f;this.Sb=b;this.Wk=c;this.il=d;this.Hg=e},V=function(a,b){this.$c=new $c(this);this.We=new ed;this.Bp=!1;this.pc=new Rc;this.nd=new Mc;this.lb=null;this.Lh=new Nc;this.Nm=0;this.Ox=this.ey=!0;this.pp=b;this.vp=a;this.$s=0;this.Ux=this.xn(new T)};V.Bu=1-100*Number.MIN_VALUE;y=V.prototype;y.jr=function(a){this.$c.rp=a};y.kr=function(a){this.$c.rg=a};y.xn=function(a){a=new Rb(a,this);this.pc.xi(a);return a};
y.ul=function(a){for(var b=a.lb;b;){var c=b,b=b.next;this.wl(c.og)}for(b=a.Lh.za();b;b=b.next)b.Wr.Sj(a);for(b=a.nd.za(Pc);b;b=b.next)this.$c.hd(b.cc);for(b=a.Dn().za();b;b=b.next)a.Nq(b.pe);a.hd();this.pc.Sj(a)};y.tl=function(a){var b=X.ie(a);b.ij=null;if(b.dh=this.lb)this.lb.ij=b;this.lb=b;this.Nm++;b.bd.og=b;b.bd.ee=b.P;b.bd.prev=null;if(b.bd.next=b.O.lb)b.O.lb.prev=b.bd;b.O.lb=b.bd;b.cd.og=b;b.cd.ee=b.O;b.cd.prev=null;if(b.cd.next=b.P.lb)b.P.lb.prev=b.cd;b.P.lb=b.cd;var c=a.G,d=a.I;if(!a.ho)for(a=
d.nd.za(Pc);a;a=a.next)a.cc.Al(d)==c&&a.cc.Pq();return b};y.wl=function(a){var b=a.Ys;a.ij&&(a.ij.dh=a.dh);a.dh&&(a.dh.ij=a.ij);a==this.lb&&(this.lb=a.dh);var c=a.O,d=a.P;c.ac(!0);d.ac(!0);a.bd.prev&&(a.bd.prev.next=a.bd.next);a.bd.next&&(a.bd.next.prev=a.bd.prev);a.bd==c.lb&&(c.lb=a.bd.next);a.bd.prev=null;a.bd.next=null;a.cd.prev&&(a.cd.prev.next=a.cd.next);a.cd.next&&(a.cd.next.prev=a.cd.prev);a.cd==d.lb&&(d.lb=a.cd.next);a.cd.prev=null;a.cd.next=null;this.Nm--;if(!b)for(a=d.nd.za(Pc);a;a=a.next)a.cc.Al(d)==
c&&a.cc.Pq()};y.Cj=function(a){if(null!==a.ya&&a.ya!=this)throw Error("Controller can only be a member of one world");this.Lh.Cj(a);a.ya=this;return a};y.Tj=function(a){this.Lh.Tj(a);a.ya=null;a.pl()};y.lr=aa("vp");y.Zf=function(a,b,c){this.Bp&&(this.$c.xl(),this.Bp=!1);a=new dd(a,this.$s*a,b,c,this.ey);this.$c.mu();0<a.ua&&(this.Mg(a),this.Ox&&this.Un(a),this.$s=a.lg)};y.Mq=function(){for(var a=this.pc.za(Sc);a;a=a.next)a.body.tg.Z(),a.body.mi=0};y.Jg=t("nd");var fd=[];V.prototype.Mg=function(a){for(var b=
this.Lh.za();b;b=b.next)b.Wr.Zf(a);for(var b=new cd(this.$c.rg,this.We),c=this.pc.za(Qc);c;c=c.next)c.body.cb=!1;for(var d=this.nd.za(Pc);d;d=d.next)d.cc.cb=!1;for(c=this.lb;c;c=c.dh)c.cb=!1;for(c=this.pc.za(Uc);c;c=c.next)if(d=c.body,!d.cb){b.pl();fd.length=0;var e=fd;e.push(d);for(d.cb=!0;0<e.length;){var f=e.pop();b.xi(f);f.Dc()||f.ac(!0);if(f.nc()!=T.Qd){for(d=f.nd.za(gd);d;d=d.next){var g=d.cc;g.cb||(b.yi(g),g.cb=!0,g=g.Al(f),g.cb||(e.push(g),g.cb=!0))}for(d=f.lb;d;d=d.next)!d.og.cb&&d.ee.xh()&&
(b.Jq(d.og),d.og.cb=!0,d.ee.cb||(e.push(d.ee),d.ee.cb=!0))}}b.Mg(a,this.vp,this.pp)}for(c=this.pc.za(Uc);c;c=c.next)c.body.sr();this.$c.xl()};V.prototype.Un=function(a){for(var b=new cd(this.$c.rg,this.We),c=this.pc.za(Qc);c;c=c.next){var d=c.body;d.cb=!1;d.k.Nc=0}for(var e=this.nd.za(Pc);e;e=e.next)e.cc.cb=!1,e.cc.mj=null;for(c=this.lb;c;c=c.dh)c.cb=!1;for(;;){var c=this.wv(),f=c.jy,c=c.ky;if(null===f||V.Bu<c)break;e=f.pb.Ga();d=f.kb.Ga();V.Et.Set(e.k);V.Ft.Set(d.k);e.Ig(c);d.Ig(c);f.tr(this.$c.rg);
f.mj=null;if(f.bn||!f.enabled)e.k.Set(V.Et),d.k.Set(V.Ft),e.ob(),d.ob();else if(f.fl){e.nc()!=T.Pb&&(e=d);b.pl();fd.length=0;f=fd;f.push(e);for(e.cb=!0;0<f.length;)if(d=f.pop(),b.xi(d),d.Dc()||d.ac(!0),d.nc()==T.Pb){for(e=d.nd.za(gd);e&&32!=b.Nx;e=e.next){var g=e.cc;g.cb||(b.yi(g),g.cb=!0,g=g.Al(d),g.cb||(g.nc()!=T.Qd&&(g.Ig(c),g.ac(!0),f.push(g)),g.cb=!0))}for(d=d.lb;d;d=d.next)32!=b.Nm&&!d.og.cb&&d.ee.xh()&&(b.Jq(d.og),d.og.cb=!0,d.ee.cb||(d.ee.nc()!=T.Qd&&(d.ee.Ig(c),d.ee.ac(!0),f.push(d.ee)),
d.ee.cb=!0))}b.Un(new dd((1-c)*a.ua,0,a.il,a.Wk,!1));for(c=0;c<b.yf.length;c++)if(b.yf[c].cb=!1,b.yf[c].Dc()&&b.yf[c].nc()==T.Pb)for(b.yf[c].sr(),e=b.yf[c].nd.za(Pc);e;e=e.next)e.cc.mj=null;for(c=0;c<b.Nx;c++)b.sg[c].cb=!1,b.sg[c].mj=null;for(c=0;c<b.Nm;c++)b.Jc[c].cb=!1;this.$c.xl()}}};V.prototype.wv=function(){for(var a=null,b=1,c=this.nd.za(hd);c;c=c.next){var d=c.cc;if(!this.xv(d)){var e=1;if(null!=d.mj)e=d.mj;else{if(d.fl)e=1;else{var e=d.pb.Ga(),f=d.kb.Ga(),g=e.k.Nc;e.k.Nc<f.k.Nc?(g=f.k.Nc,
e.k.Ig(g)):f.k.Nc<e.k.Nc&&(g=e.k.Nc,f.k.Ig(g));e=d.pu(e.k,f.k);0<e&&1>e&&(e=(1-e)*g+e)}d.mj=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{jy:a,ky:b}};V.prototype.xv=function(a){var b=a.pb.Ga();a=a.kb.Ga();return b.nc()==T.Pb&&b.Dc()||a.nc()==T.Pb&&a.Dc()?!1:!0};var Y=function(a,b){this.Pc="Contact"+id++;this.be=new Dc;this.Kk=new Dc;this.fl=!1;var c=a.Ga(),d=b.Ga();this.io=c.nc()!=T.Pb||c.gj||d.nc()!=T.Pb||d.gj;this.bn=a.yh()||b.yh();this.gm=!1;this.pb=a;this.kb=b;this.enabled=!0;this.Nl=c.Jg();this.Ol=
d.Jg();this.vn=d.ya.Jg();this.Kq()};y=Y.prototype;y.oc=function(a,b){this.be.oc();this.Kk.oc();this.fl=!1;var c=a.Ga(),d=b.Ga();this.io=c.nc()!=T.Pb||c.gj||d.nc()!=T.Pb||d.gj;this.bn=a.yh()||b.yh();this.gm=!1;this.pb=a;this.kb=b;this.enabled=!0;this.Nl=c.Jg();this.Ol=d.Jg();this.vn=d.ya.Jg();this.Kq()};y.Kq=function(){this.Nl.yi(this);this.Ol.yi(this);this.vn.yi(this);this.xr()};y.xr=function(){var a=!1,b=!1;!this.yh()&&this.enabled&&(this.Hn()&&(a=!0),this.io&&(b=!0));this.Nl.Xn(this,a,b);this.Ol.Xn(this,
a,b);this.vn.Xn(this,a,b)};y.Uu=function(){this.Nl.Pn(this);this.Ol.Pn(this);this.vn.Pn(this)};y.Hn=t("fl");y.yh=t("bn");y.Al=function(a){var b=this.pb.Ga();return b!=a?b:this.kb.Ga()};y.Pq=function(){this.gm=!0};y.lu=function(){this.gm=!1};y.tr=function(a){var b=this.Kk;this.Kk=this.be;this.be=b;this.enabled=!0;var c=!1,b=this.Hn(),d=this.pb.Ga(),e=this.kb.Ga(),f=this.pb.di.Yj(this.kb.di);if(this.bn){if(f){var c=this.pb.Yb(),d=d.xd(),f=this.kb.Yb(),g=e.xd(),e=new tc;e.Bg=new vc;e.Bg.Set(c);e.Cg=
new vc;e.Cg.Set(f);e.on=d;e.pn=g;e.au=!0;d=new Jc;d.count=0;c=new uc;sc(c,d,e);c=c.hg<10*Number.MIN_VALUE}this.be.Db=0}else{this.io=d.nc()!=T.Pb||d.gj||e.nc()!=T.Pb||e.gj?!0:!1;if(f)for(this.hf(),c=0<this.be.Db,f=0;f<this.be.Db;f++){g=this.be.ca[f];g.hi=0;for(var h=g.li=0;h<this.Kk.Db;h++){var k=this.Kk.ca[h];if(k.xe.Sc==g.xe.Sc){g.hi=k.hi;g.li=k.li;break}}}else this.be.Db=0;c!=b&&(d.ac(!0),e.ac(!0))}this.fl=c;c!=b&&this.xr();!b&&c&&a.ol(this)};y.hf=q();y.pu=function(a,b){jd.Bg.Set(this.pb.Yb());
jd.Cg.Set(this.kb.Yb());jd.Nt=a;jd.Ot=b;jd.Uy=0.005;var c=jd;kd++;var d=c.Bg,e=c.Cg,f=c.Nt,g=c.Ot,h=d.La+e.La,c=c.Uy,k=0,l=0,m=0;ld.count=0;for(md.au=!1;;){f.xd(nd,k);g.xd(od,k);md.Bg=d;md.Cg=e;md.on=nd;md.pn=od;sc(pd,ld,md);if(0>=pd.hg){k=1;break}qd.Hb(ld,d,nd,e,od);var n=qd.hf(nd,od);if(0>=n){k=1;break}0==l&&(m=n>h?Math.max(h-c,0.75*h):Math.max(n-c,0.02*h));if(n-m<0.5*c){if(0==l){k=1;break}break}var p=k,u=k,r=1;f.xd(nd,r);g.xd(od,r);var s=qd.hf(nd,od);if(s>=m){k=1;break}for(var x=0;;){var z=0,z=
x&1?u+(m-n)*(r-u)/(s-n):0.5*(u+r);f.xd(nd,z);g.xd(od,z);var B=qd.hf(nd,od);if(Math.abs(B-m)<0.025*c){p=z;break}B>m?(u=z,n=B):(r=z,s=B);x++;rd++;if(50==x)break}sd=Math.max(sd,x);if(p<(1+100*Number.MIN_VALUE)*k)break;k=p;l++;td++;if(1E3==l)break}ud=Math.max(ud,l);return k};var jd=new Kc,id=0,vd=function(a,b){Y.call(this,a,b)};O(vd,Y);vd.prototype.oc=function(a,b){Y.prototype.oc.call(this,a,b)};vd.prototype.hf=function(){var a=this.be,b=this.pb.Yb(),c=this.pb.Ga().r,d=this.kb.Yb(),e=this.kb.Ga().r;a.Db=
0;var f=e.position.x+(e.m.i.x*d.Ra.x+e.m.j.x*d.Ra.y)-(c.position.x+(c.m.i.x*b.Ra.x+c.m.j.x*b.Ra.y)),c=e.position.y+(e.m.i.y*d.Ra.x+e.m.j.y*d.Ra.y)-(c.position.y+(c.m.i.y*b.Ra.x+c.m.j.y*b.Ra.y)),e=b.La+d.La;f*f+c*c>e*e||(a.Ea=1,a.ma.B(b.Ra),a.tc.Z(),a.Db=1,a.ca[0].ma.B(d.Ra),a.ca[0].xe.zh(0))};var xd=function(){this.xf=P.p(0,0);this.Cb=P.p(0,0);this.Kc=P.p(0,0);this.Ag=new Q;this.yd=new Q;this.Fb=[];for(var a=0;2>a;a++)this.Fb[a]=new wd},wd=function(){this.Cb=P.p(0,0);this.tb=P.p(0,0);this.ub=P.p(0,
0)};wd.prototype.oc=function(){this.Cb.Set(0,0);this.tb.Set(0,0);this.ub.Set(0,0)};var Zc=function(){this.Ye={};this.ug={};this.Dj(vd,Ub.He,Ub.He);this.Dj(yd,W.He,Ub.He);this.Dj(zd,W.He,W.He);this.Dj(Ad,"b2EdgeShape",Ub.He);this.Dj(Bd,W.He,"b2EdgeShape")};Zc.prototype.Dj=function(a,b,c){this.ug[b]=this.ug[b]||{};this.ug[b][c]=this.ug[b][c]||[];this.Ye[b]=this.Ye[b]||{};this.Ye[b][c]=new Cd;this.Ye[b][c].$r=a;this.Ye[b][c].ut=!0;b!=c&&(this.Ye[c]=this.Ye[c]||{},this.Ye[c][b]=new Cd,this.Ye[c][b].$r=
a,this.Ye[c][b].ut=!1)};Zc.prototype.ie=function(a,b){var c=a.Yb().wh(),d=b.Yb().wh(),e=this.Ye[c][d],f=e.$r;return null!=f?e.ut?0<this.ug[c][d].length?(c=this.ug[c][d].pop(),c.oc(a,b),c):new f(a,b):0<this.ug[d][c].length?(c=this.ug[d][c].pop(),c.oc(b,a),c):new f(b,a):null};Zc.prototype.hd=function(a){var b=a.pb.Yb().wh(),c=a.kb.Yb().wh();this.ug[b][c].push(a)};var Mc=function(){this.Tl=[];for(var a=0;a<=Pc;a++)this.Tl[a]=null;this.Ul=[];for(a=0;a<=Pc;a++)this.Ul[a]=null;this.Kh={}};y=Mc.prototype;
y.za=function(a){return this.Tl[a]};y.yi=function(a){var b=a.Pc;if(null==this.Kh[b]){this.Kh[b]=[];for(var c=0;c<=Pc;c++)this.Kh[b][c]=null;this.gf(a,b,Pc)}};y.Xn=function(a,b,c){b?this.gf(a,a.Pc,gd):this.lf(a.Pc,gd);c?this.gf(a,a.Pc,hd):this.lf(a.Pc,hd)};y.Pn=function(a){a=a.Pc;if(null!=this.Kh[a]){for(var b=0;b<=Pc;b++)this.lf(a,b);delete this.Kh[a]}};y.lf=function(a,b){var c=this.Kh[a];if(null!=c){var d=c[b];if(null!=d){c[b]=null;var c=d.Be,e=d.next;null==c?this.Tl[b]=e:c.Je(e);null==e?this.Ul[b]=
c:e.Ke(c);Dd.push(d)}}};y.gf=function(a,b,c){b=this.Kh[b];if(null==b[c]){if(0<Dd.length){var d=Dd.pop();d.next=null;d.Be=null;d.cc=a;a=d}else a=new Ed(a);b[c]=a;a=this.Ul[c];null!=a?(a.Je(b[c]),b[c].Ke(a)):this.Tl[c]=b[c];this.Ul[c]=b[c]}};var gd=0,hd=1,Pc=2,Ed=function(a){this.cc=a;this.Be=this.next=null},Dd=[];Ed.prototype.Je=aa("next");Ed.prototype.Ke=aa("Be");var Cd=q(),Fd=function(){this.na=P.p(0,0);this.Sm=[];this.ca=[];for(var a=0;2>a;a++)this.ca[a]=P.p(0,0)};Fd.prototype.Hb=function(a){switch(a.type){case 1:this.pv(a);
break;case 2:this.qv(a);break;case 4:this.rv(a)}};Fd.prototype.pv=function(a){var b=a.G.r.m,c=a.Cb,d=a.G.r.position.x+(b.i.x*c.x+b.j.x*c.y),e=a.G.r.position.y+(b.i.y*c.x+b.j.y*c.y),b=a.I.r.m,c=a.Fb[0].Cb,f=a.I.r.position.x+(b.i.x*c.x+b.j.x*c.y),b=a.I.r.position.y+(b.i.y*c.x+b.j.y*c.y),c=f-d,g=b-e,h=c*c+g*g;h>cc?(h=Math.sqrt(h),this.na.x=c/h,this.na.y=g/h):(this.na.x=1,this.na.y=0);this.ca[0].x=0.5*(d+f);this.ca[0].y=0.5*(e+b);this.Sm[0]=c*this.na.x+g*this.na.y-a.$m};Fd.prototype.qv=function(a){this.na.x=
a.G.r.m.i.x*a.xf.x+a.G.r.m.j.x*a.xf.y;this.na.y=a.G.r.m.i.y*a.xf.x+a.G.r.m.j.y*a.xf.y;for(var b=a.G.r.position.x+(a.G.r.m.i.x*a.Cb.x+a.G.r.m.j.x*a.Cb.y),c=a.G.r.position.y+(a.G.r.m.i.y*a.Cb.x+a.G.r.m.j.y*a.Cb.y),d=0;d<a.Ae;d++){var e=a.I.r.position.x+(a.I.r.m.i.x*a.Fb[d].Cb.x+a.I.r.m.j.x*a.Fb[d].Cb.y),f=a.I.r.position.y+(a.I.r.m.i.y*a.Fb[d].Cb.x+a.I.r.m.j.y*a.Fb[d].Cb.y);this.Sm[d]=(e-b)*this.na.x+(f-c)*this.na.y-a.$m;this.ca[d].x=e;this.ca[d].y=f}};Fd.prototype.rv=function(a){this.na.x=a.I.r.m.i.x*
a.xf.x+a.I.r.m.j.x*a.xf.y;this.na.y=a.I.r.m.i.y*a.xf.x+a.I.r.m.j.y*a.xf.y;for(var b=a.I.r.position.x+(a.I.r.m.i.x*a.Cb.x+a.I.r.m.j.x*a.Cb.y),c=a.I.r.position.y+(a.I.r.m.i.y*a.Cb.x+a.I.r.m.j.y*a.Cb.y),d=0;d<a.Ae;d++){var e=a.G.r.position.x+(a.G.r.m.i.x*a.Fb[d].Cb.x+a.G.r.m.j.x*a.Fb[d].Cb.y),f=a.G.r.position.y+(a.G.r.m.i.y*a.Fb[d].Cb.x+a.G.r.m.j.y*a.Fb[d].Cb.y);this.Sm[d]=(e-b)*this.na.x+(f-c)*this.na.y-a.$m;this.ca[d].Set(e,f)}this.na.x*=-1;this.na.y*=-1};var ed=function(){this.zf=[]};y=ed.prototype;
y.Hb=function(a,b,c){for(this.Fk=c;this.zf.length<this.Fk;)this.zf[this.zf.length]=new xd;for(a=0;a<c;a++){var d=b[a],e=d.pb,f=d.kb,g=e.yg.La,h=f.yg.La,k=e.Ga(),l=f.Ga(),m=d.be,n=Math.sqrt(e.up*f.up),p=e.Mk>f.Mk?e.Mk:f.Mk,u=k.n.x,r=k.n.y,s=l.n.x,x=l.n.y,z=k.A,B=l.A;Gd.Hb(m,k.r,g,l.r,h);f=Gd.na.x;d=Gd.na.y;e=this.zf[a];e.G=k;e.I=l;e.fy=m;e.Kc.x=f;e.Kc.y=d;e.Ae=m.Db;e.tf=n;e.Nf=p;e.xf.x=m.tc.x;e.xf.y=m.tc.y;e.Cb.x=m.ma.x;e.Cb.y=m.ma.y;e.$m=g+h;e.type=m.Ea;for(g=0;g<e.Ae;++g){n=m.ca[g];h=e.Fb[g];h.Eb=
n.hi;h.Rf=n.li;h.Cb.B(n.ma);var n=h.tb.x=Gd.ca[g].x-k.k.q.x,p=h.tb.y=Gd.ca[g].y-k.k.q.y,H=h.ub.x=Gd.ca[g].x-l.k.q.x,D=h.ub.y=Gd.ca[g].y-l.k.q.y,E=n*d-p*f,A=H*d-D*f,E=E*E,A=A*A;h.Ag=1/(k.D+l.D+k.L*E+l.L*A);var C=k.M*k.D+l.M*l.D,C=C+(k.M*k.L*E+l.M*l.L*A);h.nw=1/C;A=d;C=-f;E=n*C-p*A;A=H*C-D*A;E*=E;A*=A;h.Ty=1/(k.D+l.D+k.L*E+l.L*A);h.hl=0;n=e.Kc.x*(s+-B*D-u- -z*p)+e.Kc.y*(x+B*H-r-z*n);-1>n&&(h.hl+=-e.Nf*n)}2==e.Ae&&(x=e.Fb[0],s=e.Fb[1],m=k.D,k=k.L,u=l.D,l=l.L,r=x.tb.x*d-x.tb.y*f,x=x.ub.x*d-x.ub.y*f,z=
s.tb.x*d-s.tb.y*f,s=s.ub.x*d-s.ub.y*f,f=m+u+k*r*r+l*x*x,d=m+u+k*z*z+l*s*s,l=m+u+k*r*z+l*x*s,f*f<100*(f*d-l*l)?(e.yd.i.Set(f,l),e.yd.j.Set(l,d),e.yd.En(e.Ag)):e.Ae=1)}};y.je=function(a){for(var b=0;b<this.Fk;++b){var c=this.zf[b],d=c.G,e=c.I,f=d.D,g=d.L,h=e.D,k=e.L,l=c.Kc.x,m=c.Kc.y,n=m,p=-l,u=0,r=0;if(a.Hg)for(r=c.Ae,u=0;u<r;++u){var s=c.Fb[u];s.Eb*=a.Sb;s.Rf*=a.Sb;var x=s.Eb*l+s.Rf*n,z=s.Eb*m+s.Rf*p;d.A-=g*(s.tb.x*z-s.tb.y*x);d.n.x-=f*x;d.n.y-=f*z;e.A+=k*(s.ub.x*z-s.ub.y*x);e.n.x+=h*x;e.n.y+=h*z}else for(r=
c.Ae,u=0;u<r;++u)d=c.Fb[u],d.Eb=0,d.Rf=0}};y.Od=function(){for(var a=0;a<this.Fk;a++)this.cv(this.zf[a])};y.cv=function(a){for(var b=a.Kc.x,c=a.Kc.y,d=0;d<a.Ae;d++)ed.prototype.dv(a,a.Fb[d]);if(1==a.Ae){var d=a.Fb[0],e=d.Eb-d.Ag*((a.I.n.x-a.I.A*d.ub.y-a.G.n.x+a.G.A*d.tb.y)*b+(a.I.n.y+a.I.A*d.ub.x-a.G.n.y-a.G.A*d.tb.x)*c-d.hl),e=0<e?e:0,f=e-d.Eb,g=f*b,c=f*c;a.G.n.x-=a.G.D*g;a.G.n.y-=a.G.D*c;a.G.A-=a.G.L*(d.tb.x*c-d.tb.y*g);a.I.n.x+=a.I.D*g;a.I.n.y+=a.I.D*c;a.I.A+=a.I.L*(d.ub.x*c-d.ub.y*g);d.Eb=e}else for(var d=
a.Fb[0],e=a.Fb[1],f=d.Eb,g=e.Eb,h=(a.I.n.x-a.I.A*d.ub.y-a.G.n.x+a.G.A*d.tb.y)*b+(a.I.n.y+a.I.A*d.ub.x-a.G.n.y-a.G.A*d.tb.x)*c-d.hl,c=(a.I.n.x-a.I.A*e.ub.y-a.G.n.x+a.G.A*e.tb.y)*b+(a.I.n.y+a.I.A*e.ub.x-a.G.n.y-a.G.A*e.tb.x)*c-e.hl,h=h-(a.yd.i.x*f+a.yd.j.x*g),c=c-(a.yd.i.y*f+a.yd.j.y*g);;){b=-(a.Ag.i.x*h+a.Ag.j.x*c);if(0<=b){var k=-(a.Ag.i.y*h+a.Ag.j.y*c);if(0<=k){this.Il(a,d,e,b-f,k-g);d.Eb=b;e.Eb=k;break}}b=-d.Ag*h;if(0<=b&&0<=a.yd.i.y*b+c){this.Il(a,d,e,b-f,-g);d.Eb=b;e.Eb=0;break}b=-e.Ag*c;if(0<=
b&&0<=a.yd.j.x*b+h){this.Il(a,d,e,-f,b-g);d.Eb=0;e.Eb=b;break}if(0<=h&&0<=c){this.Il(a,d,e,-f,-g);d.Eb=0;e.Eb=0;break}break}};y.dv=function(a,b){var c=a.Kc.y,d=-a.Kc.x,e=a.tf*b.Eb,e=S.fb(b.Rf-b.Ty*((a.I.n.x-a.I.A*b.ub.y-a.G.n.x+a.G.A*b.tb.y)*c+(a.I.n.y+a.I.A*b.ub.x-a.G.n.y-a.G.A*b.tb.x)*d),-e,e),f=e-b.Rf,c=f*c,d=f*d;a.G.n.x-=a.G.D*c;a.G.n.y-=a.G.D*d;a.G.A-=a.G.L*(b.tb.x*d-b.tb.y*c);a.I.n.x+=a.I.D*c;a.I.n.y+=a.I.D*d;a.I.A+=a.I.L*(b.ub.x*d-b.ub.y*c);b.Rf=e};y.Il=function(a,b,c,d,e){var f=d*a.Kc.x;d*=
a.Kc.y;var g=e*a.Kc.x;e*=a.Kc.y;a.G.n.x-=a.G.D*(f+g);a.G.n.y-=a.G.D*(d+e);a.G.A-=a.G.L*(b.tb.x*d-b.tb.y*f+c.tb.x*e-c.tb.y*g);a.I.n.x+=a.I.D*(f+g);a.I.n.y+=a.I.D*(d+e);a.I.A+=a.I.L*(b.ub.x*d-b.ub.y*f+c.ub.x*e-c.ub.y*g);b.Eb=0;c.Eb=0};y.Bn=function(){for(var a=0;a<this.Fk;++a)for(var b=this.zf[a],c=b.fy,d=0;d<b.Ae;++d){var e=c.ca[d],f=b.Fb[d];e.hi=f.Eb;e.li=f.Rf}};y.Nd=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.Fk;c++){var d=this.zf[c],e=d.G,f=d.I,g=e.M*e.D,h=e.M*e.L,k=f.M*f.D,l=f.M*f.L;Hd.Hb(d);
for(var m=Hd.na,n=0;n<d.Ae;n++){var p=d.Fb[n],u=Hd.ca[n],r=Hd.Sm[n],s=u.x-e.k.q.x,x=u.y-e.k.q.y,z=u.x-f.k.q.x,u=u.y-f.k.q.y,b=b<r?b:r,r=-p.nw*S.fb(a*(r+0.005),-0.2,0),p=r*m.x,r=r*m.y;e.k.q.x-=g*p;e.k.q.y-=g*r;e.k.H-=h*(s*r-x*p);e.ob();f.k.q.x+=k*p;f.k.q.y+=k*r;f.k.H+=l*(z*r-u*p);f.ob()}}return-0.0075<b};var Ad=function(a,b){Y.call(this,a,b)};O(Ad,Y);Ad.prototype.oc=function(a,b){Y.prototype.oc.call(this,a,b)};Ad.prototype.hf=function(){this.pb.Yb();this.kb.Yb()};var yd=function(a,b){Y.call(this,a,
b)};O(yd,Y);yd.prototype.oc=function(a,b){Y.prototype.oc.call(this,a,b)};yd.prototype.hf=function(){a:{var a=this.be,b=this.pb.Yb(),c=this.pb.Ga().r,d=this.kb.Yb(),e=this.kb.Ga().r;a.Db=0;for(var f=e.position.x+(e.m.i.x*d.Ra.x+e.m.j.x*d.Ra.y)-c.position.x,g=e.position.y+(e.m.i.y*d.Ra.x+e.m.j.y*d.Ra.y)-c.position.y,e=f*c.m.i.x+g*c.m.i.y,c=f*c.m.j.x+g*c.m.j.y,f=0,g=-Number.MAX_VALUE,h=b.La+d.La,k=0;k<b.Ba;++k){var l=b.oa[k].x*(e-b.F[k].x)+b.oa[k].y*(c-b.F[k].y);if(l>h)break a;l>g&&(g=l,f=k)}l=f+1;l>=
b.Ba&&(l=0);var k=b.F[f],m=b.F[l];g<Number.MIN_VALUE?(a.Db=1,a.Ea=2,a.tc.B(b.oa[f]),a.ma.x=0.5*(k.x+m.x),a.ma.y=0.5*(k.y+m.y),a.ca[0].ma.B(d.Ra),a.ca[0].xe.zh(0)):0>=(e-k.x)*(m.x-k.x)+(c-k.y)*(m.y-k.y)?(e-k.x)*(e-k.x)+(c-k.y)*(c-k.y)>h*h||(a.Db=1,a.Ea=2,a.tc.x=e-k.x,a.tc.y=c-k.y,a.tc.Rc(),a.ma.B(k),a.ca[0].ma.B(d.Ra),a.ca[0].xe.zh(0)):0>=(e-m.x)*(k.x-m.x)+(c-m.y)*(k.y-m.y)?(e-m.x)*(e-m.x)+(c-m.y)*(c-m.y)>h*h||(a.Db=1,a.Ea=2,a.tc.x=e-m.x,a.tc.y=c-m.y,a.tc.Rc(),a.ma.B(m),a.ca[0].ma.B(d.Ra),a.ca[0].xe.zh(0)):
(l=0.5*(k.x+m.x),k=0.5*(k.y+m.y),g=(e-l)*b.oa[f].x+(c-k)*b.oa[f].y,g>h||(a.Db=1,a.Ea=2,a.tc.x=b.oa[f].x,a.tc.y=b.oa[f].y,a.tc.Rc(),a.ma.Set(l,k),a.ca[0].ma.B(d.Ra),a.ca[0].xe.zh(0)))}};var Bd=function(a,b){Y.call(this,a,b)};O(Bd,Y);Bd.prototype.oc=function(a,b){Y.prototype.oc.call(this,a,b)};Bd.prototype.hf=function(){this.pb.Yb();this.kb.Yb()};var zd=function(a,b){Y.call(this,a,b)};O(zd,Y);zd.prototype.oc=function(a,b){Y.prototype.oc.call(this,a,b)};zd.prototype.hf=function(){var a=this.be,b=this.pb.Yb(),
c=this.pb.Ga().r,d=this.kb.Yb(),e=this.kb.Ga().r;a.Db=0;var f=b.La+d.La,g=qc(b,c,d,e),h=g.Jr;if(!(g.cn>f)){var k=qc(d,e,b,c);if(!(k.cn>f)){var l=b,m=d,n=c,p=e,u=0;a.Ea=2;k.cn>0.98*g.cn+0.001&&(l=d,m=b,n=e,p=c,h=k.Jr,a.Ea=4,u=1);b=h;c=p;d=Id;void 0===b&&(b=0);for(var e=n.m.i.x*l.oa[b].x+n.m.j.x*l.oa[b].y,g=n.m.i.y*l.oa[b].x+n.m.j.y*l.oa[b].y,k=c.m.i.x*e+c.m.i.y*g,g=c.m.j.x*e+c.m.j.y*g,e=k,k=0,r=Number.MAX_VALUE,s=0;s<m.Ba;s++){var x=e*m.oa[s].x+g*m.oa[s].y;x<r&&(r=x,k=s)}e=k+1;e>=m.Ba&&(e=0);d[0].he.x=
c.position.x+(c.m.i.x*m.F[k].x+c.m.j.x*m.F[k].y);d[0].he.y=c.position.y+(c.m.i.y*m.F[k].x+c.m.j.y*m.F[k].y);d[0].id.qr(b);d[0].id.mr(k);d[0].id.nr(0);d[1].he.x=c.position.x+(c.m.i.x*m.F[e].x+c.m.j.x*m.F[e].y);d[1].he.y=c.position.y+(c.m.i.y*m.F[e].x+c.m.j.y*m.F[e].y);d[1].id.qr(b);d[1].id.mr(e);d[1].id.nr(1);b=l.F[h];h=h+1<l.Ba?l.F[h+1]:l.F[0];Jd.Set(h.x-b.x,h.y-b.y);Jd.Rc();Kd.x=Jd.y;Kd.y=-Jd.x;Ld.Set(0.5*(b.x+h.x),0.5*(b.y+h.y));Md.x=n.m.i.x*Jd.x+n.m.j.x*Jd.y;Md.y=n.m.i.y*Jd.x+n.m.j.y*Jd.y;Nd.x=
-Md.x;Nd.y=-Md.y;Od.x=Md.y;Od.y=-Md.x;Pd.x=n.position.x+(n.m.i.x*b.x+n.m.j.x*b.y);Pd.y=n.position.y+(n.m.i.y*b.x+n.m.j.y*b.y);Qd.x=n.position.x+(n.m.i.x*h.x+n.m.j.x*h.y);Qd.y=n.position.y+(n.m.i.y*h.x+n.m.j.y*h.y);if(!(2>oc(Rd,Id,Nd,-Md.x*Pd.x-Md.y*Pd.y+f)||2>oc(Sd,Rd,Md,Md.x*Qd.x+Md.y*Qd.y+f))){a.tc.B(Kd);a.ma.B(Ld);n=Od.x*Pd.x+Od.y*Pd.y;for(l=h=0;2>l;++l)Od.x*Sd[l].he.x+Od.y*Sd[l].he.y-n<=f&&(b=Sd[l].he.x-p.position.x,m=Sd[l].he.y-p.position.y,a.ca[h].ma.x=b*p.m.i.x+m*p.m.i.y,a.ca[h].ma.y=b*p.m.j.x+
m*p.m.j.y,a.ca[h].xe.Set(Sd[l].id),a.ca[h].xe.Xu(u),h++);a.Db=h}}}};var Ud=function(){this.Pc="Controller"+Td++;this.ya=null;this.pc=new Rc};Ud.prototype.Zf=q();Ud.prototype.xi=function(a){this.pc.xi(a);a.Cj(this)};Ud.prototype.Sj=function(a){this.pc.Sj(a);a.Tj(this)};Ud.prototype.pl=function(){for(var a=this.pc.za(Qc);a;a=a.next)this.Sj(a.body)};var Td=0,Vd=function(){Ud.call(this);this.Kc=P.p(0,-1);this.Oe=this.offset=0;this.cu=P.p(0,0);this.Jx=2;this.Ev=1;this.Xy=!0;this.ws=null};O(Vd,Ud);Vd.prototype.Zf=
function(){this.Xy&&(this.ws=this.ya.vp.Nb());for(var a=this.pc.za(Vc);a;a=a.next){for(var b=a.body,c=P.p(0,0),d=P.p(0,0),e=0,f=0,g=b.Dn().za();g;g=g.next){var h=P.p(0,0),k=g.pe.Yb().rl(this.Kc,this.offset,b.xd(),h),e=e+k;c.x+=k*h.x;c.y+=k*h.y;var l=0,l=1,f=f+k*l;d.x+=k*h.x*l;d.y+=k*h.y*l}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=f,d.y/=f,f=this.ws.Kg(),f.Qc(this.Oe*e),b.Ge(f,d),f=b.yu(c),f.Wn(this.cu),f.Qc(-this.Jx*e),b.Ge(f,c),b.nl(-b.ve/b.M*e*b.yl()*this.Ev),P.mc(c),P.mc(d))}};var Wd=function(){Ud.call(this);
this.Iq=P.p(0,0)};O(Wd,Ud);Wd.prototype.Zf=function(a){a=P.p(this.Iq.x*a.ua,this.Iq.y*a.ua);for(var b=this.pc.za(Vc);b;b=b.next){var c=b.body,d=c.Xf();c.Ah(P.p(d.x+a.x,d.y+a.y))}P.mc(a)};var Xd=function(){Ud.call(this);this.vu=P.p(0,0)};O(Xd,Ud);Xd.prototype.Zf=function(){for(var a=this.pc.za(Vc);a;a=a.next){var b=a.body;b.Ge(this.vu,b.Di())}};var Nc=function(){this.ko=this.jo=null;this.Vl={}};Nc.prototype.za=t("jo");Nc.prototype.Cj=function(a){var b=a.Pc;if(null==this.Vl[b]){a=new Yd(a);var c=this.ko;
null!=c?c.Je(a):this.jo=a;a.Ke(c);this.ko=a;this.Vl[b]=a}};Nc.prototype.Tj=function(a){a=a.Pc;var b=this.Vl[a];if(null!=b){var c=b.Be,b=b.next;null==c?this.jo=b:c.Je(b);null==b?this.ko=c:b.Ke(c);delete this.Vl[a]}};var Yd=function(a){this.Wr=a;this.Be=this.next=null};Yd.prototype.Je=aa("next");Yd.prototype.Ke=aa("Be");var Zd=function(){Ud.call(this);this.Qq=1;this.yx=!0};O(Zd,Ud);Zd.prototype.Zf=function(){var a=null,b=null,c=0,d=null,e=null,f=0,g=0,h=0,f=null;if(this.yx)for(var k=this.pc.za(Qc);k;k=
k.next)for(var a=k.body,b=a.Di(),c=a.M,l=this.pc.za(Qc);l;l=l.next){if(d=l.body,a.Dc()||d.Dc())e=d.Di(),f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=P.p(f,g),f.Qc(this.Qq/h/Math.sqrt(h)*c*d.M),a.Dc()&&a.Ge(f,b),f.Qc(-1),d.Dc()&&d.Ge(f,e),P.mc(f))}else for(k=this.pc.za(Qc);k;k=k.next)for(a=bodyNode.body,b=a.Di(),c=a.M,l=this.pc.za(Qc);l;l=l.next)if(d=bodyNode.body,a.Dc()||d.Dc())e=d.Di(),f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=P.p(f,g),f.Qc(this.Qq/h*c*d.M),a.Dc()&&a.Ge(f,b),f.Qc(-1),
d.Dc()&&d.Ge(f,e),P.mc(f))};var $d=function(){Ud.call(this);this.gv=new Q;this.Gp=0};O($d,Ud);$d.prototype.Zf=function(a){a=a.ua;if(!(a<=Number.MIN_VALUE)){a>this.Gp&&0<this.Gp&&(a=this.Gp);for(var b=this.pc.za(Vc);b;b=b.next){var c=b.body,d=c.Gn(S.Ab(this.gv,c.Fn(c.Xf())));c.Ah(P.p(c.Xf().x+d.x*a,c.Xf().y+d.y*a))}}};var X=function(a){this.bd=new ae;this.cd=new ae;this.Cf=P.p(0,0);this.Df=P.p(0,0);this.Ea=a.type;this.dh=this.ij=null;this.O=a.G;this.P=a.I;this.Ys=a.ho};X.prototype.nc=t("Ea");X.prototype.Jj=
t("O");X.prototype.Cn=t("P");X.prototype.xh=function(){return this.O.xh()&&this.P.xh()};X.ie=function(a){return a.ie()};X.prototype.je=q();X.prototype.Od=q();X.prototype.Bn=q();X.prototype.Nd=v(!1);X.iw=0;X.Oi=1;X.gw=2;X.qo=3;X.hw=4;X.xA=5;X.ew=6;X.fw=7;X.jw=8;X.dw=9;X.Xc=0;X.qf=1;X.rc=2;X.Sg=3;var Z=function(){this.type=X.iw;this.I=this.G=null;this.ho=!1},ae=q(),be=function(a){X.call(this,a);this.V=P.p(0,0);this.W=P.p(0,0);this.Vb=P.p(0,0);this.V.B(a.ab);this.W.B(a.bb);this.wp=a.length;this.tp=a.lm;
this.Px=a.Xl;this.Xs=this.gi=this.u=0};O(be,X);be.prototype.je=function(a){var b,c=0,d=this.O,e=this.P;b=d.r.m;var f=this.V.x-d.k.J.x,g=this.V.y-d.k.J.y,c=b.i.x*f+b.j.x*g,g=b.i.y*f+b.j.y*g,f=c;b=e.r.m;var h=this.W.x-e.k.J.x,k=this.W.y-e.k.J.y,c=b.i.x*h+b.j.x*k,k=b.i.y*h+b.j.y*k,h=c;this.Vb.x=e.k.q.x+h-d.k.q.x-f;this.Vb.y=e.k.q.y+k-d.k.q.y-g;c=Math.sqrt(this.Vb.x*this.Vb.x+this.Vb.y*this.Vb.y);0.005<c?this.Vb.Qc(1/c):this.Vb.Z();b=f*this.Vb.y-g*this.Vb.x;var l=h*this.Vb.y-k*this.Vb.x;b=d.D+d.L*b*b+
e.D+e.L*l*l;this.M=0!=b?1/b:0;if(0<this.tp){var c=c-this.wp,l=2*Math.PI*this.tp,m=this.M*l*l;this.gi=a.ua*(2*this.M*this.Px*l+a.ua*m);this.gi=0!=this.gi?1/this.gi:0;this.Xs=c*a.ua*m*this.gi;this.M=b+this.gi;this.M=0!=this.M?1/this.M:0}a.Hg?(this.u*=a.Sb,a=this.u*this.Vb.x,b=this.u*this.Vb.y,d.n.x-=d.D*a,d.n.y-=d.D*b,d.A-=d.L*(f*b-g*a),e.n.x+=e.D*a,e.n.y+=e.D*b,e.A+=e.L*(h*b-k*a)):this.u=0};be.prototype.Od=function(){var a=this.V.x-this.O.k.J.x,b=this.V.y-this.O.k.J.y,c=this.O.r.m.i.x*a+this.O.r.m.j.x*
b,b=this.O.r.m.i.y*a+this.O.r.m.j.y*b,a=c,d=this.W.x-this.P.k.J.x,e=this.W.y-this.P.k.J.y,c=this.P.r.m.i.x*d+this.P.r.m.j.x*e,e=this.P.r.m.i.y*d+this.P.r.m.j.y*e,d=c,f=-this.M*(this.Vb.x*(this.P.n.x-this.P.A*e-(this.O.n.x-this.O.A*b))+this.Vb.y*(this.P.n.y+this.P.A*d-(this.O.n.y+this.O.A*a))+this.Xs+this.gi*this.u);this.u+=f;c=f*this.Vb.x;f*=this.Vb.y;this.O.n.x-=this.O.D*c;this.O.n.y-=this.O.D*f;this.O.A-=this.O.L*(a*f-b*c);this.P.n.x+=this.P.D*c;this.P.n.y+=this.P.D*f;this.P.A+=this.P.L*(d*f-e*
c)};be.prototype.Nd=function(){if(0<this.tp)return!0;var a=this.V.x-this.O.k.J.x,b=this.V.y-this.O.k.J.y,c=this.O.r.m.i.x*a+this.O.r.m.j.x*b,b=this.O.r.m.i.y*a+this.O.r.m.j.y*b,a=c,d=this.W.x-this.P.k.J.x,e=this.W.y-this.P.k.J.y,c=this.P.r.m.i.x*d+this.P.r.m.j.x*e,e=this.P.r.m.i.y*d+this.P.r.m.j.y*e,d=c,f=this.P.k.q.x+d-this.O.k.q.x-a,g=this.P.k.q.y+e-this.O.k.q.y-b,h=Math.sqrt(f*f+g*g),c=S.fb(h-this.wp,-0.2,0.2),k=-this.M*c;this.Vb.Set(f/h,g/h);f=k*this.Vb.x;k*=this.Vb.y;this.O.k.q.x-=this.O.D*f;
this.O.k.q.y-=this.O.D*k;this.O.k.H-=this.O.L*(a*k-b*f);this.P.k.q.x+=this.P.D*f;this.P.k.q.y+=this.P.D*k;this.P.k.H+=this.P.L*(d*k-e*f);this.O.ob();this.P.ob();return 0.005>Math.abs(c)};var Wb=function(){Z.call(this);this.ab=P.p(0,0);this.bb=P.p(0,0);this.type=X.qo;this.length=1;this.Xl=this.lm=0};O(Wb,Z);Wb.prototype.Hb=function(a,b,c,d){this.G=a;this.I=b;this.ab.B(this.G.Cc(c));this.bb.B(this.I.Cc(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Xl=this.lm=0};Wb.prototype.ie=function(){return new be(this)};
var ce=function(a){X.call(this,a);this.Zd=P.p(0,0);this.$d=P.p(0,0);this.zp=new Q;this.Yd=P.p(0,0);this.Zd.B(a.ab);this.$d.B(a.bb);this.zp.Z();this.Dk=0;this.Yd.Z();this.qg=0;this.$x=a.gy;this.by=a.hy};O(ce,X);ce.prototype.je=function(a){var b,c=0,d=this.O,e=this.P;b=d.r.m;var f=this.Zd.x-d.k.J.x,g=this.Zd.y-d.k.J.y,c=b.i.x*f+b.j.x*g,g=b.i.y*f+b.j.y*g,f=c;b=e.r.m;var h=this.$d.x-e.k.J.x,k=this.$d.y-e.k.J.y,c=b.i.x*h+b.j.x*k,k=b.i.y*h+b.j.y*k,h=c;b=d.D;var c=e.D,l=d.L,m=e.L,n=new Q;n.i.x=b+c;n.j.x=
0;n.i.y=0;n.j.y=b+c;n.i.x+=l*g*g;n.j.x+=-l*f*g;n.i.y+=-l*f*g;n.j.y+=l*f*f;n.i.x+=m*k*k;n.j.x+=-m*h*k;n.i.y+=-m*h*k;n.j.y+=m*h*h;n.En(this.zp);this.Dk=l+m;0<this.Dk&&(this.Dk=1/this.Dk);a.Hg?(this.Yd.x*=a.Sb,this.Yd.y*=a.Sb,this.qg*=a.Sb,a=this.Yd,d.n.x-=b*a.x,d.n.y-=b*a.y,d.A-=l*(f*a.y-g*a.x+this.qg),e.n.x+=c*a.x,e.n.y+=c*a.y,e.A+=m*(h*a.y-k*a.x+this.qg)):(this.Yd.Z(),this.qg=0)};ce.prototype.Od=function(a){var b,c=0,d=this.O,e=this.P,f=d.n,g=d.A,h=e.n,k=e.A,l=d.D,m=e.D,n=d.L,p=e.L;b=d.r.m;var u=
this.Zd.x-d.k.J.x,r=this.Zd.y-d.k.J.y,c=b.i.x*u+b.j.x*r,r=b.i.y*u+b.j.y*r,u=c;b=e.r.m;var s=this.$d.x-e.k.J.x,x=this.$d.y-e.k.J.y,c=b.i.x*s+b.j.x*x,x=b.i.y*s+b.j.y*x,s=c;b=0;var c=-this.Dk*(k-g),z=this.qg;b=a.ua*this.by;this.qg=S.fb(this.qg+c,-b,b);c=this.qg-z;g-=n*c;k+=p*c;b=S.Ab(this.zp,P.p(-(h.x-k*x-f.x+g*r),-(h.y+k*s-f.y-g*u)));c=this.Yd.Nb();this.Yd.Vf(b);b=a.ua*this.$x;this.Yd.Fl()>b*b&&(this.Yd.Rc(),this.Yd.Qc(b));b=S.$a(this.Yd,c);f.x-=l*b.x;f.y-=l*b.y;g-=n*(u*b.y-r*b.x);h.x+=m*b.x;h.y+=m*
b.y;k+=p*(s*b.y-x*b.x);d.A=g;e.A=k};ce.prototype.Nd=v(!0);var de=function(){Z.call(this);this.ab=P.p(0,0);this.bb=P.p(0,0);this.type=X.dw;this.hy=this.gy=0};O(de,Z);de.prototype.Hb=function(a,b,c){this.G=a;this.I=b;this.ab.B(this.G.Cc(c));this.bb.B(this.I.Cc(c))};de.prototype.ie=function(){return new ce(this)};var fe=function(a){X.call(this,a);this.vg=P.p(0,0);this.wg=P.p(0,0);this.V=P.p(0,0);this.W=P.p(0,0);this.jb=new ee;var b=a.Wi.Ea,c=a.Xi.Ea;this.kj=this.ki=this.jj=this.ji=null;var d=0,e=0;this.Sx=
a.Wi.Jj();this.O=a.Wi.Cn();b==X.Oi?(this.ji=a.Wi,this.vg.B(this.ji.V),this.V.B(this.ji.W),d=this.ji.zl()):(this.jj=a.Wi,this.vg.B(this.jj.V),this.V.B(this.jj.W),d=this.jj.Lj());this.Tx=a.Xi.Jj();this.P=a.Xi.Cn();c==X.Oi?(this.ki=a.Xi,this.wg.B(this.ki.V),this.W.B(this.ki.W),e=this.ki.zl()):(this.kj=a.Xi,this.wg.B(this.kj.V),this.W.B(this.kj.W),e=this.kj.Lj());this.sb=a.ih;this.hj=d+this.sb*e;this.u=0};O(fe,X);fe.prototype.je=function(a){var b=this.Sx,c=this.Tx,d=this.O,e=this.P,f=0,g=0,h=0,k=0,l=
h=0,m=0;this.jb.Z();this.ji?(this.jb.Ch=-1,m+=d.L):(b=b.r.m,g=this.jj.rd,f=b.i.x*g.x+b.j.x*g.y,g=b.i.y*g.x+b.j.y*g.y,b=d.r.m,h=this.V.x-d.k.J.x,k=this.V.y-d.k.J.y,l=b.i.x*h+b.j.x*k,k=b.i.y*h+b.j.y*k,h=l*g-k*f,this.jb.Ue.Set(-f,-g),this.jb.Ch=-h,m+=d.D+d.L*h*h);this.ki?(this.jb.Dh=-this.sb,m+=this.sb*this.sb*e.L):(b=c.r.m,g=this.kj.rd,f=b.i.x*g.x+b.j.x*g.y,g=b.i.y*g.x+b.j.y*g.y,b=e.r.m,h=this.W.x-e.k.J.x,k=this.W.y-e.k.J.y,l=b.i.x*h+b.j.x*k,k=b.i.y*h+b.j.y*k,h=l*g-k*f,this.jb.Ve.Set(-this.sb*f,-this.sb*
g),this.jb.Dh=-this.sb*h,m+=this.sb*this.sb*(e.D+e.L*h*h));this.M=0<m?1/m:0;a.Hg?(d.n.x+=d.D*this.u*this.jb.Ue.x,d.n.y+=d.D*this.u*this.jb.Ue.y,d.A+=d.L*this.u*this.jb.Ch,e.n.x+=e.D*this.u*this.jb.Ve.x,e.n.y+=e.D*this.u*this.jb.Ve.y,e.A+=e.L*this.u*this.jb.Dh):this.u=0};fe.prototype.Od=function(){var a=this.O,b=this.P,c=-this.M*this.jb.nu(a.n,a.A,b.n,b.A);this.u+=c;a.n.x+=a.D*c*this.jb.Ue.x;a.n.y+=a.D*c*this.jb.Ue.y;a.A+=a.L*c*this.jb.Ch;b.n.x+=b.D*c*this.jb.Ve.x;b.n.y+=b.D*c*this.jb.Ve.y;b.A+=b.L*
c*this.jb.Dh};fe.prototype.Nd=function(){var a=this.O,b=this.P,c=0,d=0,c=this.ji?this.ji.zl():this.jj.Lj(),d=this.ki?this.ki.zl():this.kj.Lj(),c=-this.M*(this.hj-(c+this.sb*d));a.k.q.x+=a.D*c*this.jb.Ue.x;a.k.q.y+=a.D*c*this.jb.Ue.y;a.k.H+=a.L*c*this.jb.Ch;b.k.q.x+=b.D*c*this.jb.Ve.x;b.k.q.y+=b.D*c*this.jb.Ve.y;b.k.H+=b.L*c*this.jb.Dh;a.ob();b.ob();return!0};var ge=function(){Z.call(this);this.type=X.ew;this.Xi=this.Wi=null;this.ih=1};O(ge,Z);ge.prototype.Hb=function(a,b,c){this.Wi=a;this.G=a.Jj();
this.Xi=b;this.I=b.Jj();this.ih=c};ge.prototype.ie=function(){return new fe(this)};var ee=function(){this.Ue=P.p(0,0);this.Ve=P.p(0,0)};ee.prototype.Z=function(){this.Ue.Z();this.Ch=0;this.Ve.Z();this.Dh=0};ee.prototype.Set=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.Ue.B(a);this.Ch=b;this.Ve.B(c);this.Dh=d};ee.prototype.nu=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.Ue.x*a.x+this.Ue.y*a.y+this.Ch*b+(this.Ve.x*c.x+this.Ve.y*c.y)+this.Dh*d};var he=function(a){X.call(this,
a);this.V=P.p(0,0);this.W=P.p(0,0);this.rd=P.p(0,0);this.xg=P.p(0,0);this.N=P.p(0,0);this.$=P.p(0,0);this.T=new Q;this.u=P.p(0,0);this.V.B(a.ab);this.W.B(a.bb);this.rd.B(a.bi);this.xg.x=-this.rd.y;this.xg.y=this.rd.x;this.u.Z();this.Aa=this.dd=0;this.ae=a.op;this.de=a.Bq;this.Ap=a.Fp;this.Jk=a.pj;this.Xe=a.Nh;this.bh=a.Pi;this.qa=X.Xc;this.N.Z();this.$.Z()};O(he,X);he.prototype.Lj=function(){var a=this.O,b=this.P,c=a.Cl(this.V),d=b.Cl(this.W),b=d.x-c.x,c=d.y-c.y,a=a.Gn(this.rd);return a.x*b+a.y*c};
he.prototype.je=function(a){var b=this.O,c=this.P,d,e=0;this.Cf.B(b.vh());this.Df.B(c.vh());var f=b.xd();c.xd();d=b.r.m;var g=this.V.x-this.Cf.x,h=this.V.y-this.Cf.y,e=d.i.x*g+d.j.x*h,h=d.i.y*g+d.j.y*h,g=e;d=c.r.m;var k=this.W.x-this.Df.x,l=this.W.y-this.Df.y,e=d.i.x*k+d.j.x*l,l=d.i.y*k+d.j.y*l,k=e;d=c.k.q.x+k-b.k.q.x-g;e=c.k.q.y+l-b.k.q.y-h;this.qb=b.D;this.rb=c.D;this.Hc=b.L;this.Ic=c.L;this.N.B(S.Ab(f.m,this.rd));this.Ma=(d+g)*this.N.y-(e+h)*this.N.x;this.Na=k*this.N.y-l*this.N.x;this.dd=this.qb+
this.rb+this.Hc*this.Ma*this.Ma+this.Ic*this.Na*this.Na;this.dd=this.dd>Number.MIN_VALUE?1/this.dd:0;this.$.B(S.Ab(f.m,this.xg));this.Oa=(d+g)*this.$.y-(e+h)*this.$.x;this.Pa=k*this.$.y-l*this.$.x;f=this.qb;g=this.rb;h=this.Hc;k=this.Ic;this.T.i.x=f+g+h*this.Oa*this.Oa+k*this.Pa*this.Pa;this.T.i.y=h*this.Oa*this.Ma+k*this.Pa*this.Na;this.T.j.x=this.T.i.y;this.T.j.y=f+g+h*this.Ma*this.Ma+k*this.Na*this.Na;this.Xe?(d=this.N.x*d+this.N.y*e,0.01>Math.abs(this.de-this.ae)?this.qa=X.Sg:d<=this.ae?this.qa!=
X.qf&&(this.qa=X.qf,this.u.y=0):d>=this.de?this.qa!=X.rc&&(this.qa=X.rc,this.u.y=0):(this.qa=X.Xc,this.u.y=0)):this.qa=X.Xc;!1==this.bh&&(this.Aa=0);a.Hg?(this.u.x*=a.Sb,this.u.y*=a.Sb,this.Aa*=a.Sb,a=this.u.x*this.$.x+(this.Aa+this.u.y)*this.N.x,d=this.u.x*this.$.y+(this.Aa+this.u.y)*this.N.y,e=this.u.x*this.Oa+(this.Aa+this.u.y)*this.Ma,f=this.u.x*this.Pa+(this.Aa+this.u.y)*this.Na,b.n.x-=this.qb*a,b.n.y-=this.qb*d,b.A-=this.Hc*e,c.n.x+=this.rb*a,c.n.y+=this.rb*d,c.A+=this.Ic*f):(this.u.Z(),this.Aa=
0)};he.prototype.Od=function(a){var b=this.O,c=this.P,d=b.n,e=b.A,f=c.n,g=c.A,h=0,k=0,l=0,m=0;this.bh&&this.qa!=X.Sg&&(m=this.dd*(this.Jk-(this.N.x*(f.x-d.x)+this.N.y*(f.y-d.y)+this.Na*g-this.Ma*e)),h=this.Aa,k=a.ua*this.Ap,this.Aa=S.fb(this.Aa+m,-k,k),m=this.Aa-h,h=m*this.N.x,k=m*this.N.y,l=m*this.Ma,m*=this.Na,d.x-=this.qb*h,d.y-=this.qb*k,e-=this.Hc*l,f.x+=this.rb*h,f.y+=this.rb*k,g+=this.Ic*m);k=this.$.x*(f.x-d.x)+this.$.y*(f.y-d.y)+this.Pa*g-this.Oa*e;this.Xe&&this.qa!=X.Xc?(l=this.N.x*(f.x-
d.x)+this.N.y*(f.y-d.y)+this.Na*g-this.Ma*e,h=this.u.Nb(),a=this.T.Mg(P.p(0,0),-k,-l),this.u.Vf(a),this.qa==X.qf?this.u.y=Math.max(this.u.y,0):this.qa==X.rc&&(this.u.y=Math.min(this.u.y,0)),k=-k-(this.u.y-h.y)*this.T.j.x,l=0,l=0!=this.T.i.x?k/this.T.i.x+h.x:h.x,this.u.x=l,a.x=this.u.x-h.x,a.y=this.u.y-h.y,h=a.x*this.$.x+a.y*this.N.x,k=a.x*this.$.y+a.y*this.N.y,l=a.x*this.Oa+a.y*this.Ma,m=a.x*this.Pa+a.y*this.Na):(a=0,a=0!=this.T.i.x?-k/this.T.i.x:0,this.u.x+=a,h=a*this.$.x,k=a*this.$.y,l=a*this.Oa,
m=a*this.Pa);d.x-=this.qb*h;d.y-=this.qb*k;e-=this.Hc*l;f.x+=this.rb*h;f.y+=this.rb*k;g+=this.Ic*m;b.n.B(d);b.A=e;c.n.B(f);c.A=g};he.prototype.Nd=function(){var a=this.O,b=this.P,c=a.k.q,d=a.k.H,e=b.k.q,f=b.k.H,g,h=0,k=0,l=0,m=0,n=g=0,p=0,k=!1,u=0,r=Q.Ci(d),l=Q.Ci(f);g=r;var p=this.V.x-this.Cf.x,s=this.V.y-this.Cf.y,h=g.i.x*p+g.j.x*s,s=g.i.y*p+g.j.y*s,p=h;g=l;l=this.W.x-this.Df.x;m=this.W.y-this.Df.y;h=g.i.x*l+g.j.x*m;m=g.i.y*l+g.j.y*m;l=h;g=e.x+l-c.x-p;h=e.y+m-c.y-s;if(this.Xe){this.N=S.Ab(r,this.rd);
this.Ma=(g+p)*this.N.y-(h+s)*this.N.x;this.Na=l*this.N.y-m*this.N.x;var x=this.N.x*g+this.N.y*h;0.01>Math.abs(this.de-this.ae)?(u=S.fb(x,-0.2,0.2),n=Math.abs(x),k=!0):x<=this.ae?(u=S.fb(x-this.ae+0.005,-0.2,0),n=this.ae-x,k=!0):x>=this.de&&(u=S.fb(x-this.de+0.005,0,0.2),n=x-this.de,k=!0)}this.$=S.Ab(r,this.xg);this.Oa=(g+p)*this.$.y-(h+s)*this.$.x;this.Pa=l*this.$.y-m*this.$.x;r=P.p(0,0);s=this.$.x*g+this.$.y*h;n=Math.max(n,Math.abs(s));p=0;k?(k=this.qb,l=this.rb,m=this.Hc,g=this.Ic,this.T.i.x=k+
l+m*this.Oa*this.Oa+g*this.Pa*this.Pa,this.T.i.y=m*this.Oa*this.Ma+g*this.Pa*this.Na,this.T.j.x=this.T.i.y,this.T.j.y=k+l+m*this.Ma*this.Ma+g*this.Na*this.Na,this.T.Mg(r,-s,-u)):(k=this.qb,l=this.rb,m=this.Hc,g=this.Ic,u=k+l+m*this.Oa*this.Oa+g*this.Pa*this.Pa,r.x=0!=u?-s/u:0,r.y=0);u=r.x*this.$.x+r.y*this.N.x;k=r.x*this.$.y+r.y*this.N.y;s=r.x*this.Oa+r.y*this.Ma;r=r.x*this.Pa+r.y*this.Na;c.x-=this.qb*u;c.y-=this.qb*k;d-=this.Hc*s;e.x+=this.rb*u;e.y+=this.rb*k;f+=this.Ic*r;a.k.H=d;b.k.H=f;a.ob();
b.ob();return 0.005>=n&&p<=Yb};var ie=function(){Z.call(this);this.ab=P.p(0,0);this.bb=P.p(0,0);this.bi=P.p(0,0);this.type=X.fw;this.bi.Set(1,0);this.Nh=!1;this.Bq=this.op=0;this.Pi=!1;this.pj=this.Fp=0};O(ie,Z);ie.prototype.Hb=function(a,b,c,d){this.G=a;this.I=b;this.ab=this.G.Cc(c);this.bb=this.I.Cc(c);this.bi=this.G.Fn(d)};ie.prototype.ie=function(){return new he(this)};var je=function(a){X.call(this,a);this.V=P.p(0,0);this.W=P.p(0,0);this.rd=P.p(0,0);this.xg=P.p(0,0);this.N=P.p(0,0);this.$=P.p(0,
0);this.T=new ec;this.u=new dc(0,0,0);this.V.B(a.ab);this.W.B(a.bb);this.rd.B(a.bi);this.xg.x=-this.rd.y;this.xg.y=this.rd.x;this.cy=a.Lf;this.u.Z();this.Aa=this.dd=0;this.ae=a.op;this.de=a.Bq;this.Ap=a.Fp;this.Jk=a.pj;this.Xe=a.Nh;this.bh=a.Pi;this.qa=X.Xc;this.N.Z();this.$.Z()};O(je,X);je.prototype.Lj=function(){var a=this.O,b=this.P,c=a.Cl(this.V),d=b.Cl(this.W),b=d.x-c.x,c=d.y-c.y,a=a.Gn(this.rd);return a.x*b+a.y*c};je.prototype.je=function(a){var b=this.O,c=this.P,d,e=0;this.Cf.B(b.vh());this.Df.B(c.vh());
var f=b.xd();c.xd();d=b.r.m;var g=this.V.x-this.Cf.x,h=this.V.y-this.Cf.y,e=d.i.x*g+d.j.x*h,h=d.i.y*g+d.j.y*h,g=e;d=c.r.m;var k=this.W.x-this.Df.x,l=this.W.y-this.Df.y,e=d.i.x*k+d.j.x*l,l=d.i.y*k+d.j.y*l,k=e;d=c.k.q.x+k-b.k.q.x-g;e=c.k.q.y+l-b.k.q.y-h;this.qb=b.D;this.rb=c.D;this.Hc=b.L;this.Ic=c.L;this.N.B(S.Ab(f.m,this.rd));this.Ma=(d+g)*this.N.y-(e+h)*this.N.x;this.Na=k*this.N.y-l*this.N.x;this.dd=this.qb+this.rb+this.Hc*this.Ma*this.Ma+this.Ic*this.Na*this.Na;this.dd>Number.MIN_VALUE&&(this.dd=
1/this.dd);this.$.B(S.Ab(f.m,this.xg));this.Oa=(d+g)*this.$.y-(e+h)*this.$.x;this.Pa=k*this.$.y-l*this.$.x;f=this.qb;g=this.rb;h=this.Hc;k=this.Ic;this.T.i.x=f+g+h*this.Oa*this.Oa+k*this.Pa*this.Pa;this.T.i.y=h*this.Oa+k*this.Pa;this.T.i.z=h*this.Oa*this.Ma+k*this.Pa*this.Na;this.T.j.x=this.T.i.y;this.T.j.y=h+k;this.T.j.z=h*this.Ma+k*this.Na;this.T.ka.x=this.T.i.z;this.T.ka.y=this.T.j.z;this.T.ka.z=f+g+h*this.Ma*this.Ma+k*this.Na*this.Na;this.Xe?(d=this.N.x*d+this.N.y*e,0.01>Math.abs(this.de-this.ae)?
this.qa=X.Sg:d<=this.ae?this.qa!=X.qf&&(this.qa=X.qf,this.u.z=0):d>=this.de?this.qa!=X.rc&&(this.qa=X.rc,this.u.z=0):(this.qa=X.Xc,this.u.z=0)):this.qa=X.Xc;!1==this.bh&&(this.Aa=0);a.Hg?(this.u.x*=a.Sb,this.u.y*=a.Sb,this.Aa*=a.Sb,a=this.u.x*this.$.x+(this.Aa+this.u.z)*this.N.x,d=this.u.x*this.$.y+(this.Aa+this.u.z)*this.N.y,e=this.u.x*this.Oa+this.u.y+(this.Aa+this.u.z)*this.Ma,f=this.u.x*this.Pa+this.u.y+(this.Aa+this.u.z)*this.Na,b.n.x-=this.qb*a,b.n.y-=this.qb*d,b.A-=this.Hc*e,c.n.x+=this.rb*
a,c.n.y+=this.rb*d,c.A+=this.Ic*f):(this.u.Z(),this.Aa=0)};je.prototype.Od=function(a){var b=this.O,c=this.P,d=b.n,e=b.A,f=c.n,g=c.A,h=0,k=0,l=0,m=0;this.bh&&this.qa!=X.Sg&&(m=this.dd*(this.Jk-(this.N.x*(f.x-d.x)+this.N.y*(f.y-d.y)+this.Na*g-this.Ma*e)),h=this.Aa,a=a.ua*this.Ap,this.Aa=S.fb(this.Aa+m,-a,a),m=this.Aa-h,h=m*this.N.x,k=m*this.N.y,l=m*this.Ma,m*=this.Na,d.x-=this.qb*h,d.y-=this.qb*k,e-=this.Hc*l,f.x+=this.rb*h,f.y+=this.rb*k,g+=this.Ic*m);l=this.$.x*(f.x-d.x)+this.$.y*(f.y-d.y)+this.Pa*
g-this.Oa*e;k=g-e;this.Xe&&this.qa!=X.Xc?(a=this.N.x*(f.x-d.x)+this.N.y*(f.y-d.y)+this.Na*g-this.Ma*e,h=this.u.Nb(),a=this.T.Xj(new dc(0,0,0),-l,-k,-a),this.u.Vf(a),this.qa==X.qf?this.u.z=Math.max(this.u.z,0):this.qa==X.rc&&(this.u.z=Math.min(this.u.z,0)),l=-l-(this.u.z-h.z)*this.T.ka.x,k=-k-(this.u.z-h.z)*this.T.ka.y,k=this.T.Fi(P.p(0,0),l,k),k.x+=h.x,k.y+=h.y,this.u.x=k.x,this.u.y=k.y,a.x=this.u.x-h.x,a.y=this.u.y-h.y,a.z=this.u.z-h.z,h=a.x*this.$.x+a.z*this.N.x,k=a.x*this.$.y+a.z*this.N.y,l=a.x*
this.Oa+a.y+a.z*this.Ma,m=a.x*this.Pa+a.y+a.z*this.Na):(a=this.T.Fi(P.p(0,0),-l,-k),this.u.x+=a.x,this.u.y+=a.y,h=a.x*this.$.x,k=a.x*this.$.y,l=a.x*this.Oa+a.y,m=a.x*this.Pa+a.y);d.x-=this.qb*h;d.y-=this.qb*k;e-=this.Hc*l;f.x+=this.rb*h;f.y+=this.rb*k;g+=this.Ic*m;b.n.B(d);b.A=e;c.n.B(f);c.A=g};je.prototype.Nd=function(){var a=this.O,b=this.P,c=a.k.q,d=a.k.H,e=b.k.q,f=b.k.H,g,h=0,k=0,l=0,m=h=g=0,n=0,k=!1,p=0,u=Q.Ci(d),r=Q.Ci(f);g=u;var n=this.V.x-this.Cf.x,s=this.V.y-this.Cf.y,h=g.i.x*n+g.j.x*s,s=
g.i.y*n+g.j.y*s,n=h;g=r;r=this.W.x-this.Df.x;l=this.W.y-this.Df.y;h=g.i.x*r+g.j.x*l;l=g.i.y*r+g.j.y*l;r=h;g=e.x+r-c.x-n;h=e.y+l-c.y-s;if(this.Xe){this.N=S.Ab(u,this.rd);this.Ma=(g+n)*this.N.y-(h+s)*this.N.x;this.Na=r*this.N.y-l*this.N.x;var x=this.N.x*g+this.N.y*h;0.01>Math.abs(this.de-this.ae)?(p=S.fb(x,-0.2,0.2),m=Math.abs(x),k=!0):x<=this.ae?(p=S.fb(x-this.ae+0.005,-0.2,0),m=this.ae-x,k=!0):x>=this.de&&(p=S.fb(x-this.de+0.005,0,0.2),m=x-this.de,k=!0)}this.$=S.Ab(u,this.xg);this.Oa=(g+n)*this.$.y-
(h+s)*this.$.x;this.Pa=r*this.$.y-l*this.$.x;u=new dc(0,0,0);s=this.$.x*g+this.$.y*h;r=f-d-this.cy;m=Math.max(m,Math.abs(s));n=Math.abs(r);k?(k=this.qb,l=this.rb,g=this.Hc,h=this.Ic,this.T.i.x=k+l+g*this.Oa*this.Oa+h*this.Pa*this.Pa,this.T.i.y=g*this.Oa+h*this.Pa,this.T.i.z=g*this.Oa*this.Ma+h*this.Pa*this.Na,this.T.j.x=this.T.i.y,this.T.j.y=g+h,this.T.j.z=g*this.Ma+h*this.Na,this.T.ka.x=this.T.i.z,this.T.ka.y=this.T.j.z,this.T.ka.z=k+l+g*this.Ma*this.Ma+h*this.Na*this.Na,this.T.Xj(u,-s,-r,-p)):(k=
this.qb,l=this.rb,g=this.Hc,h=this.Ic,p=g*this.Oa+h*this.Pa,x=g+h,this.T.i.Set(k+l+g*this.Oa*this.Oa+h*this.Pa*this.Pa,p,0),this.T.j.Set(p,x,0),p=this.T.Fi(P.p(0,0),-s,-r),u.x=p.x,u.y=p.y,u.z=0);p=u.x*this.$.x+u.z*this.N.x;k=u.x*this.$.y+u.z*this.N.y;s=u.x*this.Oa+u.y+u.z*this.Ma;u=u.x*this.Pa+u.y+u.z*this.Na;c.x-=this.qb*p;c.y-=this.qb*k;d-=this.Hc*s;e.x+=this.rb*p;e.y+=this.rb*k;f+=this.Ic*u;a.k.H=d;b.k.H=f;a.ob();b.ob();return 0.005>=m&&n<=Yb};var ke=function(){Z.call(this);this.ab=P.p(0,0);this.bb=
P.p(0,0);this.bi=P.p(0,0);this.type=X.gw;this.bi.Set(1,0);this.Lf=0;this.Nh=!1;this.Bq=this.op=0;this.Pi=!1;this.pj=this.Fp=0};O(ke,Z);ke.prototype.Hb=function(a,b,c,d){this.G=a;this.I=b;this.ab=this.G.Cc(c);this.bb=this.I.Cc(c);this.bi=this.G.Fn(d);this.Lf=this.I.Oc()-this.G.Oc()};ke.prototype.ie=function(){return new je(this)};var me=function(a){X.call(this,a);this.vg=P.p(0,0);this.wg=P.p(0,0);this.V=P.p(0,0);this.W=P.p(0,0);this.Sa=P.p(0,0);this.Ta=P.p(0,0);this.we=this.O.ya.Ux;this.vg.x=a.qm.x-
this.we.r.position.x;this.vg.y=a.qm.y-this.we.r.position.y;this.wg.x=a.rm.x-this.we.r.position.x;this.wg.y=a.rm.y-this.we.r.position.y;this.V.B(a.ab);this.W.B(a.bb);this.sb=a.ih;this.hj=a.cp+this.sb*a.dp;this.bt=Math.min(a.dt,this.hj-this.sb*le);this.ct=Math.min(a.et,(this.hj-le)/this.sb);this.Bf=this.Af=this.u=0};O(me,X);me.prototype.je=function(a){var b=this.O,c=this.P,d;d=b.r.m;var e=this.V.x-b.k.J.x,f=this.V.y-b.k.J.y,g=d.i.x*e+d.j.x*f,f=d.i.y*e+d.j.y*f,e=g;d=c.r.m;var h=this.W.x-c.k.J.x,k=this.W.y-
c.k.J.y,g=d.i.x*h+d.j.x*k,k=d.i.y*h+d.j.y*k,h=g;d=c.k.q.x+h;var g=c.k.q.y+k,l=this.we.r.position.x+this.wg.x,m=this.we.r.position.y+this.wg.y;this.Sa.Set(b.k.q.x+e-(this.we.r.position.x+this.vg.x),b.k.q.y+f-(this.we.r.position.y+this.vg.y));this.Ta.Set(d-l,g-m);d=this.Sa.kf();g=this.Ta.kf();0.005<d?this.Sa.Qc(1/d):this.Sa.Z();0.005<g?this.Ta.Qc(1/g):this.Ta.Z();0<this.hj-d-this.sb*g?(this.Cp=X.Xc,this.u=0):this.Cp=X.rc;d<this.bt?(this.xp=X.Xc,this.Af=0):this.xp=X.rc;g<this.ct?(this.yp=X.Xc,this.Bf=
0):this.yp=X.rc;d=e*this.Sa.y-f*this.Sa.x;g=h*this.Ta.y-k*this.Ta.x;this.Hk=b.D+b.L*d*d;this.Ik=c.D+c.L*g*g;this.Rm=this.Hk+this.sb*this.sb*this.Ik;this.Hk=1/this.Hk;this.Ik=1/this.Ik;this.Rm=1/this.Rm;a.Hg?(this.u*=a.Sb,this.Af*=a.Sb,this.Bf*=a.Sb,a=(-this.u-this.Af)*this.Sa.x,d=(-this.u-this.Af)*this.Sa.y,g=(-this.sb*this.u-this.Bf)*this.Ta.x,l=(-this.sb*this.u-this.Bf)*this.Ta.y,b.n.x+=b.D*a,b.n.y+=b.D*d,b.A+=b.L*(e*d-f*a),c.n.x+=c.D*g,c.n.y+=c.D*l,c.A+=c.L*(h*l-k*g)):this.Bf=this.Af=this.u=0};
me.prototype.Od=function(){var a=this.O,b=this.P,c;c=a.r.m;var d=this.V.x-a.k.J.x,e=this.V.y-a.k.J.y,f=c.i.x*d+c.j.x*e,e=c.i.y*d+c.j.y*e,d=f;c=b.r.m;var g=this.W.x-b.k.J.x,h=this.W.y-b.k.J.y,f=c.i.x*g+c.j.x*h,h=c.i.y*g+c.j.y*h,g=f,k=f=c=0,l=0;c=l=c=l=k=f=c=0;this.Cp==X.rc&&(c=a.n.x+-a.A*e,f=a.n.y+a.A*d,k=b.n.x+-b.A*h,l=b.n.y+b.A*g,c=-(this.Sa.x*c+this.Sa.y*f)-this.sb*(this.Ta.x*k+this.Ta.y*l),l=this.Rm*-c,c=this.u,this.u=Math.max(0,this.u+l),l=this.u-c,c=-l*this.Sa.x,f=-l*this.Sa.y,k=-this.sb*l*this.Ta.x,
l=-this.sb*l*this.Ta.y,a.n.x+=a.D*c,a.n.y+=a.D*f,a.A+=a.L*(d*f-e*c),b.n.x+=b.D*k,b.n.y+=b.D*l,b.A+=b.L*(g*l-h*k));this.xp==X.rc&&(c=a.n.x+-a.A*e,f=a.n.y+a.A*d,c=-(this.Sa.x*c+this.Sa.y*f),l=-this.Hk*c,c=this.Af,this.Af=Math.max(0,this.Af+l),l=this.Af-c,c=-l*this.Sa.x,f=-l*this.Sa.y,a.n.x+=a.D*c,a.n.y+=a.D*f,a.A+=a.L*(d*f-e*c));this.yp==X.rc&&(k=b.n.x+-b.A*h,l=b.n.y+b.A*g,c=-(this.Ta.x*k+this.Ta.y*l),l=-this.Ik*c,c=this.Bf,this.Bf=Math.max(0,this.Bf+l),l=this.Bf-c,k=-l*this.Ta.x,l=-l*this.Ta.y,b.n.x+=
b.D*k,b.n.y+=b.D*l,b.A+=b.L*(g*l-h*k))};me.prototype.Nd=function(){var a=this.O,b=this.P,c,d=this.we.r.position.x+this.vg.x,e=this.we.r.position.y+this.vg.y,f=this.we.r.position.x+this.wg.x,g=this.we.r.position.y+this.wg.y,h=0,k=0,l=0,m=0,n=c=0,p=0,u=0,r=n=u=c=n=c=0;this.Cp==X.rc&&(c=a.r.m,h=this.V.x-a.k.J.x,k=this.V.y-a.k.J.y,n=c.i.x*h+c.j.x*k,k=c.i.y*h+c.j.y*k,h=n,c=b.r.m,l=this.W.x-b.k.J.x,m=this.W.y-b.k.J.y,n=c.i.x*l+c.j.x*m,m=c.i.y*l+c.j.y*m,l=n,c=a.k.q.x+h,n=a.k.q.y+k,p=b.k.q.x+l,u=b.k.q.y+
m,this.Sa.Set(c-d,n-e),this.Ta.Set(p-f,u-g),c=this.Sa.kf(),n=this.Ta.kf(),0.005<c?this.Sa.Qc(1/c):this.Sa.Z(),0.005<n?this.Ta.Qc(1/n):this.Ta.Z(),c=this.hj-c-this.sb*n,r=Math.max(r,-c),c=S.fb(c+0.005,-0.2,0),u=-this.Rm*c,c=-u*this.Sa.x,n=-u*this.Sa.y,p=-this.sb*u*this.Ta.x,u=-this.sb*u*this.Ta.y,a.k.q.x+=a.D*c,a.k.q.y+=a.D*n,a.k.H+=a.L*(h*n-k*c),b.k.q.x+=b.D*p,b.k.q.y+=b.D*u,b.k.H+=b.L*(l*u-m*p),a.ob(),b.ob());this.xp==X.rc&&(c=a.r.m,h=this.V.x-a.k.J.x,k=this.V.y-a.k.J.y,n=c.i.x*h+c.j.x*k,k=c.i.y*
h+c.j.y*k,h=n,c=a.k.q.x+h,n=a.k.q.y+k,this.Sa.Set(c-d,n-e),c=this.Sa.kf(),0.005<c?(this.Sa.x*=1/c,this.Sa.y*=1/c):this.Sa.Z(),c=this.bt-c,r=Math.max(r,-c),c=S.fb(c+0.005,-0.2,0),u=-this.Hk*c,c=-u*this.Sa.x,n=-u*this.Sa.y,a.k.q.x+=a.D*c,a.k.q.y+=a.D*n,a.k.H+=a.L*(h*n-k*c),a.ob());this.yp==X.rc&&(c=b.r.m,l=this.W.x-b.k.J.x,m=this.W.y-b.k.J.y,n=c.i.x*l+c.j.x*m,m=c.i.y*l+c.j.y*m,l=n,p=b.k.q.x+l,u=b.k.q.y+m,this.Ta.Set(p-f,u-g),n=this.Ta.kf(),0.005<n?(this.Ta.x*=1/n,this.Ta.y*=1/n):this.Ta.Z(),c=this.ct-
n,r=Math.max(r,-c),c=S.fb(c+0.005,-0.2,0),u=-this.Ik*c,p=-u*this.Ta.x,u=-u*this.Ta.y,b.k.q.x+=b.D*p,b.k.q.y+=b.D*u,b.k.H+=b.L*(l*u-m*p),b.ob());return 0.005>r};var le=1,ne=function(){Z.call(this);this.qm=P.p(0,0);this.rm=P.p(0,0);this.ab=P.p(0,0);this.bb=P.p(0,0);this.type=X.hw;this.qm.Set(-1,1);this.rm.Set(1,1);this.ab.Set(-1,0);this.bb.Set(1,0);this.et=this.dp=this.dt=this.cp=0;this.ih=1;this.ho=!0};O(ne,Z);ne.prototype.Hb=function(a,b,c,d,e,f,g){void 0===g&&(g=0);this.G=a;this.I=b;this.qm.B(c);
this.rm.B(d);this.ab=this.G.Cc(e);this.bb=this.I.Cc(f);a=e.x-c.x;c=e.y-c.y;this.cp=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.dp=Math.sqrt(c*c+d*d);this.ih=g;g=this.cp+this.ih*this.dp;this.dt=g-this.ih*le;this.et=(g-le)/this.ih};ne.prototype.ie=function(){return new me(this)};var oe=function(a){X.call(this,a);this.yd=new Q;this.Oj=new Q;this.Pj=new Q;this.Qj=new Q;this.ec=new dc(0,0,0);this.Pe=P.p(0,0);this.Kf=P.p(0,0);this.V=P.p(0,0);this.W=P.p(0,0);this.u=new dc(0,0,0);this.M=new ec;this.V.B(a.ab);
this.W.B(a.bb);this.Lk=a.Lf;this.u.Z();this.Aa=0;this.Pm=a.np;this.Dp=a.Aq;this.ay=a.ft;this.Jk=a.pj;this.Xe=a.Nh;this.bh=a.Pi;this.qa=X.Xc};O(oe,X);oe.prototype.zl=function(){return this.P.k.H-this.O.k.H-this.Lk};oe.prototype.je=function(a){var b=this.O,c=this.P,d,e=0;d=b.r.m;var f=this.V.x-b.k.J.x,g=this.V.y-b.k.J.y,e=d.i.x*f+d.j.x*g,g=d.i.y*f+d.j.y*g,f=e;d=c.r.m;var h=this.W.x-c.k.J.x,k=this.W.y-c.k.J.y,e=d.i.x*h+d.j.x*k,k=d.i.y*h+d.j.y*k,h=e;d=b.D;var e=c.D,l=b.L,m=c.L;this.M.i.x=d+e+g*g*l+k*
k*m;this.M.j.x=-g*f*l-k*h*m;this.M.ka.x=-g*l-k*m;this.M.i.y=this.M.j.x;this.M.j.y=d+e+f*f*l+h*h*m;this.M.ka.y=f*l+h*m;this.M.i.z=this.M.ka.x;this.M.j.z=this.M.ka.y;this.M.ka.z=l+m;this.dd=1/(l+m);this.bh||(this.Aa=0);if(this.Xe){var n=c.k.H-b.k.H-this.Lk;Math.abs(this.Dp-this.Pm)<2*Yb?this.qa=X.Sg:n<=this.Pm?(this.qa!=X.qf&&(this.u.z=0),this.qa=X.qf):n>=this.Dp?(this.qa!=X.rc&&(this.u.z=0),this.qa=X.rc):(this.qa=X.Xc,this.u.z=0)}else this.qa=X.Xc;a.Hg?(this.u.x*=a.Sb,this.u.y*=a.Sb,this.Aa*=a.Sb,
a=this.u.x,n=this.u.y,b.n.x-=d*a,b.n.y-=d*n,b.A-=l*(f*n-g*a+this.Aa+this.u.z),c.n.x+=e*a,c.n.y+=e*n,c.A+=m*(h*n-k*a+this.Aa+this.u.z)):(this.u.Z(),this.Aa=0)};oe.prototype.Od=function(a){var b=this.O,c=this.P,d=0,e=d=0,f=0,g=0,h=0,k=b.n,l=b.A,m=c.n,n=c.A,p=b.D,u=c.D,r=b.L,s=c.L;this.bh&&this.qa!=X.Sg&&(e=this.dd*-(n-l-this.Jk),f=this.Aa,g=a.ua*this.ay,this.Aa=S.fb(this.Aa+e,-g,g),e=this.Aa-f,l-=r*e,n+=s*e);if(this.Xe&&this.qa!=X.Xc){a=b.r.m;e=this.V.x-b.k.J.x;f=this.V.y-b.k.J.y;d=a.i.x*e+a.j.x*f;
f=a.i.y*e+a.j.y*f;e=d;a=c.r.m;g=this.W.x-c.k.J.x;h=this.W.y-c.k.J.y;d=a.i.x*g+a.j.x*h;h=a.i.y*g+a.j.y*h;g=d;a=m.x+-n*h-k.x- -l*f;var x=m.y+n*g-k.y-l*e;this.M.Xj(this.ec,-a,-x,-(n-l));this.qa==X.Sg?this.u.Vf(this.ec):this.qa==X.qf?(d=this.u.z+this.ec.z,0>d&&(this.M.Fi(this.Kf,-a,-x),this.ec.x=this.Kf.x,this.ec.y=this.Kf.y,this.ec.z=-this.u.z,this.u.x+=this.Kf.x,this.u.y+=this.Kf.y,this.u.z=0)):this.qa==X.rc&&(d=this.u.z+this.ec.z,0<d&&(this.M.Fi(this.Kf,-a,-x),this.ec.x=this.Kf.x,this.ec.y=this.Kf.y,
this.ec.z=-this.u.z,this.u.x+=this.Kf.x,this.u.y+=this.Kf.y,this.u.z=0));k.x-=p*this.ec.x;k.y-=p*this.ec.y;l-=r*(e*this.ec.y-f*this.ec.x+this.ec.z);m.x+=u*this.ec.x;m.y+=u*this.ec.y;n+=s*(g*this.ec.y-h*this.ec.x+this.ec.z)}else a=b.r.m,e=this.V.x-b.k.J.x,f=this.V.y-b.k.J.y,d=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=d,a=c.r.m,g=this.W.x-c.k.J.x,h=this.W.y-c.k.J.y,d=a.i.x*g+a.j.x*h,h=a.i.y*g+a.j.y*h,g=d,this.M.Fi(this.Pe,-(m.x+-n*h-k.x- -l*f),-(m.y+n*g-k.y-l*e)),this.u.x+=this.Pe.x,this.u.y+=this.Pe.y,k.x-=
p*this.Pe.x,k.y-=p*this.Pe.y,l-=r*(e*this.Pe.y-f*this.Pe.x),m.x+=u*this.Pe.x,m.y+=u*this.Pe.y,n+=s*(g*this.Pe.y-h*this.Pe.x);b.n.B(k);b.A=l;c.n.B(m);c.A=n};oe.prototype.Nd=function(){var a=0,b,c=this.O,d=this.P,e=0,f=b=0,g=0,h=0;if(this.Xe&&this.qa!=X.Xc){var a=d.k.H-c.k.H-this.Lk,k=0;this.qa==X.Sg?(a=S.fb(a-this.Pm,-Zb,Zb),k=-this.dd*a,e=Math.abs(a)):this.qa==X.qf?(a-=this.Pm,e=-a,a=S.fb(a+Yb,-Zb,0),k=-this.dd*a):this.qa==X.rc&&(e=a-=this.Dp,a=S.fb(a-Yb,0,Zb),k=-this.dd*a);c.k.H-=c.L*k;d.k.H+=d.L*
k;c.ob();d.ob()}b=c.r.m;k=this.V.x-c.k.J.x;a=this.V.y-c.k.J.y;f=b.i.x*k+b.j.x*a;a=b.i.y*k+b.j.y*a;k=f;b=d.r.m;var l=this.W.x-d.k.J.x,m=this.W.y-d.k.J.y,f=b.i.x*l+b.j.x*m,m=b.i.y*l+b.j.y*m,l=f,g=d.k.q.x+l-c.k.q.x-k,h=d.k.q.y+m-c.k.q.y-a,n=g*g+h*h;b=Math.sqrt(n);var f=c.D,p=d.D,u=c.L,r=d.L;n>0.05*0.05&&(n=1/(f+p),g=n*-g,h=n*-h,c.k.q.x-=0.5*f*g,c.k.q.y-=0.5*f*h,d.k.q.x+=0.5*p*g,d.k.q.y+=0.5*p*h,g=d.k.q.x+l-c.k.q.x-k,h=d.k.q.y+m-c.k.q.y-a);this.Oj.i.x=f+p;this.Oj.j.x=0;this.Oj.i.y=0;this.Oj.j.y=f+p;this.Pj.i.x=
u*a*a;this.Pj.j.x=-u*k*a;this.Pj.i.y=-u*k*a;this.Pj.j.y=u*k*k;this.Qj.i.x=r*m*m;this.Qj.j.x=-r*l*m;this.Qj.i.y=-r*l*m;this.Qj.j.y=r*l*l;this.yd.Ie(this.Oj);this.yd.kl(this.Pj);this.yd.kl(this.Qj);this.yd.Mg(pe,-g,-h);g=pe.x;h=pe.y;c.k.q.x-=c.D*g;c.k.q.y-=c.D*h;c.k.H-=c.L*(k*h-a*g);d.k.q.x+=d.D*g;d.k.q.y+=d.D*h;d.k.H+=d.L*(l*h-m*g);c.ob();d.ob();return 0.005>=b&&e<=Yb};var pe=P.p(0,0),Xb=function(){Z.call(this);this.ab=P.p(0,0);this.bb=P.p(0,0);this.type=X.Oi;this.ab.Z();this.bb.Z();this.pj=this.ft=
this.Aq=this.np=this.Lf=0;this.Pi=this.Nh=!1};O(Xb,Z);Xb.prototype.Hb=function(a,b,c){this.G=a;this.I=b;this.ab=this.G.Cc(c);this.bb=this.I.Cc(c);this.Lf=this.I.Oc()-this.G.Oc()};Xb.prototype.ie=function(){return new oe(this)};var qe=function(a){X.call(this,a);this.Zd=P.p(0,0);this.$d=P.p(0,0);this.u=new dc(0,0,0);this.M=new ec;this.Zd.B(a.ab);this.$d.B(a.bb);this.Lk=a.Lf};O(qe,X);qe.prototype.je=function(a){var b,c=0,d=this.O,e=this.P;b=d.r.m;var f=this.Zd.x-d.k.J.x,g=this.Zd.y-d.k.J.y,c=b.i.x*f+
b.j.x*g,g=b.i.y*f+b.j.y*g,f=c;b=e.r.m;var h=this.$d.x-e.k.J.x,k=this.$d.y-e.k.J.y,c=b.i.x*h+b.j.x*k,k=b.i.y*h+b.j.y*k,h=c;b=d.D;var c=e.D,l=d.L,m=e.L;this.M.i.x=b+c+g*g*l+k*k*m;this.M.j.x=-g*f*l-k*h*m;this.M.ka.x=-g*l-k*m;this.M.i.y=this.M.j.x;this.M.j.y=b+c+f*f*l+h*h*m;this.M.ka.y=f*l+h*m;this.M.i.z=this.M.ka.x;this.M.j.z=this.M.ka.y;this.M.ka.z=l+m;a.Hg?(this.u.x*=a.Sb,this.u.y*=a.Sb,this.u.z*=a.Sb,d.n.x-=b*this.u.x,d.n.y-=b*this.u.y,d.A-=l*(f*this.u.y-g*this.u.x+this.u.z),e.n.x+=c*this.u.x,e.n.y+=
c*this.u.y,e.A+=m*(h*this.u.y-k*this.u.x+this.u.z)):this.u.Z()};qe.prototype.Od=function(){var a,b=0,c=this.O,d=this.P,e=c.n,f=c.A,g=d.n,h=d.A,k=c.D,l=d.D,m=c.L,n=d.L;a=c.r.m;var p=this.Zd.x-c.k.J.x,u=this.Zd.y-c.k.J.y,b=a.i.x*p+a.j.x*u,u=a.i.y*p+a.j.y*u,p=b;a=d.r.m;var r=this.$d.x-d.k.J.x,s=this.$d.y-d.k.J.y,b=a.i.x*r+a.j.x*s,s=a.i.y*r+a.j.y*s,r=b;a=new dc(0,0,0);this.M.Xj(a,-(g.x-h*s-e.x+f*u),-(g.y+h*r-e.y-f*p),-(h-f));this.u.Vf(a);e.x-=k*a.x;e.y-=k*a.y;f-=m*(p*a.y-u*a.x+a.z);g.x+=l*a.x;g.y+=l*
a.y;h+=n*(r*a.y-s*a.x+a.z);c.A=f;d.A=h};qe.prototype.Nd=function(){var a,b=0,c=this.O,d=this.P;a=c.r.m;var e=this.Zd.x-c.k.J.x,f=this.Zd.y-c.k.J.y,b=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=b;a=d.r.m;var g=this.$d.x-d.k.J.x,h=this.$d.y-d.k.J.y,b=a.i.x*g+a.j.x*h,h=a.i.y*g+a.j.y*h,g=b;a=c.D;var b=d.D,k=c.L,l=d.L,m=d.k.q.x+g-c.k.q.x-e,n=d.k.q.y+h-c.k.q.y-f,p=d.k.H-c.k.H-this.Lk,u=Math.sqrt(m*m+n*n),r=Math.abs(p);0.05<u&&(k*=1,l*=1);this.M.i.x=a+b+f*f*k+h*h*l;this.M.j.x=-f*e*k-h*g*l;this.M.ka.x=-f*k-h*l;this.M.i.y=
this.M.j.x;this.M.j.y=a+b+e*e*k+g*g*l;this.M.ka.y=e*k+g*l;this.M.i.z=this.M.ka.x;this.M.j.z=this.M.ka.y;this.M.ka.z=k+l;var s=new dc(0,0,0);this.M.Xj(s,-m,-n,-p);c.k.q.x-=a*s.x;c.k.q.y-=a*s.y;c.k.H-=k*(e*s.y-f*s.x+s.z);d.k.q.x+=b*s.x;d.k.q.y+=b*s.y;d.k.H+=l*(g*s.y-h*s.x+s.z);c.ob();d.ob();return 0.005>=u&&r<=Yb};var re=function(){Z.call(this);this.ab=P.p(0,0);this.bb=P.p(0,0);this.type=X.jw;this.Lf=0};O(re,Z);re.prototype.Hb=function(a,b,c){this.G=a;this.I=b;this.ab.B(this.G.Cc(c));this.bb.B(this.I.Cc(c));
this.Lf=this.I.Oc()-this.G.Oc()};re.prototype.ie=function(){return new qe(this)};var Id=[new kc,new kc],Rd=[new kc,new kc],Sd=[new kc,new kc],Jd=P.p(0,0),Kd=P.p(0,0),Ld=P.p(0,0),Od=P.p(0,0),Md=P.p(0,0),Nd=P.p(0,0),Pd=P.p(0,0),Qd=P.p(0,0),kd=0,td=0,ud=0,rd=0,sd=0,ld=new Jc,md=new tc,nd=new Pb,od=new Pb,qd=new Ec,pd=new uc;Rb.Ly=new Pb;Sb.Hr=new Sb;new function(){this.position=P.p(0,0);this.cu=P.p(0,0);this.Kc=P.p(0,0);this.id=new jc};V.FA=new Pb;V.Et=new fc;V.Ft=new fc;var jd=new Kc,Gd=new Lc,Hd=new Fd}
function se(a,b,c,d,e,f){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=f-0.1||d-0.1<=b&&b<=f+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((f-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function te(a){var b=[],c=0,d=0,e=0,f=0,g=0,h=g=0,k=0,l=0,m=0,f=0,n,p,u,r,s,x=f=c=0,z=0,e=[],k=[],B=!1,H=[],D=[];for(D.push(a);D.length;){b=D[0];d=b.length;B=!0;for(c=0;c<d;c++)if(l=c,m=c<d-1?c+1:c+1-d,f=c<d-2?c+2:c+2-d,a=b[l],n=b[m],f=b[f],f=a.x*n.y+n.x*f.y+f.x*a.y-a.y*n.x-n.y*f.x-f.y*a.x,0>f){B=!1;k=1E9;for(e=0;e<d;e++)if(e!==l&&e!==m){c=e;f=e<d-1?e+1:0;p=b[c];u=b[f];h=a.x;r=a.y;var E=n.x,A=n.y,g=p.x;p=p.y;var C=u.x;u=u.y;var w=E-h,F=A-r,G=C-g,N=u-p,G=(G*(p-r)-N*(g-h))/(F*G-w*N),w=h+G*w,F=r+G*F,
h=se(E,A,h,r,w,F),g=se(w,F,g,p,C,u);if(r=h&&g?P.p(w,F):null)g=n.x-r.x,h=n.y-r.y,g=g*g+h*h,g<k&&(z=c,x=f,s=r,k=g)}if(1E9===k)return[];e=[];k=[];c=z;f=x;p=b[c];u=b[f];0.1>Math.abs(u.x-s.x)&&0.1>Math.abs(u.y-s.y)||e.push(s);0.1>Math.abs(p.x-s.x)&&0.1>Math.abs(p.y-s.y)||k.push(s);z=-1;for(x=l;;){if(x!==f)e.push(b[x]);else{if(0>z||z>=d)return[];se(u.x,u.y,b[z].x,b[z].y,a.x,a.y)||e.push(b[x]);break}z=x;0>x-1?x=d-1:x--}e.reverse();z=-1;for(x=m;;){if(x!==c)k.push(b[x]);else{if(0>z||z>=d)return[];x!==c||se(p.x,
p.y,b[z].x,b[z].y,n.x,n.y)||k.push(b[x]);break}z=x;x+1>d-1?x=0:x++}D.push(e,k);D.shift();break}B&&H.push(D.shift())}return H}
function ue(a){for(var b=0;4E3>b;b++)P.$f.push(new P(0,0));this.g=a;this.gd=new V(P.p(0,10),!0);this.eu=10;this.Yo=-1;a=new Sb;a.Y=this;a.ol=function(a){this.Y.g.Dy(a.pb.Ga().cg.R,a.kb.Ga().cg.R)};this.gd.kr(a);a=new Tb;a.Y=this;a.Bh=function(a,b){if(this.Y.Bv)return!0;var e=a.Ga().cg.R.type,f=b.Ga().cg.R.type,g=e.aa.Ru;return g&&g.contains(f)?!1:(g=f.aa.Ru)&&g.contains(e)?!1:!0};this.gd.jr(a);this.Qy=0;this.il=8;this.Wk=3;this.Bv=!0}
(function(){function a(){}function b(){}var c=P,d=T,e=Vb,f=W,g=Ub,h=Wb,k=Xb,l=ue.prototype;l.Ec=function(a){this.Y=a;this.g=a.g};l.Ec.prototype.eb=q();l.Zb=function(a,b){this.type=a;this.Y=a.Y;this.R=b;this.g=a.g;this.gd=this.Y.gd};var m=l.Zb.prototype;m.eb=function(){this.Jo=0!==this.Xa[0];this.Ur=this.Xa[1];this.Op=0!==this.Xa[2];this.Oe=this.Xa[3];this.tf=this.Xa[4];this.Nf=this.Xa[5];this.ai=this.Xa[6];this.Eh=this.Xa[7];this.Ih=0!==this.Xa[8];this.enabled=0!==this.Xa[9];this.body=null;this.R.zc();
this.Yi=this.R.x;this.Zi=this.R.y;this.Xo=this.R.Q;this.Wo=this.Zo=0;this.zt=this.xk=!1;this.Uo=null;this.Vo=-1;this.Ed?(this.Ed.length=0,this.ze.length=0,this.Yg.clear()):(this.Ed=[],this.ze=[],this.Yg=new Ga);var a=this;this.fe||(this.it=function(b){a.oy(b)});this.g.zv(this.it)};m.tt=function(){this.R.zc();this.mo();this.Uo=this.R.gb;this.Vo=this.R.U};m.tj=function(){this.Zl();this.ze.length=0;this.Yg.clear();this.body&&(this.gd.ul(this.body),this.body=null);this.g.Ey(this.it)};m.Jd=function(){var a=
{e:this.enabled,im:this.Jo,pr:this.Op,d:this.Oe,fr:this.tf,re:this.Nf,ld:this.ai,ad:this.Eh,b:this.Ih,mcj:this.ze};if(this.enabled){var b=c.p(0,0);b.B(this.body.Xf());a.vx=b.x;a.vy=b.y;a.om=this.body.yl()}return a};m.te=function(a){this.Zl();this.ze.length=0;this.Yg.clear();this.body&&(this.gd.ul(this.body),this.body=null);this.enabled=a.e;this.Jo=a.im;this.Op=a.pr;this.Oe=a.d;this.tf=a.fr;this.Nf=a.re;this.ai=a.ld;this.Eh=a.ad;this.Ih=a.b;this.Yi=this.R.x;this.Zi=this.R.y;this.Xo=this.R.Q;this.Zo=
this.R.width;this.Wo=this.R.height;this.enabled&&(this.mo(),this.body.Ah(c.p(a.vx,a.vy)),this.body.Vj(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.ac(!0),this.ze=a.mcj)};m.Zj=function(){this.enabled&&this.Wp();this.Y.Yo=this.g.Ee-1};m.oy=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.ze.length;b<c;b++)this.ze[d]=this.ze[b],d<this.Ed.length&&(this.Ed[d]=this.Ed[b]),this.ze[b].Ze[1]==e?this.gd.wl(this.Ed[b]):d++;this.ze.length=d;d<this.Ed.length&&(this.Ed.length=d);this.Yg.remove(a)};m.Zl=function(){var a,
b;a=0;for(b=this.Ed.length;a<b;a++)this.gd.wl(this.Ed[a]);this.Ed.length=0};m.Wp=function(){var a,b,c;a=0;for(b=this.ze.length;a<b;a++)switch(c=this.ze[a],c.type){case 0:this.Sv(c.Ze[0],c.Ze[1],c.Ze[2],c.Ze[3],c.Ze[4]);break;case 1:this.Uv(c.Ze[0],c.Ze[1]);break;case 2:this.Tv(c.Ze[0],c.Ze[1],c.Ze[2],c.Ze[3])}};m.Pv=function(){this.body&&(this.Zl(),this.gd.ul(this.body),this.body=null,this.R.aa.Sd=null)};m.mo=function(){if(this.enabled){var a=this.R,b=!1,h=null,k=null,l,m,z,B,H,D;this.body&&(b=!0,
h=c.p(0,0),h.B(this.body.Xf()),k=this.body.yl(),this.Pv());var E=new e;E.Oe=this.Oe;E.tf=this.tf;E.Nf=this.Nf;D=new d;D.type=this.Jo?0:2;a.zc();D.position.x=0.02*a.Rb.Ok();D.position.y=0.02*a.Rb.Pk();D.Q=a.Q;D.wo=this.Op;D.ai=this.ai;D.Eh=this.Eh;D.Ih=this.Ih;m=this.R.md&&!this.R.md.Js();this.body=this.gd.xn(D);this.body.cg=this;D=this.Ur;m||0!==this.Ur||(D=1);m=Math.max(Math.abs(a.width),1);z=Math.max(Math.abs(a.height),1);var A=0>a.width;H=0>a.height;if(0===D){D=a.Q;a.Q=0;a.Za();a.zc();var C=a.Rb.Ok()-
a.x,w=a.Rb.Pk()-a.y;a.Q=D;a.Za();a.md.Pr(A?-m:m,H?-z:z,0);var F=a.md.Ym;B=a.md.Qp;D=[];D.length=B;for(l=0;l<B;l++)D[l]=c.p(F[2*l]-C,F[2*l+1]-w);A!==H&&D.reverse();l=m*z;H=P;var C=te(D),A=[],G,N,R,na,M,ha,U;R=0;for(na=C.length;R<na;R++){F=C[R];w=[];w.length=F.length;M=U=0;for(ha=F.length;M<ha;M++)G=F[M],N=F[(M+1)%ha],U+=G.x*N.y-G.y*N.x,w[M]=H.p(G.x,G.y);U=Math.abs(U/2);U>=0.001*l&&A.push(w)}for(l=0;l<B;l++)c.mc(D[l]);if(A.length)for(l=0,m=A.length;l<m;l++){D=A[l];z=0;for(B=D.length;z<B;z++)H=D[z],
H.x*=0.02,H.y*=0.02;E.shape=new f;E.shape.Qn(D,D.length);this.body.sl(E);z=0;for(B=D.length;z<B;z++)c.mc(D[z])}else E.shape=new f,E.shape.Hl(0.01*m,0.01*z),this.body.sl(E)}else 1===D?(E.shape=new f,E.shape.Hl(0.01*m,0.01*z)):E.shape=new g(0.01*Math.min(m,z)),this.body.sl(E);a.aa.Sd=this.body;this.Zo=a.width;this.Wo=a.height;if(b)for(this.body.Ah(h),this.body.Vj(k),c.mc(h),this.Wp(),D=this.Yg.vi(),l=0,m=D.length;l<m;l++)a=D[l].aa.Sd.cg,a.Zl(),a.Wp()}};m.ef=function(){if(this.enabled){var a=this.R,
b;0===this.Y.Qy?b=this.g.ph/60:(b=this.g.Do(this.R),b>1/30&&(b=1/30));this.g.Ee>this.Y.Yo&&0<this.g.ph&&(this.gd.Zf(b,this.Y.il,this.Y.Wk),this.gd.Mq(),this.Y.Yo=this.g.Ee);if(this.zt||a.width!==this.Zo||a.height!==this.Wo||a.gb!==this.Uo||a.U!==this.Vo)this.mo(),this.zt=!1,this.Uo=a.gb,this.Vo=a.U;b=a.Q!==this.Xo;if(a.x!==this.Yi||a.y!==this.Zi){a.zc();var d=a.Rb.Ok(),e=a.Rb.Pk(),f=d-this.Yi,g=e-this.Zi;this.body.Sn(c.p(0.02*d,0.02*e));this.body.Ah(c.p(f,g));this.xk=!0;this.body.ac(!0)}else this.xk&&
(this.xk=!1,this.body.Ah(c.p(0,0)),this.body.Sn(c.p(0.02*a.Rb.Ok(),0.02*a.Rb.Pk())));b&&(this.body.Gl(a.Q),this.body.ac(!0));d=this.body.r.position;b=d.x/0.02;d=d.y/0.02;e=this.body.Oc();if(b!==a.x||d!==a.y||e!==a.Q)if(a.x=b,a.y=d,a.Q=e,a.Za(),a.zc(),b=a.Rb.Ok()-a.x,d=a.Rb.Pk()-a.y,0!==b||0!==d)a.x-=b,a.y-=d,a.Za();this.Yi=a.x;this.Zi=a.y;this.Xo=a.Q}};m.Rh=function(a){return-1!==a&&this.R.uf?0===a&&this.body?(this.body.r.position.x+this.body.vh().x)/0.02:this.R.uf(a,!0):this.R.x};m.Sh=function(a){return-1!==
a&&this.R.uf?0===a&&this.body?(this.body.r.position.y+this.body.vh().y)/0.02:this.R.uf(a,!1):this.R.y};l.ja=new (q());a.prototype.Ge=function(a,b,d){if(this.enabled){var e=this.Rh(d);d=this.Sh(d);this.body.Ge(c.p(a,b),c.p(0.02*e,0.02*d))}};a.prototype.ll=function(a,b,d){if(this.enabled){b=K(b);var e=this.Rh(d);d=this.Sh(d);this.body.Ge(c.p(Math.cos(b)*a,Math.sin(b)*a),c.p(0.02*e,0.02*d))}};a.prototype.ml=function(a,b,d){if(this.enabled){var e=this.Rh(d);d=this.Sh(d);this.body.ml(c.p(a,b),c.p(0.02*
e,0.02*d));this.xk=!1;this.Yi=this.R.x;this.Zi=this.R.y}};a.prototype.ju=function(a,b,d){if(this.enabled){b=K(b);var e=this.Rh(d);d=this.Sh(d);this.body.ml(c.p(Math.cos(b)*a,Math.sin(b)*a),c.p(0.02*e,0.02*d));this.xk=!1;this.Yi=this.R.x;this.Zi=this.R.y}};a.prototype.nl=function(a){this.enabled&&this.body.nl(K(a))};a.prototype.Vj=function(a){this.enabled&&(this.body.Vj(K(a)),this.body.ac(!0))};m.Sv=function(a,b,d,e,f){if(this.enabled&&(b=this.g.jk(b))&&b!=this.R&&b.aa.Sd){b.aa.Sd.cg.Yg.add(this.R);
var g=this.Rh(a);a=this.Sh(a);var k;b.uf?(k=b.uf(d,!0),d=b.uf(d,!1)):(k=b.x,d=b.y);var l=g-k,m=a-d,D=new h;D.Hb(this.body,b.aa.Sd,c.p(0.02*g,0.02*a),c.p(0.02*k,0.02*d));D.length=0.02*Math.sqrt(l*l+m*m);D.Xl=e;D.lm=f;this.Ed.push(this.gd.tl(D))}};m.Uv=function(a,b){if(this.enabled){var d=this.g.jk(b);if(d&&d!=this.R&&d.aa.Sd){d.aa.Sd.cg.Yg.add(this.R);var e=this.Rh(a),f=this.Sh(a),g=new k;g.Hb(this.body,d.aa.Sd,c.p(0.02*e,0.02*f));this.Ed.push(this.gd.tl(g))}}};m.Tv=function(a,b,d,e){if(this.enabled&&
(b=this.g.jk(b))&&b!=this.R&&b.aa.Sd){b.aa.Sd.cg.Yg.add(this.R);var f=this.Rh(a);a=this.Sh(a);var g=new k;g.Hb(this.body,b.aa.Sd,c.p(0.02*f,0.02*a));g.Nh=!0;g.np=K(d);g.Aq=K(e);this.Ed.push(this.gd.tl(g))}};a.prototype.$u=function(a){if(a!==this.Y.eu){this.gd.lr(c.p(0,a));this.Y.eu=a;var b,d=this.Y.Qk.vi();a=0;for(b=d.length;a<b;a++)d[a].aa.Sd&&d[a].aa.Sd.ac(!0)}};l.Ob=new a;b.prototype.kv=function(a){a.Ca(this.enabled?this.body.Xf().x/0.02:0)};b.prototype.lv=function(a){a.Ca(this.enabled?this.body.Xf().y/
0.02:0)};l.Gc=new b})();function ve(a){this.g=a}
(function(){var a=ve.prototype;a.Ec=function(a){this.Y=a;this.g=a.g};a.Ec.prototype.eb=q();a.Zb=function(a,c){this.type=a;this.Y=a.Y;this.R=c;this.g=a.g;this.mode=0};a=a.Zb.prototype;a.eb=function(){this.mode=this.Xa[0]};a.ef=q();a.mn=function(){this.R.zc();var a=this.R.Ia,c=this.R.K.Wa,d=!1;0===this.mode?(0>this.R.x&&(this.R.x=0,d=!0),0>this.R.y&&(this.R.y=0,d=!0),this.R.x>c.width&&(this.R.x=c.width,d=!0),this.R.y>c.height&&(this.R.y=c.height,d=!0)):(0>a.left&&(this.R.x-=a.left,d=!0),0>a.top&&(this.R.y-=
a.top,d=!0),a.right>c.width&&(this.R.x-=a.right-c.width,d=!0),a.bottom>c.height&&(this.R.y-=a.bottom-c.height,d=!0));d&&this.R.Za()}})();function we(a){this.g=a;this.lq=this.en=this.cl=this.kq=0}
(function(){var a=we.prototype;a.Ec=function(a){this.Y=a;this.g=a.g};a.Ec.prototype.eb=q();a.Zb=function(a,b){this.type=a;this.Y=a.Y;this.R=b;this.g=a.g};var b=a.Zb.prototype;b.eb=q();b.Jd=function(){return{smg:this.Y.kq,ss:this.Y.cl,se:this.Y.en,smd:this.Y.lq}};b.te=function(a){this.Y.kq=a.smg;this.Y.cl=a.ss;this.Y.en=a.se;this.Y.lq=a.smd};b.ef=q();b.mn=function(){var a=this.Y.Qk.Zy(),b=0,e=0,f,g;f=0;for(g=a.length;f<g;f++)b+=a[f].x,e+=a[f].y;f=this.R.K.Wa;var h=this.g.Zg.Mc,k=g=0;h>=this.Y.cl&&
h<this.Y.en&&(g=this.Y.kq*Math.min(this.g.ph,1),0===this.Y.lq&&(g*=1-(h-this.Y.cl)/(this.Y.en-this.Y.cl)),h=2*Math.random()*Math.PI,k=Math.random()*g,g=Math.cos(h)*k,k*=Math.sin(h));f.fq(b/a.length+g);f.gq(e/a.length+k)};a.Ob=new (q())})();function xe(a){this.g=a}
(function(){var a=xe.prototype;a.Ec=function(a){this.Y=a;this.g=a.g};a.Ec.prototype.eb=q();a.Zb=function(a,c){this.type=a;this.Y=a.Y;this.R=c;this.g=a.g};a=a.Zb.prototype;a.eb=function(){this.mode=this.Xa[0]};a.ef=function(){var a=this.R;a.zc();var c=a.Ia,d=a.K,e=d.Wa,f=0,g=0,h=0,k=0;0===this.mode?(g=e.width,k=e.height):(f=d.ud,g=d.vd,h=d.wd,k=d.td);c.right<f?(a.x=g-1+(a.x-c.left),a.Za()):c.left>g?(a.x=f+1-(c.right-a.x),a.Za()):c.bottom<h?(a.y=k-1+(a.y-c.top),a.Za()):c.top>k&&(a.y=h+1-(c.bottom-a.y),
a.Za())}})();
function ob(){return[null,null,[[Lb,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Ob,!1,!0,!0,!0,!0,!0,!0,!0,!0],[Mb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Nb,!1,!0,!0,!0,!0,!0,!0,!0,!1]],[["t0",Mb,!1,[],3,0,null,[["Default",5,!1,1,0,!1,0xefba93ab0ce01,[["images/pg-sheet0.png",307,0,0,20,60,1,0.55,0.3,[],[-0.225,-0.0916667,0.34375,-0.1,0.45,0.2,0.25,0.675,-0.10625,0.675,-0.2375,0.2],0]]]],[["Physics",ue,0x3f8f6f0b60599],["ScrollTo",we,0x4ac6a8c798926],["BoundToLayout",ve,9331890140723884]],!1,!1,0x6cd0f4d1bf797,[]],["t1",Lb,
!1,[],0,0,null,null,[],!1,!1,897906065075821,[],[]],["t2",Nb,!1,[],0,0,null,null,[],!1,!1,8605030576288583,[]],["t3",Ob,!1,[],0,0,["images/tiledbackground.png",1406,1],null,[],!1,!1,8081196790558828,[]],["t4",Ob,!1,[],0,0,["images/tiledbackground2.png",970,0],null,[],!1,!1,7996495786513416,[]],["t5",Ob,!1,[],0,0,["images/tiledbackground3.png",870,0],null,[],!1,!1,7896129033847635,[]],["t6",Mb,!1,[],2,0,null,[["Default",0,!1,0,0,!1,7135213905790807,[["images/aster-sheet0.png",245,0,0,66,66,1,0.5,0.5,
[],[-0.0757576,-0.0757576,0,-0.121212,0.121212,0,0.0757576,0.0757576,0,0.151515,-0.121212,0.121212,-0.136364,0],0],["images/aster-sheet1.png",435,0,0,66,66,1,0.5,0.5,[],[-0.181818,-0.181818,0,-0.242424,0.121212,-0.121212,0.227273,0,0.166667,0.166667,0,0.242424,-0.212121,0.212121,-0.227273,0],0],["images/aster-sheet2.png",834,0,0,66,66,1,0.5,0.5,[],[-0.151515,-0.151515,0,-0.409091,0.348485,-0.348485,0.469697,0,0.333333,0.333333,0,0.378788,-0.409091,0.409091,-0.348485,0],0]]]],[["Physics",ue,6528818549340861],
["Wrap",xe,0x4860089dd8878]],!1,!1,6538427700213381,[]]],[],[["Layout 1",3E3,2E3,!1,"Event sheet 1",8942455323704623,[["Layer 0",0,0xae9b96b4250f2,!0,[255,255,255],!1,0.3,0.3,1,!1,1,0,0,[[[0,0,0,3E3,2E3,0,0,1,0,0,0,0,[]],3,0,[],[],[0,0]]],[]],["Layer 1",1,4790239324639709,!0,[255,255,255],!0,0.5,0.5,1,!1,1,0,0,[[[0,0,0,3E3,2E3,0,0,1,0,0,0,0,[]],4,4,[],[],[0,0]]],[]],["Layer 2",2,0x8a451505ca0fe,!0,[255,255,255],!0,0.7,0.7,1,!1,1,0,0,[[[0,0,0,3E3,2E3,0,0,1,0,0,0,0,[]],5,5,[],[],[0,0]]],[]],["game",
3,4798697802313138,!0,[255,255,255],!0,1,1,1,!1,1,0,0,[[[308,260,0,80,240,0,0,1,0.55,0.3,0,0,[]],0,1,[],[[0,0,0,1,0,0.2,0.3,0.6,0,1],[],[1]],[0,"Default",0,1]],[[1001,495,0,264,264,0,0,1,0.5,0.5,0,0,[]],6,6,[],[[0,0,0,2,0.5,0.2,0,0.1,0,1],[0]],[0,"Default",0,1]]],[]],["HUD",4,5576685154776444,!0,[255,255,255],!0,0,0,1,!1,1,0,0,[[[-40,-63,0,777,437,0,0,1,0,0,0,0,[]],2,3,[],[],["Text",0,"12pt Arial","rgb(255,255,255)",0,0,0,0,0]]],[]]],[],[]]],[["Event sheet 1",[[1,"spinta",0,60,!1,!1,6647783976563883,
!1],[0,null,!1,null,8519010950434335,[[-1,L.prototype.ja.br,null,1,!1,!1,!1,0xa59a6005a63a1,!1]],[[0,ue.prototype.Ob.$u,"Physics",0xe694d421ab3e8,!1,[[0,[0,0]]]]]],[0,null,!1,null,5814668868878316,[[1,Lb.prototype.ja.Dl,null,0,!1,!1,!1,5604284143956791,!1,[[9,39]]]],[[0,ue.prototype.Ob.ll,"Physics",0xd730cd8f3125f,!1,[[0,[23,"spinta"]],[0,[0,0]],[7,[0,0]]]],[0,Mb.prototype.Ob.or,null,0xbbcec4e43b4c5,!1,[[3,0]]]]],[0,null,!1,null,0x629248850a79f,[[1,Lb.prototype.ja.Dl,null,0,!1,!1,!1,0xed580ff0be819,
!1,[[9,37]]]],[[0,ue.prototype.Ob.ll,"Physics",5637467439187661,!1,[[0,[23,"spinta"]],[0,[0,180]],[7,[0,0]]]],[0,Mb.prototype.Ob.or,null,7899837598203872,!1,[[3,1]]]]],[0,null,!1,null,0x6c9b9833ace46,[[1,Lb.prototype.ja.Dl,null,0,!1,!1,!1,6160573050916153,!1,[[9,38]]]],[[0,ue.prototype.Ob.ll,"Physics",5694587857814523,!1,[[0,[23,"spinta"]],[0,[0,270]],[7,[0,0]]]]]],[0,null,!1,null,0xb47a1f618f97,[[1,Lb.prototype.ja.Dl,null,0,!1,!1,!1,9134343726930468,!1,[[9,40]]]],[[0,ue.prototype.Ob.ll,"Physics",
8077066312186862,!1,[[0,[23,"spinta"]],[0,[0,90]],[7,[0,0]]]]]],[0,null,!1,null,5836800924020178,[[-1,L.prototype.ja.uu,null,0,!1,!1,!1,0x49a9aae5eaafd,!1]],[[2,Nb.prototype.Ob.Yu,null,9283742386239328,!1,[[7,[10,[10,[19,L.prototype.Gc["int"],[[22,0,"Physics",ue.prototype.Gc.kv,!1,null]]],[2," "]],[19,L.prototype.Gc["int"],[[22,0,"Physics",ue.prototype.Gc.lv,!1,null]]]]]]]]],[0,null,!1,null,6994721941179687,[[-1,L.prototype.ja.tu,null,0,!1,!1,!1,7961217680387041,!1,[[0,[1,0.5]]]]],[[-1,L.prototype.Ob.qu,
null,6113157063936308,!1,[[4,6],[5,[0,3]],[0,[19,L.prototype.Gc.random,[[0,0],[0,3E3]]]],[0,[19,L.prototype.Gc.random,[[0,0],[0,2E3]]]]]],[6,Mb.prototype.Ob.Vu,null,9623934804320668,!1,[[0,[19,L.prototype.Gc.floor,[[19,L.prototype.Gc.random,[[0,0],[0,3]]]]]]]],[6,ue.prototype.Ob.ju,"Physics",8917347685108734,!1,[[0,[0,10]],[0,[19,L.prototype.Gc.random,[[0,0],[0,360]]]],[7,[0,0]]]]]]]]],"media/",!0,1440,1080,5,!0,!1,!0,"1.0.0.0",1,!1,0,!1,7,!1,[]]};
